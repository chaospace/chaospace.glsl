!function(e,t){"use strict";function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function i(){if(null===Y){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),n=new Float32Array([0,0,2,0,0,2]);void 0!==(Y=new e.BufferGeometry).setAttribute?(Y.setAttribute("position",new e.BufferAttribute(t,3)),Y.setAttribute("uv",new e.BufferAttribute(n,2))):(Y.addAttribute("position",new e.BufferAttribute(t,3)),Y.addAttribute("uv",new e.BufferAttribute(n,2)))}return Y}function r(e,t){const n=[];let i;for(;null!==(i=e.exec(t));)n.push(i[1]);return n}function o(e,t,n){let i,r;for(const o of t){i="$1"+e+o.charAt(0).toUpperCase()+o.slice(1),r=new RegExp("([^\\.])(\\b"+o+"\\b)","g");for(const e of n.entries())null!==e[1]&&n.set(e[0],e[1].replace(r,i))}}function s(e,t,n,i,s,a,l){const c=t.blendMode,u=new Map([["fragment",t.fragmentShader],["vertex",t.vertexShader]]),h=void 0!==u.get("fragment")&&u.get("fragment").indexOf("mainImage")>=0,d=void 0!==u.get("fragment")&&u.get("fragment").indexOf("mainUv")>=0;let f=[],p=[],m=!1,g=!1;if(void 0===u.get("fragment"))console.error("Missing fragment shader",t);else if(d&&0!=(l&oe.CONVOLUTION))console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(h||d){if(d&&(n.set(K.FRAGMENT_MAIN_UV,n.get(K.FRAGMENT_MAIN_UV)+"\t"+e+"MainUv(UV);\n"),m=!0),null!==u.get("vertex")&&u.get("vertex").indexOf("mainSupport")>=0){let t="\t"+e+"MainSupport(";u.get("vertex").indexOf("uv")>=0&&(t+="vUv"),t+=");\n",n.set(K.VERTEX_MAIN_SUPPORT,n.get(K.VERTEX_MAIN_SUPPORT)+t),f=f.concat(r(/(?:varying\s+\w+\s+(\w*))/g,u.get("vertex"))),p=p.concat(f).concat(r(/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,u.get("vertex")))}if(p=p.concat(r(/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,u.get("fragment"))).concat(Array.from(t.defines.keys()).map(e=>e.replace(/\([\w\s,]*\)/g,""))).concat(Array.from(t.uniforms.keys())),t.uniforms.forEach((t,n)=>a.set(e+n.charAt(0).toUpperCase()+n.slice(1),t)),t.defines.forEach((t,n)=>s.set(e+n.charAt(0).toUpperCase()+n.slice(1),t)),o(e,p,s),o(e,p,u),i.set(c.blendFunction,c),h){let t=e+"MainImage(color0, UV, ";0!=(l&oe.DEPTH)&&u.get("fragment").indexOf("depth")>=0&&(t+="depth, ",g=!0),t+="color1);\n\t";const i=e+"BlendOpacity";a.set(i,c.opacity),t+="color0 = blend"+c.blendFunction+"(color0, color1, "+i+");\n\n\t",n.set(K.FRAGMENT_MAIN_IMAGE,n.get(K.FRAGMENT_MAIN_IMAGE)+t),n.set(K.FRAGMENT_HEAD,n.get(K.FRAGMENT_HEAD)+"uniform float "+i+";\n\n")}n.set(K.FRAGMENT_HEAD,n.get(K.FRAGMENT_HEAD)+u.get("fragment")+"\n"),null!==u.get("vertex")&&n.set(K.VERTEX_HEAD,n.get(K.VERTEX_HEAD)+u.get("vertex")+"\n")}else console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);return{varyings:f,transformedUv:m,readDepth:g}}function a(e,t,n){return e+(t-e)*n}function l(e){return a(a(e[0],e[1],.75),a(e[2],e[3],.75),.875)}function c(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)ge.call(n,i)&&(e[i]=n[i])}return e}function u(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function h(e){Object.defineProperty(u.prototype,e,{get:d(e),configurable:!0})}function d(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function f(e,t){if(!e.chars||0===e.chars.length)return null;var n=T(e.chars,t);return n>=0?e.chars[n]:null}function p(e){for(var t=0;t<ye.length;t++){var n=ye[t].charCodeAt(0),i=T(e.chars,n);if(i>=0)return e.chars[i].height}return 0}function m(e){for(var t=0;t<Te.length;t++){var n=Te[t].charCodeAt(0),i=T(e.chars,n);if(i>=0)return e.chars[i]}return 0}function g(e){for(var t=0;t<be.length;t++){var n=be[t].charCodeAt(0),i=T(e.chars,n);if(i>=0)return e.chars[i].height}return 0}function v(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var i=e.kernings,r=0;r<i.length;r++){var o=i[r];if(o.first===t&&o.second===n)return o.amount}return 0}function y(e){return"center"===e?Me:"right"===e?Pe:we}function T(e,t,n){for(var i=n=n||0;i<e.length;i++)if(e[i].id===t)return i;return-1}function b(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===Ge.call(e.buffer)||Array.isArray(e)}function x(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function S(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&x(e.slice(0,0))}function w(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var i,r,o,s,a=e[0].length,l=e.length*a;t&&"string"!=typeof t||(t=new(Ee(t||"float32"))(l+n));var c=t.length-n;if(l!==c)throw new Error("source length "+l+" ("+a+"x"+e.length+") does not match destination length "+c);for(i=0,o=n;i<e.length;i++)for(r=0;r<a;r++)t[o++]=null===e[i][r]?NaN:e[i][r]}else if(t&&"string"!=typeof t)t.set(e,n);else{var u=Ee(t||"float32");if(Array.isArray(e)||"array"===t)for(i=0,o=n,s=(t=new u(e.length+n)).length;o<s;o++,i++)t[o]=null===e[i]?NaN:e[i];else 0===n?t=new u(e):(t=new u(e.length+n)).set(e,n)}return t}function M(e,t,n,i){"number"!=typeof n&&(n=1),"string"!=typeof i&&(i="uint16");var r=!e.index&&"function"!=typeof e.setIndex,o=A(r?e.getAttribute("index"):e.index,t,n,i);o&&(r?e.setAttribute("index",o):e.index=o)}function P(e,t,n,i,r){if("number"!=typeof i&&(i=3),"string"!=typeof r&&(r="float32"),Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==i)throw new Error("Nested vertex array has unexpected size; expected "+i+" but found "+n[0].length);var o=A(e.getAttribute(t),n,i,r);o&&e.setAttribute(t,o)}function A(e,t,n,i){if(t=t||[],!e||C(e,t,n)){t=Le(t,i);var r=e&&"function"!=typeof e.setArray;return e&&!r||(r&&!Ne&&(Ne=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),e=new THREE.BufferAttribute(t,n)),e.itemSize=n,e.needsUpdate=!0,e.setArray,e}return Le(t,e.array),e.needsUpdate=!0,null}function C(e,t,n){if(e.itemSize!==n)return!0;if(!e.array)return!0;var i=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?i!==t.length*n:i!==t.length}function E(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function G(e){var t=e.length/je;Ue.min[0]=e[0],Ue.min[1]=e[1],Ue.max[0]=e[0],Ue.max[1]=e[1];for(var n=0;n<t;n++){var i=e[n*je+0],r=e[n*je+1];Ue.min[0]=Math.min(i,Ue.min[0]),Ue.min[1]=Math.min(r,Ue.min[1]),Ue.max[0]=Math.max(i,Ue.max[0]),Ue.max[1]=Math.max(r,Ue.max[1])}}function H(e){We.call(this),"string"==typeof e&&(e={text:e}),this._opt=Ve({},e),e&&this.update(e)}function B(){return at==st?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var D={pages:["MONACO.png"],chars:[{id:106,index:77,char:"j",width:18,height:45,xoffset:3,yoffset:0,xadvance:25,chnl:15,x:0,y:0,page:0},{id:81,index:52,char:"Q",width:26,height:44,xoffset:0,yoffset:1,xadvance:25,chnl:15,x:0,y:46,page:0},{id:40,index:11,char:"(",width:20,height:43,xoffset:3,yoffset:0,xadvance:25,chnl:15,x:19,y:0,page:0},{id:41,index:12,char:")",width:20,height:43,xoffset:2,yoffset:0,xadvance:25,chnl:15,x:0,y:91,page:0},{id:91,index:62,char:"[",width:19,height:43,xoffset:6,yoffset:0,xadvance:25,chnl:15,x:0,y:135,page:0},{id:93,index:64,char:"]",width:19,height:43,xoffset:0,yoffset:0,xadvance:25,chnl:15,x:0,y:179,page:0},{id:123,index:94,char:"{",width:20,height:43,xoffset:3,yoffset:0,xadvance:25,chnl:15,x:0,y:223,page:0},{id:125,index:96,char:"}",width:20,height:43,xoffset:2,yoffset:0,xadvance:25,chnl:15,x:20,y:135,page:0},{id:36,index:7,char:"$",width:21,height:40,xoffset:2,yoffset:-1,xadvance:25,chnl:15,x:21,y:91,page:0},{id:37,index:8,char:"%",width:27,height:36,xoffset:-1,yoffset:1,xadvance:25,chnl:15,x:20,y:179,page:0},{id:38,index:9,char:"&",width:27,height:36,xoffset:-1,yoffset:1,xadvance:25,chnl:15,x:27,y:44,page:0},{id:47,index:18,char:"/",width:26,height:36,xoffset:0,yoffset:1,xadvance:25,chnl:15,x:40,y:0,page:0},{id:48,index:19,char:"0",width:24,height:36,xoffset:0,yoffset:1,xadvance:25,chnl:15,x:41,y:132,page:0},{id:51,index:22,char:"3",width:22,height:36,xoffset:2,yoffset:1,xadvance:25,chnl:15,x:43,y:81,page:0},{id:54,index:25,char:"6",width:24,height:36,xoffset:1,yoffset:1,xadvance:25,chnl:15,x:55,y:37,page:0},{id:56,index:27,char:"8",width:22,height:36,xoffset:2,yoffset:1,xadvance:25,chnl:15,x:67,y:0,page:0},{id:57,index:28,char:"9",width:24,height:36,xoffset:0,yoffset:1,xadvance:25,chnl:15,x:0,y:267,page:0},{id:63,index:34,char:"?",width:19,height:36,xoffset:3,yoffset:1,xadvance:25,chnl:15,x:21,y:216,page:0},{id:64,index:35,char:"@",width:27,height:36,xoffset:-1,yoffset:1,xadvance:25,chnl:15,x:0,y:304,page:0},{id:67,index:38,char:"C",width:22,height:36,xoffset:1,yoffset:1,xadvance:25,chnl:15,x:25,y:253,page:0},{id:71,index:42,char:"G",width:22,height:36,xoffset:1,yoffset:1,xadvance:25,chnl:15,x:41,y:216,page:0},{id:79,index:50,char:"O",width:24,height:36,xoffset:0,yoffset:1,xadvance:25,chnl:15,x:48,y:169,page:0},{id:83,index:54,char:"S",width:21,height:36,xoffset:2,yoffset:1,xadvance:25,chnl:15,x:66,y:74,page:0},{id:92,index:63,char:"\\",width:26,height:36,xoffset:0,yoffset:1,xadvance:25,chnl:15,x:80,y:37,page:0},{id:100,index:71,char:"d",width:22,height:36,xoffset:1,yoffset:1,xadvance:25,chnl:15,x:90,y:0,page:0},{id:102,index:73,char:"f",width:22,height:36,xoffset:2,yoffset:0,xadvance:25,chnl:15,x:66,y:111,page:0},{id:105,index:76,char:"i",width:19,height:36,xoffset:2,yoffset:0,xadvance:25,chnl:15,x:88,y:74,page:0},{id:124,index:95,char:"|",width:5,height:36,xoffset:10,yoffset:1,xadvance:25,chnl:15,x:107,y:37,page:0},{id:33,index:4,char:"!",width:8,height:35,xoffset:9,yoffset:2,xadvance:25,chnl:15,x:0,y:341,page:0},{id:50,index:21,char:"2",width:21,height:35,xoffset:2,yoffset:1,xadvance:25,chnl:15,x:0,y:377,page:0},{id:53,index:24,char:"5",width:21,height:35,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:9,y:341,page:0},{id:74,index:45,char:"J",width:19,height:35,xoffset:1,yoffset:2,xadvance:25,chnl:15,x:28,y:290,page:0},{id:85,index:56,char:"U",width:22,height:35,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:0,y:413,page:0},{id:98,index:69,char:"b",width:22,height:35,xoffset:2,yoffset:1,xadvance:25,chnl:15,x:22,y:377,page:0},{id:103,index:74,char:"g",width:22,height:35,xoffset:1,yoffset:11,xadvance:25,chnl:15,x:31,y:326,page:0},{id:104,index:75,char:"h",width:21,height:35,xoffset:2,yoffset:1,xadvance:25,chnl:15,x:48,y:253,page:0},{id:107,index:78,char:"k",width:22,height:35,xoffset:3,yoffset:1,xadvance:25,chnl:15,x:48,y:289,page:0},{id:108,index:79,char:"l",width:20,height:35,xoffset:1,yoffset:1,xadvance:25,chnl:15,x:64,y:206,page:0},{id:35,index:6,char:"#",width:24,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:70,y:242,page:0},{id:49,index:20,char:"1",width:21,height:34,xoffset:3,yoffset:2,xadvance:25,chnl:15,x:73,y:148,page:0},{id:52,index:23,char:"4",width:25,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:89,y:111,page:0},{id:55,index:26,char:"7",width:22,height:34,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:108,y:74,page:0},{id:59,index:30,char:";",width:10,height:34,xoffset:8,yoffset:10,xadvance:25,chnl:15,x:85,y:183,page:0},{id:65,index:36,char:"A",width:26,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:95,y:146,page:0},{id:66,index:37,char:"B",width:21,height:34,xoffset:3,yoffset:2,xadvance:25,chnl:15,x:115,y:109,page:0},{id:68,index:39,char:"D",width:22,height:34,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:113,y:0,page:0},{id:69,index:40,char:"E",width:19,height:34,xoffset:3,yoffset:2,xadvance:25,chnl:15,x:113,y:35,page:0},{id:70,index:41,char:"F",width:19,height:34,xoffset:4,yoffset:2,xadvance:25,chnl:15,x:131,y:70,page:0},{id:72,index:43,char:"H",width:22,height:34,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:133,y:35,page:0},{id:73,index:44,char:"I",width:20,height:34,xoffset:3,yoffset:2,xadvance:25,chnl:15,x:136,y:0,page:0},{id:75,index:46,char:"K",width:24,height:34,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:0,y:449,page:0},{id:76,index:47,char:"L",width:19,height:34,xoffset:3,yoffset:2,xadvance:25,chnl:15,x:23,y:413,page:0},{id:77,index:48,char:"M",width:25,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:0,y:484,page:0},{id:78,index:49,char:"N",width:22,height:34,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:25,y:448,page:0},{id:80,index:51,char:"P",width:22,height:34,xoffset:3,yoffset:2,xadvance:25,chnl:15,x:43,y:413,page:0},{id:82,index:53,char:"R",width:24,height:34,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:45,y:362,page:0},{id:84,index:55,char:"T",width:25,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:54,y:325,page:0},{id:86,index:57,char:"V",width:26,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:71,y:277,page:0},{id:87,index:58,char:"W",width:26,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:95,y:218,page:0},{id:88,index:59,char:"X",width:25,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:96,y:181,page:0},{id:89,index:60,char:"Y",width:25,height:34,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:0,y:519,page:0},{id:90,index:61,char:"Z",width:22,height:34,xoffset:2,yoffset:2,xadvance:25,chnl:15,x:0,y:554,page:0},{id:112,index:83,char:"p",width:22,height:34,xoffset:2,yoffset:10,xadvance:25,chnl:15,x:0,y:589,page:0},{id:113,index:84,char:"q",width:22,height:34,xoffset:1,yoffset:11,xadvance:25,chnl:15,x:0,y:624,page:0},{id:121,index:92,char:"y",width:26,height:34,xoffset:0,yoffset:11,xadvance:25,chnl:15,x:0,y:659,page:0},{id:116,index:87,char:"t",width:22,height:33,xoffset:1,yoffset:4,xadvance:25,chnl:15,x:23,y:554,page:0},{id:58,index:29,char:":",width:9,height:27,xoffset:8,yoffset:10,xadvance:25,chnl:15,x:26,y:483,page:0},{id:97,index:68,char:"a",width:23,height:26,xoffset:1,yoffset:11,xadvance:25,chnl:15,x:26,y:511,page:0},{id:99,index:70,char:"c",width:21,height:26,xoffset:2,yoffset:10,xadvance:25,chnl:15,x:36,y:483,page:0},{id:101,index:72,char:"e",width:22,height:26,xoffset:2,yoffset:10,xadvance:25,chnl:15,x:48,y:448,page:0},{id:109,index:80,char:"m",width:24,height:26,xoffset:0,yoffset:10,xadvance:25,chnl:15,x:66,y:397,page:0},{id:110,index:81,char:"n",width:21,height:26,xoffset:2,yoffset:10,xadvance:25,chnl:15,x:70,y:360,page:0},{id:111,index:82,char:"o",width:24,height:26,xoffset:1,yoffset:10,xadvance:25,chnl:15,x:80,y:312,page:0},{id:114,index:85,char:"r",width:19,height:26,xoffset:4,yoffset:10,xadvance:25,chnl:15,x:98,y:253,page:0},{id:115,index:86,char:"s",width:21,height:26,xoffset:2,yoffset:10,xadvance:25,chnl:15,x:98,y:280,page:0},{id:117,index:88,char:"u",width:21,height:26,xoffset:2,yoffset:11,xadvance:25,chnl:15,x:118,y:253,page:0},{id:118,index:89,char:"v",width:26,height:25,xoffset:0,yoffset:11,xadvance:25,chnl:15,x:23,y:588,page:0},{id:119,index:90,char:"w",width:26,height:25,xoffset:-1,yoffset:11,xadvance:25,chnl:15,x:23,y:614,page:0},{id:120,index:91,char:"x",width:25,height:25,xoffset:0,yoffset:11,xadvance:25,chnl:15,x:46,y:538,page:0},{id:122,index:93,char:"z",width:22,height:25,xoffset:2,yoffset:11,xadvance:25,chnl:15,x:50,y:510,page:0},{id:126,index:97,char:"~",width:25,height:10,xoffset:0,yoffset:19,xadvance:25,chnl:15,x:23,y:640,page:0},{id:43,index:14,char:"+",width:24,height:24,xoffset:0,yoffset:12,xadvance:25,chnl:15,x:58,y:475,page:0},{id:60,index:31,char:"<",width:24,height:24,xoffset:0,yoffset:12,xadvance:25,chnl:15,x:71,y:424,page:0},{id:61,index:32,char:"=",width:24,height:12,xoffset:0,yoffset:18,xadvance:25,chnl:15,x:80,y:339,page:0},{id:62,index:33,char:">",width:24,height:24,xoffset:0,yoffset:12,xadvance:25,chnl:15,x:71,y:449,page:0},{id:94,index:65,char:"^",width:24,height:24,xoffset:0,yoffset:2,xadvance:25,chnl:15,x:91,y:387,page:0},{id:95,index:66,char:"_",width:24,height:5,xoffset:0,yoffset:34,xadvance:25,chnl:15,x:23,y:651,page:0},{id:42,index:13,char:"*",width:20,height:21,xoffset:2,yoffset:1,xadvance:25,chnl:15,x:46,y:564,page:0},{id:45,index:16,char:"-",width:18,height:5,xoffset:4,yoffset:20,xadvance:25,chnl:15,x:26,y:538,page:0},{id:44,index:15,char:",",width:10,height:17,xoffset:8,yoffset:28,xadvance:25,chnl:15,x:73,y:183,page:0},{id:34,index:5,char:'"',width:16,height:13,xoffset:5,yoffset:1,xadvance:25,chnl:15,x:43,y:118,page:0},{id:39,index:10,char:"'",width:9,height:15,xoffset:8,yoffset:1,xadvance:25,chnl:15,x:85,y:218,page:0},{id:96,index:67,char:"`",width:13,height:9,xoffset:6,yoffset:1,xadvance:25,chnl:15,x:27,y:81,page:0},{id:46,index:17,char:".",width:9,height:9,xoffset:8,yoffset:28,xadvance:25,chnl:15,x:48,y:206,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-1,yoffset:34,xadvance:25,chnl:15,x:20,y:216,page:0}],info:{face:"MONACO",size:42,bold:0,italic:0,charset:[" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"],unicode:1,stretchH:100,smooth:1,aa:1,padding:[1,1,1,1],spacing:[0,0]},common:{lineHeight:46,base:34,scaleW:1024,scaleH:1024,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:3},kernings:[]},I=[{label:"Work",items:[{title:"Renobit",thumb:"assets/images/renobit.jpg",color:"#0d1a2a",description:["모니터링 데이터 시각화 제품으로 크게 <strong>에디터</strong>, <strong>뷰어</strong>, 기능확장을 위한 <strong>플러그인</strong>으로 구성된다.","제품 규모가 큰 만큼 다양한 요구사항과 컴포넌트( 2D, 3D )가 필요했고 효율적으로 관리할 수 있는","공통 인터페이스 구축에 많은 노력을 했고 다양한 프론트 기술을 경험한 프로젝트.","최신 프론트 기술이 주가 되는 서비스라면 이제는 제품스펙에서 ie11을 제외하는 것도 제품성장을 위해서는 나쁜게 아니라는 생각이 들었다."],summary:{environment:"TypeScript, Vue, Node, Threejs",implements:["DisplayObject, 2D, 3D컴포넌트 코어 패키지","에디터 2D컴포넌트(dom, svg) multiTransformTool","Three.js를 이용한 3D컴포넌트"]},relation:{movie:{src:"https://www.youtube.com/embed/SCLZihl8LC8?rel=0&amp;autoplay=0&amp;showinfo=0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}},url:"",component:""},{title:"CJ NINE BRIDGES",color:"#e56767",thumb:"assets/images/nine.jpg",description:["CJ CUP NINE BRIDGES 사이트","반응형 사이트지만 메뉴별 디자인이 많이 다른구조라 반응형 구성에 노력을 많이 한 프로젝트","course, tournament info같은 메뉴는 media query로는 반응형 처리가 힘들어 javascript를 많이 사용했다."],summary:{environment:"JavaScript, scrollReveal, HTML, CSS",implements:["스크롤에 따른 애니메이션 처리","이미지 갤러리( youToube 영상지원, 풀스크린 토글 )"]},relation:{images:["assets/images/nine/thumb_0.jpg","assets/images/nine/thumb_1.jpg"]},url:"https://thecjcup.com:452/course.asp"},{title:"Chronicles of Luke",color:"#141311",thumb:"assets/images/luke.jpg",description:["던전앤파이터 해외 프로모션 사이트.","마우스 휠에 따른 가로이동과 패럴럭스 효과를 통한 그래픽요소 제어가 주요 이슈였다.","게임 일러스트가 크고 화려해 진행하며 만족도가 높았던 프로젝트."],summary:{environment:"JavaScript, TweenMax",implements:["타임라인 객체를 통한 스크롤및 애니메이션요소 관리","애니메이션 렌더러를 이용한 트랜지션"]},relation:{images:["assets/images/parallax/thumb_0.jpg","assets/images/parallax/thumb_1.jpg","assets/images/parallax/thumb_2.jpg"]},url:"http://www.dfoneople.com/news/updates/Chronicles-of-Luke"},{title:"Samsung Membership",thumb:"assets/images/sam_membership.jpg",color:"#0057b8",description:["삼성전자 멤버십 사이트","내부 보안가이드가 프로젝트보다 더 힘들었던 기억이 있는 프로젝트.","진행중 ios버전 업데이트가 있어 swift3.0을 경험한 프로젝트."],summary:{environment:"IOS, swift3.0, JavaScript",implements:["jsContext를 이용한 jsInterface","커스텀 AlertView","푸시알림"]},relation:{images:["assets/images/sam_membership/thumb_0.jpg","assets/images/sam_membership/thumb_1.jpg"]},url:"https://membership.samsung.com/sec"},{title:"P.K Game",color:"#a88e68",thumb:"assets/images/socketio.jpg",description:["socketIO를 활용한 미니게임.","뷰(폰과 브라우저)는 socket을 통해 통신하고 폰에서 유저가 공을 던지면 던진 방향에 따라 브라우저가 반응해 공이 날아간다.","당시 떠오르던 node와 coffeescript를 경험할 수 있었던 프로젝트"],summary:{environment:"JavaScript, coffeeScript, Node, ActionScript",implements:["node를 이용간 채팅룸 구성","컨트롤 뷰 구현(스마트폰)","디스플레이 뷰 구현(플래시)"]},relation:{images:["assets/images/socketio/thumb_0.jpg","assets/images/socketio/thumb_1.jpg","assets/images/socketio/thumb_2.jpg"]}},{title:"Korean Air",color:"#4195ba",thumb:"assets/images/korean_air.jpg",description:["대한항공 프랑스 데스티네이션 디지털 캠페인","'프랑스 게스트 하우스 입주자를 모집합니다.' 라는 컨셉에 맞게 각 지역별 게스트 하우스 정보와 함께 메인 컨텐츠로의 접근성을 높여 고객이 입주지원에 쉽게 참여할 수 있도록 하였다.","버스쉘터 배너광고로 미술작품과 함께 비콘을 설치해 앱 사용자가 접근할 경우 작품설명을 푸시알림으로 보여주는 기능을 구현했다.","당시에는 참신한 아이디어로 즐거웠지만 버스쉘터에 설치한 비콘을 따라 동작 테스트를 하기 위해 버스정류장을 엄청 돌아다녔던 프로젝트"],summary:{environment:"JavaScript, IOS, Android, Siwft2.0",implements:["비콘을 이용한 푸시알림"]},relation:{images:["assets/images/korean_air/thumb_0.jpg"]},url:"http://france.koreanair.com/live/list.asp"},{title:"Hyundai Webzine",color:"#747f84",thumb:"assets/images/hyundai.jpg",description:["현대 자동차 웹진","전시관 부스에 배치된 iPad에 설치한 앱으로 관람객이 볼 때 지루하지 않게 페이지 별 Transition효과에 신경을 많이 섰다.","스토어 배포가 아닌 상황에서 수정에 효율적인 대응을 위해 Animation정보와 텍스트를 외부설정 파일로 관리한 프로젝트"],summary:{environment:"IOS, Objective-C",implements:["다국어 처리 및 설정에 따른 이미지 전환","페이지 이동에 따른 에니메이션 구현"]},relation:{images:["assets/images/hyundai/thumb_0.jpg","assets/images/hyundai/thumb_1.jpg","assets/images/hyundai/thumb_2.jpg"]}},{title:"StoryAlbum",color:"#3c4c5b",thumb:"assets/images/story.jpg",description:["플래시의 jsfl을 이용한 포토앨범제작 툴","손쉬운 포토앨범 생성을 컨셉으로 복잡한 편집없이 누구나 쉽게 포토앨범을 만들 수 있게 하는게 목표였다.","지금은 역사의 뒤안길로 사라졌지만 jsfl을 통해 플래시 제작툴의 기능을 제어하는 재미가 있었던 프로젝트"],summary:{environment:"as3.0, flash builder, jsfl",implements:["테마이펙트 및 타임라인 설계","관리자 편집 기능","타입에 따른 앨범 플레이어(관리자, 사용자, 미리보기)"]},relation:{images:["assets/images/story/thumb_0.jpg","assets/images/story/thumb_1.jpg"]}},{title:"E-LiveZine",thumb:"assets/images/eliveZine.jpg",color:"#091544",description:["가상프린터를 이용한 e카달로그 서비스","책 넘기는 효과부터 다양한 포맷의 디스플레이 처리까지 많은 고민을 하며 진행한 기억이 있다.","많아지는 객체 수에 확장과 인터페이스를 적용하며 디자인패턴을 규모있게 적용한 첫 프로젝트","객체관리에 인터페이스의 중요함을 알게됐다."],summary:{environment:"as2.0, flash, flashDeveloper",implements:["ebook & 플러그인","다양한 형태의 뷰어( 펼친페이지, 가로형, embeded형)","페이지 프리&지연 로드, 색인기능"]},relation:{images:["assets/images/eliveZine/thumb_0.jpg"]}}]},{label:"Study",items:[{title:"Particles",thumb:"assets/images/particle.jpg",color:"#283149",description:["particle을 이용한 이미지 표현","이미지의 컬러정보를 바탕으로 마우스에 반응하는 particle을 만든다."],summary:{environment:"Threejs, shader, canvas"},relation:{images:["assets/images/glsl_particle/thumb_0.jpg","assets/images/glsl_particle/thumb_1.jpg"]},component:{name:"ParticleGLSL",resources:["assets/images/glsl_particle/glsl_particle.png","assets/images/glsl_particle/glsl_particle1.png","assets/images/glsl_particle/glsl_particle2.png","assets/images/glsl_particle/glsl_particle3.png","assets/images/glsl_particle/glsl_particle4.png"],backgroundColors:["#000000","#000000","#000000","#000000","#000000"]}},{title:"Displacement",thumb:"assets/images/replace_01.jpg",color:"#b2a8e5",description:["shader를 이용한 Displacement효과","두 개의 텍스처(image, noise)를 이용해 효과를 만들고 smoothstep을 이용해 전환시킨다."],summary:{environment:"Threejs, shader"},relation:{images:["assets/images/displacement/thumb_0.jpg","assets/images/displacement/thumb_1.jpg"]},component:{name:"DisplacementGLSL",resources:["assets/images/replace_05.jpg","assets/images/replace_08.jpg"]}},{title:"Displacement2",thumb:"assets/images/channel.jpg",color:"#9e3732",description:["shader를 이용한 Displacement효과","전환하는 texture의 rgb값을 이용해 효과를 만들고 mix를 이용해 전환시킨다."],summary:{environment:"JavaScript, Threejs"},relation:{images:["assets/images/channel/thumb_0.jpg","assets/images/channel/thumb_1.jpg"]},component:{name:"ChannelMixGLSL",resources:["assets/images/channel/batman_logo.jpg","assets/images/channel/batman_0.jpg","assets/images/channel/batman_1.jpg","assets/images/channel/batman_2.jpg","assets/images/channel/batman_3.jpg","assets/images/channel/batman_4.jpg"]}},{title:"Tree",thumb:"assets/images/recursive.jpg",color:"#254834",description:["재귀함수를 이용한 Tree","플래시 초반 Graphics에서 자주 이용하던 고전적인 표현이지만 canvas에 globalComposite옵션을 적용하니 새롭다."],summary:{environment:"JavaScript, Canvas, Threejs"},relation:{images:["assets/images/recursive_tree/thumb_0.jpg","assets/images/recursive_tree/thumb_1.jpg"]},component:{name:"RecursiveTreeGLSL"}},{title:"Block Build",color:"#707070",thumb:"assets/images/bb.jpg",description:["PixiJS를 이용한 개인 프로젝트","타일이 클릭&드래그 시 무한히 이어지는게 목표였는데 조금씩 살이 붙어 사이트 형태가 되었다.","모바일은 고려하지 않았으며 ie10이상에서 동작한다."],summary:{environment:"JavaScript, PixiJS, Howljs, TweenLite, HTML, CSS",implements:["블럭 타입에 따른 블럭아이템 구성","드래그앤 드랍에 따른 블럭 생성","블럭 추가 시 위치에 기반한 트랜지션","카테고리 타입에 따른 뷰 갱신","블럭 마우스 오버바향에 따른 트랜지션"]},relation:{images:["assets/images/bb/thumb_0.jpg","assets/images/bb/thumb_1.jpg"]},url:"https://chaospace.github.io/bbproject/"},{title:"ParticleNode",color:"#262626",thumb:"assets/images/particle_node.jpg",description:["Canvas를 이용한 인터렉티브 작업","일정간격마다 랜덤한 숫자의 파티클을 생성해 보여주고 마우스를 움직이면 추가 파티클 생성한다.","각 파티클은 움직이다 일정거리안에 있는 노드를 감지하면 라인으로 연결된다."],summary:{environment:"JavaScript, Canvas",implements:["particle emitter"]},relation:{images:["assets/images/particle_node/thumb_1.jpg"]},url:"http://chaospace.github.io/particle-node/"}]}],k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},L=n(function(e){!function(e,t){e(function(){function e(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function t(e,t){var n,i,r=e.length;if(!r||!t)return!1;for(n=t.toLowerCase(),i=0;i<r;++i)if(n===e[i].toLowerCase())return!0;return!1}function n(e){for(var t in e)a.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function i(e){return(e||"").substr(0,500)}function r(e,t){this.ua=i(e),this._cache={},this.maxPhoneWidth=t||600}var o={};o.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},o.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var s,a=Object.prototype.hasOwnProperty;return o.FALLBACK_PHONE="UnknownPhone",o.FALLBACK_TABLET="UnknownTablet",o.FALLBACK_MOBILE="UnknownMobile",s="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var e,t,i,r,l,c,u=o.mobileDetectRules;for(e in u.props)if(a.call(u.props,e)){for(t=u.props[e],s(t)||(t=[t]),l=t.length,r=0;r<l;++r)(c=(i=t[r]).indexOf("[VER]"))>=0&&(i=i.substring(0,c)+"([\\w._\\+]+)"+i.substring(c+5)),t[r]=new RegExp(i,"i");u.props[e]=t}n(u.oss),n(u.phones),n(u.tablets),n(u.uas),n(u.utils),u.oss0={WindowsPhoneOS:u.oss.WindowsPhoneOS,WindowsMobileOS:u.oss.WindowsMobileOS}}(),o.findMatch=function(e,t){for(var n in e)if(a.call(e,n)&&e[n].test(t))return n;return null},o.findMatches=function(e,t){var n=[];for(var i in e)a.call(e,i)&&e[i].test(t)&&n.push(i);return n},o.getVersionStr=function(e,t){var n,i,r,s,l=o.mobileDetectRules.props;if(a.call(l,e))for(r=(n=l[e]).length,i=0;i<r;++i)if(null!==(s=n[i].exec(t)))return s[1];return null},o.getVersion=function(e,t){var n=o.getVersionStr(e,t);return n?o.prepareVersionNo(n):NaN},o.prepareVersionNo=function(e){var t;return 1===(t=e.split(/[a-z._ \/\-]/i)).length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},o.isMobileFallback=function(e){return o.detectMobileBrowsers.fullPattern.test(e)||o.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},o.isTabletFallback=function(e){return o.detectMobileBrowsers.tabletPattern.test(e)},o.prepareDetectionCache=function(e,t,n){if(void 0===e.mobile){var i,s,a;if(s=o.findMatch(o.mobileDetectRules.tablets,t))return e.mobile=e.tablet=s,void(e.phone=null);if(i=o.findMatch(o.mobileDetectRules.phones,t))return e.mobile=e.phone=i,void(e.tablet=null);o.isMobileFallback(t)?void 0===(a=r.isPhoneSized(n))?(e.mobile=o.FALLBACK_MOBILE,e.tablet=e.phone=null):a?(e.mobile=e.phone=o.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null):o.isTabletFallback(t)?(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null}},o.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile"),"C")},o.detectOS=function(e){return o.findMatch(o.mobileDetectRules.oss0,e)||o.findMatch(o.mobileDetectRules.oss,e)},o.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},r.prototype={constructor:r,mobile:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return void 0===this._cache.userAgent&&(this._cache.userAgent=o.findMatch(o.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return void 0===this._cache.userAgents&&(this._cache.userAgents=o.findMatches(o.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return void 0===this._cache.os&&(this._cache.os=o.detectOS(this.ua)),this._cache.os},version:function(e){return o.getVersion(e,this.ua)},versionStr:function(e){return o.getVersionStr(e,this.ua)},is:function(n){return t(this.userAgents(),n)||e(n,this.os())||e(n,this.phone())||e(n,this.tablet())||t(o.findMatches(o.mobileDetectRules.utils,this.ua),n)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return r.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return void 0===this._cache.grade&&(this._cache.grade=o.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?r.isPhoneSized=function(e){return e<0?void 0:o.getDeviceSmallerSide()<=e}:r.isPhoneSized=function(){},r._impl=o,r.version="1.4.4 2019-09-21",r})}(function(t){if(e.exports)return function(t){e.exports=t()};if("undefined"!=typeof window)return function(e){window.MobileDetect=e()};throw new Error("unknown environment")}())});const N=n(function(e){!function(t){function n(e,t,n,i,r){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=r||0}function i(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function r(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){r.prototype.dispatch.apply(e,arguments)}}n.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},r.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,i,r){var o,s=this._indexOfListener(e,i);if(-1!==s){if((o=this._bindings[s]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else o=new n(this,e,t,i,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if((n=this._bindings[i])._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return i(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return i(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){i(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){t=this._bindings.slice(),this._shouldPropagate=!0;do{i--}while(t[i]&&this._shouldPropagate&&!1!==t[i].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var o=r;o.Signal=r,e.exports?e.exports=o:t.signals=o}(k)}).Signal,R=(e,t)=>{let n=e.x-t.x;let i=e.y-t.y;let r=n*n+i*i;let o=Math.sqrt(r);let s=n/o;let a=i/o;return{dx:n,dy:i,vx:s,vy:a,area:r,dist:o}},O=()=>({w:window.innerWidth,h:window.innerHeight}),_={dataLoaded:new N,menuChanged:new N,pictureTransitionStarted:new N,pictureTransitionEnded:new N,scrollBarChange:new N,listScrollChange:new N,introEnded:new N,contentClosed:new N,mouseDown:new N,mouseMove:new N,mouseUp:new N,sceneChanged:new N,domContentsIn:new N,domContentsOut:new N,jsContentsIn:new N,jsContentsOut:new N,updateBgColor:new N},z=e=>{let t=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."));return t},V=(e,t,n,i)=>{let r=R(e,t);let o={x:r.dx*n||0,y:r.dy*n||0};o.x*=i;o.y*=i;return o};class F{constructor(t){this.ele=t||document.createElement("canvas"),this.ctx=this.ele.getContext("2d"),this.devicePixelRatio=window.devicePixelRatio||1,this.backingStoreRatio=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,this.ratio=this.devicePixelRatio/this.backingStoreRatio,this.particles=[],this.mouse={x:0,y:0},this.targetMouse={x:0,y:0},this.lastMouse=null,this.particleSize=10,this.sp=.1,this.velocity={x:0,y:0},this.animateID,this.animateHandler=this.render.bind(this),this.mouseMoveHandler=this.onMouseMove.bind(this),this.texture=new e.Texture(this.ele)}onMouseMove(e){this.ele.getBoundingClientRect();this.mouse={x:e.clientX/this.ele.width,y:e.clientY/this.ele.height}}addPoint(e){this.targetMouse={x:e.x,y:e.y},this.createParticle()}createParticle(){let e=new X(this.targetMouse);if(null!=this.lastMouse){let t=R(this.targetMouse,this.lastMouse);if(0==t.dist)return;e.vx=t.vx,e.vy=t.vy,e.force=Math.min(1,1e4*t.area)}e.radius=this.particleSize*e.force,this.lastMouse={x:this.targetMouse.x,y:this.targetMouse.y},this.particles.push(e)}update(){this.clear(),this.ctx.save(),this.ctx.globalCompositeOperation="source-over",this.particles.forEach((e,t)=>{e.draw(this.ctx,this.ele)}),this.particles.forEach((e,t)=>{e.excess&&this.particles.splice(t,1)}),this.ctx.restore(),this.texture.needsUpdate=!0}render(){let e=R(this.mouse,this.targetMouse);this.velocity.x+=e.dx*this.sp,this.velocity.y+=e.dy*this.sp,this.velocity.x*=.45,this.velocity.y*=.45,this.targetMouse.x+=this.velocity.x,this.targetMouse.y+=this.velocity.y,this.createParticle(),this.update(),this.animateID=requestAnimationFrame(this.animateHandler)}registEvent(){document.addEventListener("mousemove",this.mouseMoveHandler),this.render()}clear(){this.ctx.beginPath(),this.ctx.fillStyle="rgba(0, 0, 0, 0.3)",this.ctx.fillRect(0,0,this.ele.width,this.ele.height),this.ctx.closePath()}resize(e,t){this.ele.width=e*this.ratio,this.ele.height=t*this.ratio;try{this.ele.style.width=`${this.ele.width}px`,this.ele.style.height=`${this.ele.height}px`}catch(e){}this.particleSize=.08*t,this.area=this.ele.width*this.ele.width+this.ele.height*this.ele.height}}const j=(e,t,n,i)=>n*Math.sin(e/i*(Math.PI/2))+t,U=(e,t,n,i)=>e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t;class X{constructor(e){this.x=e.x,this.y=e.y,this.vx=0,this.vy=0,this.dx=this.dy=0,this.opacity=1,this.time=0,this.limit=50,this.excess=!1,this.friction=.98,this.radius=2,this.force=0,this.base=.3*this.limit,this.timeRate=1/this.limit}update(){let e=1-this.time/this.limit,t=this.force*this.timeRate*e;this.x+=this.vx*t,this.y+=this.vy*t,this.time++,this.excess=this.time>this.limit}draw(e,t){let n=this.time/this.limit,i=1-n,r=this.force*this.timeRate*i;this.x+=this.vx*r,this.y+=this.vy*r,this.force*=this.friction,this.time++,this.excess=this.time>this.limit;let o={x:this.x*t.width,y:this.y*t.height},s=1;s=n<.3?j(n/.3,0,1,1):U((i-.3)/.7,0,1,1),s*=this.force;let a=(this.vx+1)/2*255,l=(this.vy+1)/2*255,c=255*s,u=this.radius;this.opacity=.2*i;let h=`${a},${l},${c}`;e.beginPath();let d=5*t.width;e.shadowOffsetX=d,e.shadowOffsetY=d,e.shadowBlur=u,e.shadowColor=`rgba(${h}, ${this.opacity})`,e.fillStyle="rgba(0, 0, 0, 1)",e.arc(o.x-d,o.y-d,u,0,2*Math.PI),e.fill(),e.closePath()}}class W extends e.ShaderMaterial{constructor(){super({type:"CopyMaterial",uniforms:{inputBuffer:new e.Uniform(null),opacity:new e.Uniform(1)},fragmentShader:"uniform sampler2D inputBuffer;uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n}",vertexShader:"varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",toneMapped:!1,depthWrite:!1,depthTest:!1})}}class q extends e.ShaderMaterial{constructor(t=null,n=null,i=null,r=null,o=!1){super({type:"EffectMaterial",defines:{DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new e.Uniform(null),depthBuffer:new e.Uniform(null),resolution:new e.Uniform(new e.Vector2),texelSize:new e.Uniform(new e.Vector2),cameraNear:new e.Uniform(.3),cameraFar:new e.Uniform(1e3),aspect:new e.Uniform(1),time:new e.Uniform(0)},toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:o}),null!==t&&this.setShaderParts(t),null!==n&&this.setDefines(n),null!==i&&this.setUniforms(i),this.adoptCameraSettings(r)}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\nuniform sampler2D inputBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(K.FRAGMENT_HEAD,e.get(K.FRAGMENT_HEAD)).replace(K.FRAGMENT_MAIN_UV,e.get(K.FRAGMENT_MAIN_UV)).replace(K.FRAGMENT_MAIN_IMAGE,e.get(K.FRAGMENT_MAIN_IMAGE)),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(K.VERTEX_HEAD,e.get(K.VERTEX_HEAD)).replace(K.VERTEX_MAIN_SUPPORT,e.get(K.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}adoptCameraSettings(t=null){null!==t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof e.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){e=Math.max(e,1),t=Math.max(t,1),this.uniforms.resolution.value.set(e,t),this.uniforms.texelSize.value.set(1/e,1/t),this.uniforms.aspect.value=e/t}}const K={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"};let Y=null;class Q{constructor(t="Pass",n=new e.Scene,i=new e.OrthographicCamera(-1,1,1,-1,0,1)){this.name=t,this.scene=n,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.getFullscreenMaterial();null!==t&&(t.needsUpdate=!0),this.rtt=!e}}getFullscreenMaterial(){return null!==this.screen?this.screen.material:null}setFullscreenMaterial(t){let n=this.screen;null!==n?n.material=t:((n=new e.Mesh(i(),t)).frustumCulled=!1,null===this.scene&&(this.scene=new e.Scene),this.scene.add(n),this.screen=n)}getDepthTexture(){return null}setDepthTexture(e,t=0){}render(e,t,n,i,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){const e=this.getFullscreenMaterial();null!==e&&e.dispose();for(const e of Object.keys(this))null!==this[e]&&"function"==typeof this[e].dispose&&this[e].dispose()}}class Z extends Q{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,i,r){const o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}}const J=new e.Color;class $ extends Q{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}render(e,t,n,i,r){const o=this.overrideClearColor,s=this.overrideClearAlpha,a=e.getClearAlpha(),l=null!==o,c=s>=0;l?(J.copy(e.getClearColor()),e.setClearColor(o,c?s:a)):c&&e.setClearAlpha(s),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(J,a):c&&e.setClearAlpha(a)}}class ee extends Q{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.overrideMaterial=n,this.clearPass=new $,this.depthTexture=null}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}getDepthTexture(){return this.depthTexture}setDepthTexture(e,t=0){this.depthTexture=e}render(e,t,n,i,r){const o=this.scene,s=this.renderToScreen?null:t,a=o.overrideMaterial;null===this.depthTexture||this.renderToScreen||(t.depthTexture=this.depthTexture,n.depthTexture=null),this.clear&&(this.clearPass.renderToScreen=this.renderToScreen,this.clearPass.render(e,t)),o.overrideMaterial=this.overrideMaterial,e.setRenderTarget(s),e.render(o,this.camera),o.overrideMaterial=a}}const te={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18};const ne=new Map([[te.SKIP,null],[te.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[te.ALPHA,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[te.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[te.COLOR_BURN,"float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[te.COLOR_DODGE,"float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[te.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[te.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[te.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[te.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[te.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[te.DIVIDE,"float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[te.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[te.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[te.OVERLAY,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[te.REFLECT,"float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[te.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[te.SOFT_LIGHT,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[te.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]);class ie{constructor(t,n=1){this.blendFunction=t,this.opacity=new e.Uniform(n)}getShaderCode(){return ne.get(this.blendFunction)}}class re{constructor(e,t,{attributes:attributes=oe.NONE,blendFunction:blendFunction=te.SCREEN,defines:defines=new Map,uniforms:uniforms=new Map,extensions:extensions=null,vertexShader:vertexShader=null}={}){this.name=e,this.attributes=attributes,this.fragmentShader=t,this.vertexShader=vertexShader,this.defines=defines,this.uniforms=uniforms,this.extensions=extensions,this.blendMode=new ie(blendFunction)}setDepthTexture(e,t=0){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this))null!==this[e]&&"function"==typeof this[e].dispose&&this[e].dispose()}}const oe={CONVOLUTION:2,DEPTH:1,NONE:0};class se extends Q{constructor(e,...t){super("EffectPass"),this.setFullscreenMaterial(new q(null,null,null,e)),this.effects=t.sort((e,t)=>t.attributes-e.attributes),this.skipRendering=!1,this.uniforms=0,this.varyings=0,this.minTime=1,this.maxTime=1e3}get encodeOutput(){return void 0!==this.getFullscreenMaterial().defines.ENCODE_OUTPUT}set encodeOutput(e){if(this.encodeOutput!==e){const t=this.getFullscreenMaterial();t.needsUpdate=!0,e?t.defines.ENCODE_OUTPUT="1":delete t.defines.ENCODE_OUTPUT}}get dithering(){return this.getFullscreenMaterial().dithering}set dithering(e){const t=this.getFullscreenMaterial();t.dithering!==e&&(t.dithering=e,t.needsUpdate=!0)}updateMaterial(){const e=new Map([[K.FRAGMENT_HEAD,""],[K.FRAGMENT_MAIN_UV,""],[K.FRAGMENT_MAIN_IMAGE,""],[K.VERTEX_HEAD,""],[K.VERTEX_MAIN_SUPPORT,""]]),t=new Map,n=new Map,i=new Map,r=new Set;let o,a=0,l=0,c=0,u=!1,h=!1;for(const d of this.effects)if(d.blendMode.blendFunction===te.SKIP)c|=d.attributes&oe.DEPTH;else if(0!=(c&oe.CONVOLUTION)&&0!=(d.attributes&oe.CONVOLUTION))console.error("Convolution effects cannot be merged",d);else if(c|=d.attributes,o=s("e"+a++,d,e,t,n,i,c),l+=o.varyings.length,u=u||o.transformedUv,h=h||o.readDepth,null!==d.extensions)for(const e of d.extensions)r.add(e);for(const n of t.values())e.set(K.FRAGMENT_HEAD,e.get(K.FRAGMENT_HEAD)+n.getShaderCode().replace(/\bblend\b/g,"blend"+n.blendFunction)+"\n");0!=(c&oe.DEPTH)?(h&&e.set(K.FRAGMENT_MAIN_IMAGE,"float depth = readDepth(UV);\n\n\t"+e.get(K.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,u?(e.set(K.FRAGMENT_MAIN_UV,"vec2 transformedUv = vUv;\n"+e.get(K.FRAGMENT_MAIN_UV)),n.set("UV","transformedUv")):n.set("UV","vUv"),e.forEach((e,t,n)=>n.set(t,e.trim())),this.uniforms=i.size,this.varyings=l,this.skipRendering=0===a,this.needsSwap=!this.skipRendering;const d=this.getFullscreenMaterial();if(d.setShaderParts(e).setDefines(n).setUniforms(i),d.extensions={},r.size>0)for(const e of r)d.extensions[e]=!0}recompile(){this.updateMaterial()}getDepthTexture(){return this.getFullscreenMaterial().uniforms.depthBuffer.value}setDepthTexture(e,t=0){const n=this.getFullscreenMaterial();n.uniforms.depthBuffer.value=e,n.depthPacking=t,n.needsUpdate=!0;for(const n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,i,r){const o=this.getFullscreenMaterial(),s=o.uniforms.time.value+i;for(const n of this.effects)n.update(e,t,i);this.skipRendering&&!this.renderToScreen||(o.uniforms.inputBuffer.value=t.texture,o.uniforms.time.value=s<=this.maxTime?s:this.minTime,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera))}setSize(e,t){this.getFullscreenMaterial().setSize(e,t);for(const n of this.effects)n.setSize(e,t)}initialize(e,t,n){for(const i of this.effects)i.initialize(e,t,n);this.updateMaterial();const i=e.capabilities;let r=Math.min(i.maxFragmentUniforms,i.maxVertexUniforms);this.uniforms>r&&console.warn("The current rendering context doesn't support more than "+r+" uniforms, but "+this.uniforms+" were defined"),r=i.maxVaryings,this.varyings>r&&console.warn("The current rendering context doesn't support more than "+r+" varyings, but "+this.varyings+" were defined")}dispose(){super.dispose();for(const e of this.effects)e.dispose()}}class ae extends Q{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new $(!1,!1,!0),this.inverse=!1}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}render(e,t,n,i,r){const o=e.getContext(),s=e.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,u=this.inverse?0:1,h=1-u;s.color.setMask(!1),s.depth.setMask(!1),s.color.setLocked(!0),s.depth.setLocked(!0),s.stencil.setTest(!0),s.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.stencil.setFunc(o.ALWAYS,u,4294967295),s.stencil.setClear(h),s.stencil.setLocked(!0),this.clear&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(a,l)):(e.setRenderTarget(t),e.render(a,l),e.setRenderTarget(n),e.render(a,l)),s.color.setLocked(!1),s.depth.setLocked(!1),s.stencil.setLocked(!1),s.stencil.setFunc(o.EQUAL,1,4294967295),s.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.stencil.setLocked(!0)}}class le extends Q{constructor(e,t="inputBuffer"){super("ShaderPass"),this.setFullscreenMaterial(e),this.uniform=null,this.setInput(t)}setInput(e){const t=this.getFullscreenMaterial();if(this.uniform=null,null!==t){const n=t.uniforms;void 0!==n&&void 0!==n[e]&&(this.uniform=n[e])}}render(e,t,n,i,r){null!==this.uniform&&null!==t&&(this.uniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}class ce{constructor(e=null,{depthBuffer:depthBuffer=!0,stencilBuffer:stencilBuffer=!1,multisampling:multisampling=0,frameBufferType:frameBufferType}={}){this.renderer=e,this.inputBuffer=null,this.outputBuffer=null,null!==this.renderer&&(this.renderer.autoClear=!1,this.inputBuffer=this.createBuffer(depthBuffer,stencilBuffer,frameBufferType,multisampling),this.outputBuffer=this.inputBuffer.clone(),this.enableExtensions()),this.copyPass=new le(new W),this.depthTexture=null,this.passes=[],this.autoRenderToScreen=!0}get multisampling(){return this.inputBuffer instanceof e.WebGLMultisampleRenderTarget?this.inputBuffer.samples:0}set multisampling(e){const t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.outputBuffer=this.inputBuffer.clone())}getRenderer(){return this.renderer}enableExtensions(){const t=this.inputBuffer.texture.type,n=this.renderer.capabilities,i=this.renderer.getContext();t!==e.UnsignedByteType&&(n.isWebGL2?i.getExtension("EXT_color_buffer_float"):i.getExtension("EXT_color_buffer_half_float"))}replaceRenderer(t,n=!0){const i=this.renderer;if(null!==i&&i!==t){const r=i.getSize(new e.Vector2),o=t.getSize(new e.Vector2),s=i.domElement.parentNode;this.renderer=t,this.renderer.autoClear=!1,r.equals(o)||this.setSize(),n&&null!==s&&(s.removeChild(i.domElement),s.appendChild(t.domElement)),this.enableExtensions()}return i}createDepthTexture(){const t=this.depthTexture=new e.DepthTexture;return this.inputBuffer.stencilBuffer?(t.format=e.DepthStencilFormat,t.type=e.UnsignedInt248Type):t.type=e.UnsignedIntType,t}createBuffer(t,n,i,r){const o=this.renderer.getDrawingBufferSize(new e.Vector2),s={format:this.renderer.getContext().getContextAttributes().alpha||i!==e.UnsignedByteType?e.RGBAFormat:e.RGBFormat,minFilter:e.LinearFilter,magFilter:e.LinearFilter,stencilBuffer:n,depthBuffer:t,type:i},a=r>0?new e.WebGLMultisampleRenderTarget(o.width,o.height,s):new e.WebGLRenderTarget(o.width,o.height,s);return r>0&&(a.samples=r),a.texture.name="EffectComposer.Buffer",a.texture.generateMipmaps=!1,a}addPass(t,n){const i=this.passes,r=this.renderer,o=r.getContext().getContextAttributes().alpha,s=this.inputBuffer.texture.type,a=r.getDrawingBufferSize(new e.Vector2);if(t.setSize(a.width,a.height),t.initialize(r,o,s),this.autoRenderToScreen&&(i.length>0&&(i[i.length-1].renderToScreen=!1),t.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==n?i.splice(n,0,t):i.push(t),this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!0),t.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){const e=this.createDepthTexture();for(t of i)t.setDepthTexture(e)}else t.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,n=t.indexOf(e);if(t.splice(n,1).length>0){if(null!==this.depthTexture){const n=(e,t)=>e||t.needsDepthTexture,i=t.reduce(n,!1);if(!i){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.outputBuffer.depthTexture=null,e.setDepthTexture(null);for(e of t)e.setDepthTexture(null)}}this.autoRenderToScreen&&t.length>0&&n===t.length&&(t[t.length-1].renderToScreen=!0)}}render(e){const t=this.renderer,n=this.copyPass;let i,r,o,s=this.inputBuffer,a=this.outputBuffer,l=!1;for(const c of this.passes)c.enabled&&(c.render(t,s,a,e,l),c.needsSwap&&(l&&(n.renderToScreen=c.renderToScreen,i=t.getContext(),(r=t.state.buffers.stencil).setFunc(i.NOTEQUAL,1,4294967295),n.render(t,s,a,e,l),r.setFunc(i.EQUAL,1,4294967295)),o=s,s=a,a=o),c instanceof ae?l=!0:c instanceof Z&&(l=!1))}setSize(t,n,i){const r=this.renderer;if(void 0===t||void 0===n){const i=r.getSize(new e.Vector2);t=i.width,n=i.height}r.setSize(t,n,i);const o=r.getDrawingBufferSize(new e.Vector2);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const e of this.passes)e.setSize(o.width,o.height)}reset(){const e=this.inputBuffer.clone();this.dispose(),this.inputBuffer=e,this.outputBuffer=e.clone(),this.depthTexture=null,this.copyPass=new le(new W),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&(this.inputBuffer.dispose(),this.inputBuffer=null),null!==this.outputBuffer&&(this.outputBuffer.dispose(),this.outputBuffer=null),null!==this.depthTexture&&this.depthTexture.dispose(),this.copyPass.dispose()}}new e.Vector3,new e.Matrix4,new e.Vector3,new e.Vector3,new Map([[l([0,0,0,0]),[0,0,0,0]],[l([0,0,0,1]),[0,0,0,1]],[l([0,0,1,0]),[0,0,1,0]],[l([0,0,1,1]),[0,0,1,1]],[l([0,1,0,0]),[0,1,0,0]],[l([0,1,0,1]),[0,1,0,1]],[l([0,1,1,0]),[0,1,1,0]],[l([0,1,1,1]),[0,1,1,1]],[l([1,0,0,0]),[1,0,0,0]],[l([1,0,0,1]),[1,0,0,1]],[l([1,0,1,0]),[1,0,1,0]],[l([1,0,1,1]),[1,0,1,1]],[l([1,1,0,0]),[1,1,0,0]],[l([1,1,0,1]),[1,1,0,1]],[l([1,1,1,0]),[1,1,1,0]],[l([1,1,1,1]),[1,1,1,1]]]);class ue extends re{constructor(t){super("ElasticDisortEffect",he,{uniforms:new Map([["uTexture",new e.Uniform(t)],["uResolution",new e.Uniform(new e.Vector2)],["uMouse",new e.Uniform(new e.Vector2)]])})}}const he=`\r\n    uniform sampler2D uTexture;\r\n    uniform vec2 uResolution;\r\n    uniform vec2 uMouse;\r\n    \r\n    float map(float value, float min1, float max1, float min2, float max2) {\r\n        return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\r\n    }\r\n    void mainUv( inout vec2 uv ){\r\n        vec3 tex = texture2D(uTexture, uv).rgb;\r\n        vec2 uvMouse = uMouse;\r\n        // convert normalize value \r\n        float vx = -(tex.r*2.)+1.;\r\n        float vy = (tex.g*2.)-1.;\r\n        float intensity = tex.b;\r\n        float maxAmplitude = 0.1;\r\n        vec2 vuv = vec2(uv.x+vx * maxAmplitude * intensity, uv.y+vy * maxAmplitude * intensity);\r\n        //uv = vuv;\r\n        uv = mix(vuv, uv, uMouse);\r\n    }\r\n`;var de="precision highp float;\n#define GLSLIFY 1\nvarying vec2 vUv;uniform sampler2D uImage;uniform vec2 uPlaneSize;uniform vec2 uImageSize;uniform vec2 uMouse;uniform float uZoomDelta;uniform float uZoom;uniform float uExpand;vec2 getRatioUV(vec2 uv,vec2 canvasSize,vec2 textureSize){vec2 ratio=vec2(min((canvasSize.x/canvasSize.y)/(textureSize.x/textureSize.y),1.),min((canvasSize.y/canvasSize.x)/(textureSize.y/textureSize.x),1.));return vec2(uv.x*ratio.x+(1.-ratio.x)*.5,uv.y*ratio.y+(1.-ratio.y)*.5);}vec3 greyScale(vec3 color){return vec3(color.r+color.g+color.b)/3.;}float rectSDF(vec2 st,vec2 s){st=st*2.-1.;return max(abs(st.x/s.x),abs(st.y/s.y));}float stroke(float x,float size,float w){float d=step(size,x+w*.5)-step(size,x-w*.5);return clamp(d,0.,1.);}vec3 grayColor(vec3 color,vec3 tint){return vec3(dot(color.rgb,tint));}void main(){vec2 uv=vUv;uv-=0.5;uv*=1.-(uZoomDelta*uZoom);uv+=uZoomDelta*((uMouse-0.5)*0.5)*uZoom;uv+=0.5;uv=getRatioUV(uv,uPlaneSize,uImageSize);vec3 tex=texture2D(uImage,uv).xyz;vec3 targetColor=uExpand!=0. ? vec3(0.): vec3(0.3,0.59,0.11);vec3 color=mix(grayColor(tex,targetColor),tex,uZoom-uExpand);float r=uPlaneSize.y/uPlaneSize.x;vec3 frame=vec3(0.);float stroke=.01*.5;float xstroke=r*stroke;vec2 lb=1.-step(vec2(xstroke,stroke),vUv);vec2 rt=1.-step(vec2(xstroke,stroke),1.-vUv);frame+=clamp(lb.x+lb.y,0.,1.);frame+=clamp(rt.x+rt.y,0.,1.);if(uExpand==0.){color.rgb+=vec3(frame/3.);}gl_FragColor=vec4(color,1.);}",fe="precision highp float;\n#define GLSLIFY 1\nvarying vec2 vUv;void main(){vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}",pe=n(function(e){function t(e,t,n,i){var r=e.indexOf(t,n);return-1===r||r>i?i:r}function n(e){return l.test(e)}function i(e,t,n,i,r){for(var o=[],a=n,l=n;l<i&&l<t.length;l++){var c=t.charAt(l),u=s.test(c);if(u||l===i-1){var h=e(t,a,u?l:l+1,r);o.push(h),a=l+1}}return o}function r(e,i,r,o,s,l){var c=[],u=s;for("nowrap"===l&&(u=Number.MAX_VALUE);r<o&&r<i.length;){for(var h=t(i,a,r,o);r<h&&n(i.charAt(r));)r++;var d=e(i,r,h,u),f=r+(d.end-d.start),p=f+a.length;if(f<h){for(;f>r&&!n(i.charAt(f));)f--;if(f===r)p>r+a.length&&p--,f=p;else for(p=f;f>r&&n(i.charAt(f-a.length));)f--}if(f>=r){var m=e(i,r,f,u);c.push(m)}r=p}return c}function o(e,t,n,i){return{start:t,end:t+Math.min(i,n-t)}}var s=/\n/,a="\n",l=/\s/;e.exports=function(t,n){return e.exports.lines(t,n).map(function(e){return t.substring(e.start,e.end)}).join("\n")},e.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var n="number"==typeof t.width?t.width:Number.MAX_VALUE,s=Math.max(0,t.start||0),a="number"==typeof t.end?t.end:e.length,l=t.mode,c=t.measure||o;return"pre"===l?i(c,e,s,a,n):r(c,e,s,a,n,l)}}),me=(pe.lines,c),ge=Object.prototype.hasOwnProperty,ve=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0},ye=["x","e","a","o","n","s","r","c","u","m","v","w","z"],Te=["m","w"],be=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],xe="\t".charCodeAt(0),Se=" ".charCodeAt(0),we=0,Me=1,Pe=2,Ae=function(e){return new u(e)};u.prototype.update=function(e){if(e=me({measure:this._measure},e),this._opt=e,this._opt.tabSize=ve(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,n=e.text||"",i=e.font;this._setupSpaceGlyphs(i);var r=pe.lines(n,e),o=e.width||0;t.length=0;var s=r.reduce(function(e,t){return Math.max(e,t.width,o)},0),a=0,l=0,c=ve(e.lineHeight,i.common.lineHeight),u=i.common.base,h=c-u,d=e.letterSpacing||0,f=c*r.length-h,m=y(this._opt.align);l-=f,this._width=s,this._height=f,this._descender=c-u,this._baseline=u,this._xHeight=p(i),this._capHeight=g(i),this._lineHeight=c,this._ascender=c-h-this._xHeight;var T=this;r.forEach(function(e,r){for(var o,u=e.start,h=e.end,f=e.width,p=u;p<h;p++){var g=n.charCodeAt(p),y=T.getGlyph(i,g);if(y){o&&(a+=v(i,o.id,y.id));var b=a;m===Me?b+=(s-f)/2:m===Pe&&(b+=s-f),t.push({position:[b,l],data:y,index:p,line:r}),a+=y.xadvance+d,o=y}}l+=c,a=0}),this._linesTotal=r.length},u.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=f(e,Se)||m(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=me(t,{x:0,y:0,xadvance:n,id:xe,xoffset:0,yoffset:0,width:0,height:0})}},u.prototype.getGlyph=function(e,t){var n=f(e,t);return n||(t===xe?this._fallbackTabGlyph:t===Se?this._fallbackSpaceGlyph:null)},u.prototype.computeMetrics=function(e,t,n,i){var r,o,s=this._opt.letterSpacing||0,a=this._opt.font,l=0,c=0,u=0;if(!a.chars||0===a.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var h=t;h<n;h++){var d=e.charCodeAt(h);if(r=this.getGlyph(a,d)){r.xoffset;var f=(l+=o?v(a,o.id,r.id):0)+r.xadvance+s,p=l+r.width;if(p>=i||f>=i)break;l=f,c=p,o=r}u++}return o&&(c+=o.xoffset),{start:t,end:t+u,width:c}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(h);var Ce=n(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}}),Ee=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}},Ge=Object.prototype.toString,He=b,Be=function(e){return null!=e&&(x(e)||S(e)||!!e._isBuffer)},De=[0,2,3],Ie=[2,1,3],ke=function(e,t){e&&(He(e)||Be(e))||(t=e||{},e=null);for(var n="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",i="number"==typeof t.count?t.count:1,r=t.start||0,o=!1!==t.clockwise?De:Ie,s=o[0],a=o[1],l=o[2],c=6*i,u=e||new(Ee(n))(c),h=0,d=0;h<c;h+=6,d+=4){var f=h+r;u[f+0]=d+0,u[f+1]=d+1,u[f+2]=d+2,u[f+3]=d+s,u[f+4]=d+a,u[f+5]=d+l}return u},Le=w,Ne=!1,Re={attr:P,index:M},Oe=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,Ve=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,r=E(e),o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)_e.call(n,s)&&(r[s]=n[s]);if(Oe){i=Oe(n);for(var a=0;a<i.length;a++)ze.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},Fe={pages:function(e){var t=new Float32Array(4*e.length*1),n=0;return e.forEach(function(e){var i=e.data.page||0;t[n++]=i,t[n++]=i,t[n++]=i,t[n++]=i}),t},uvs:function(e,t,n,i){var r=new Float32Array(4*e.length*2),o=0;return e.forEach(function(e){var s=e.data,a=s.x+s.width,l=s.y+s.height,c=s.x/t,u=s.y/n,h=a/t,d=l/n;i&&(u=(n-s.y)/n,d=(n-l)/n),r[o++]=c,r[o++]=u,r[o++]=c,r[o++]=d,r[o++]=h,r[o++]=d,r[o++]=h,r[o++]=u}),r},positions:function(e){var t=new Float32Array(4*e.length*2),n=0;return e.forEach(function(e){var i=e.data,r=e.position[0]+i.xoffset,o=e.position[1]+i.yoffset,s=i.width,a=i.height;t[n++]=r,t[n++]=o,t[n++]=r,t[n++]=o+a,t[n++]=r+s,t[n++]=o+a,t[n++]=r+s,t[n++]=o}),t}},je=2,Ue={min:[0,0],max:[0,0]},Xe={computeBox:function(e,t){G(e),t.min.set(Ue.min[0],Ue.min[1],0),t.max.set(Ue.max[0],Ue.max[1],0)},computeSphere:function(e,t){G(e);var n=Ue.min[0],i=Ue.min[1],r=Ue.max[0]-n,o=Ue.max[1]-i,s=Math.sqrt(r*r+o*o);t.center.set(n+r/2,i+o/2,0),t.radius=s/2}},We=THREE.BufferGeometry,qe=function(e){return new H(e)};Ce(H,We),H.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),!(e=Ve({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=Ae(e);var t=!1!==e.flipY,n=e.font,i=n.common.scaleW,r=n.common.scaleH,o=this.layout.glyphs.filter(function(e){var t=e.data;return t.width*t.height>0});this.visibleGlyphs=o;var s=Fe.positions(o),a=Fe.uvs(o,i,r,t),l=ke({clockwise:!0,type:"uint16",count:o.length});if(Re.index(this,l,1,"uint16"),Re.attr(this,"position",s,2),Re.attr(this,"uv",a,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var c=Fe.pages(o);Re.attr(this,"page",c,1)}},H.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);Xe.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},H.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;if(!t||!n||t.length<2)return void e.makeEmpty();Xe.computeBox(t,e)};var Ke=function(e){var t="number"==typeof(e=e||{}).opacity?e.opacity:1,n="number"==typeof e.alphaTest?e.alphaTest:1e-4,i=e.precision||"highp",r=e.color,o=e.map,s="boolean"!=typeof e.negate||e.negate;return delete e.map,delete e.color,delete e.precision,delete e.opacity,delete e.negate,Ve({uniforms:{opacity:{type:"f",value:t},map:{type:"t",value:o||new THREE.Texture},color:{type:"c",value:new THREE.Color(r)}},vertexShader:["attribute vec2 uv;","attribute vec4 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * position;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","precision "+i+" float;","uniform float opacity;","uniform vec3 color;","uniform sampler2D map;","varying vec2 vUv;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","void main() {","  vec3 sample = "+(s?"1.0 - ":"")+"texture2D(map, vUv).rgb;","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);","  gl_FragColor = vec4(color.xyz, alpha * opacity);",0===n?"":"  if (gl_FragColor.a < "+n+") discard;","}"].join("\n")},e)},Ye=n(function(e,t){!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof k&&k.global===k&&k||this||{},i=n._,r=Array.prototype,o=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,l=r.slice,c=o.toString,u=o.hasOwnProperty,h=Array.isArray,d=Object.keys,f=Object.create,p=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};t.nodeType?n._=m:(!e.nodeType&&e.exports&&(t=e.exports=m),t._=m),m.VERSION="1.9.2";var g,v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return m.iteratee!==g?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?v(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=g=function(e,t){return y(e,t,1/0)};var T=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=Array(t+1);for(r=0;r<t;r++)o[r]=arguments[r];return o[t]=i,e.apply(this,o)}},b=function(e){if(!m.isObject(e))return{};if(f)return f(e);p.prototype=e;var t=new p;return p.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},S=function(e,t){return null!=e&&u.call(e,t)},w=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},M=Math.pow(2,53)-1,P=x("length"),A=function(e){var t=P(e);return"number"==typeof t&&t>=0&&t<=M};m.each=m.forEach=function(e,t,n){t=v(t,n);var i,r;if(A(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=m.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},m.map=m.collect=function(e,t,n){t=y(t,n);for(var i=!A(e)&&m.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o};var C=function(e){var t=function(t,n,i,r){var o=!A(t)&&m.keys(t),s=(o||t).length,a=e>0?0:s-1;for(r||(i=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;i=n(i,t[l],l,t)}return i};return function(e,n,i,r){var o=arguments.length>=3;return t(e,v(n,r,4),i,o)}};m.reduce=m.foldl=m.inject=C(1),m.reduceRight=m.foldr=C(-1),m.find=m.detect=function(e,t,n){var i=(A(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]},m.filter=m.select=function(e,t,n){var i=[];return t=y(t,n),m.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},m.reject=function(e,t,n){return m.filter(e,m.negate(y(t)),n)},m.every=m.all=function(e,t,n){t=y(t,n);for(var i=!A(e)&&m.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},m.some=m.any=function(e,t,n){t=y(t,n);for(var i=!A(e)&&m.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,i){return A(e)||(e=m.values(e)),("number"!=typeof n||i)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=T(function(e,t,n){var i,r;return m.isFunction(t)?r=t:m.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),m.map(e,function(e){var o=r;if(!o){if(i&&i.length&&(e=w(e,i)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var i,r,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=A(e)?e:m.values(e)).length;a<l;a++)null!=(i=e[a])&&i>o&&(o=i);else t=y(t,n),m.each(e,function(e,n,i){((r=t(e,n,i))>s||r===-1/0&&o===-1/0)&&(o=e,s=r)});return o},m.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=A(e)?e:m.values(e)).length;a<l;a++)null!=(i=e[a])&&i<o&&(o=i);else t=y(t,n),m.each(e,function(e,n,i){((r=t(e,n,i))<s||r===1/0&&o===1/0)&&(o=e,s=r)});return o},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return A(e)||(e=m.values(e)),e[m.random(e.length-1)];var i=A(e)?m.clone(e):m.values(e),r=P(i);t=Math.max(Math.min(t,r),0);for(var o=r-1,s=0;s<t;s++){var a=m.random(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)},m.sortBy=function(e,t,n){var i=0;return t=y(t,n),m.pluck(m.map(e,function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e,t){return function(n,i,r){var o=t?[[],[]]:{};return i=y(i,r),m.each(n,function(t,r){var s=i(t,r,n);e(o,t,s)}),o}};m.groupBy=E(function(e,t,n){S(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=E(function(e,t,n){e[n]=t}),m.countBy=E(function(e,t,n){S(e,n)?e[n]++:e[n]=1});m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g):A(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:A(e)?e.length:m.keys(e).length},m.partition=E(function(e,t,n){e[n?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var G=function(e,t,n,i){for(var r=(i=i||[]).length,o=0,s=P(e);o<s;o++){var a=e[o];if(A(a)&&(m.isArray(a)||m.isArguments(a)))if(t)for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else G(a,t,n,i),r=i.length;else n||(i[r++]=a)}return i};m.flatten=function(e,t){return G(e,t,!1)},m.without=T(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,n,i){m.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=y(n,i));for(var r=[],o=[],s=0,a=P(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||r.push(l),o=c):n?m.contains(o,c)||(o.push(c),r.push(l)):m.contains(r,l)||r.push(l)}return r},m.union=T(function(e){return m.uniq(G(e,!0,!0))}),m.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=P(e);i<r;i++){var o=e[i];if(!m.contains(t,o)){var s;for(s=1;s<n&&m.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},m.difference=T(function(e,t){return t=G(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,P).length||0,n=Array(t),i=0;i<t;i++)n[i]=m.pluck(e,i);return n},m.zip=T(m.unzip),m.object=function(e,t){for(var n={},i=0,r=P(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var H=function(e){return function(t,n,i){n=y(n,i);for(var r=P(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}};m.findIndex=H(1),m.findLastIndex=H(-1),m.sortedIndex=function(e,t,n,i){for(var r=(n=y(n,i,1))(t),o=0,s=P(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o};var B=function(e,t,n){return function(i,r,o){var s=0,a=P(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(l.call(i,s,a),m.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(i[o]===r)return o;return-1}};m.indexOf=B(1,m.findIndex,m.sortedIndex),m.lastIndexOf=B(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(l.call(e,i,i+=t));return n};var D=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=b(e.prototype),s=e.apply(o,r);return m.isObject(s)?s:o};m.bind=T(function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var i=T(function(r){return D(e,i,t,this,n.concat(r))});return i}),m.partial=T(function(e,t){var n=m.partial.placeholder,i=function(){for(var r=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[r++]:t[a];for(;r<arguments.length;)s.push(arguments[r++]);return D(e,i,this,this,s)};return i}),m.partial.placeholder=m,m.bindAll=T(function(e,t){var n=(t=G(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=m.bind(e[i],e)}}),m.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return S(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},m.delay=T(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:m.now(),i=null,s=e.apply(r,o),i||(r=o=null)},c=function(){var c=m.now();a||!1!==n.leading||(a=c);var u=t-(c-a);return r=this,o=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),a=c,s=e.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),a=0,i=r=o=null},c},m.debounce=function(e,t,n){var i,r,o=function(t,n){i=null,n&&(r=e.apply(t,n))},s=T(function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(o,t),a&&(r=e.apply(this,s))}else i=m.delay(o,t,this,s);return r});return s.cancel=function(){clearTimeout(i),i=null},s},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=T;var I=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=function(e,t){var n=L.length,i=e.constructor,r=m.isFunction(i)&&i.prototype||o,s="constructor";for(S(e,s)&&!m.contains(t,s)&&t.push(s);n--;)(s=L[n])in e&&e[s]!==r[s]&&!m.contains(t,s)&&t.push(s)};m.keys=function(e){if(!m.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)S(e,n)&&t.push(n);return I&&N(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&N(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},m.mapObject=function(e,t,n){t=y(t,n);for(var i=m.keys(e),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=t(e[a],a,e)}return o},m.pairs=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},m.invert=function(e){for(var t={},n=m.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var R=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}};m.extend=R(m.allKeys),m.extendOwn=m.assign=R(m.keys),m.findKey=function(e,t,n){t=y(t,n);for(var i,r=m.keys(e),o=0,s=r.length;o<s;o++)if(i=r[o],t(e[i],i,e))return i};var O=function(e,t,n){return t in n};m.pick=T(function(e,t){var n={},i=t[0];if(null==e)return n;m.isFunction(i)?(t.length>1&&(i=v(i,t[1])),t=m.allKeys(e)):(i=O,t=G(t,!1,!1),e=Object(e));for(var r=0,o=t.length;r<o;r++){var s=t[r],a=e[s];i(a,s,e)&&(n[s]=a)}return n}),m.omit=T(function(e,t){var n,i=t[0];return m.isFunction(i)?(i=m.negate(i),t.length>1&&(n=t[1])):(t=m.map(G(t,!1,!1),String),i=function(e,n){return!m.contains(t,n)}),m.pick(e,i,n)}),m.defaults=R(m.allKeys,!0),m.create=function(e,t){var n=b(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var _,z;_=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&z(e,t,n,i)},z=function(e,t,n,i){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var r=c.call(e);if(r!==c.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return s.valueOf.call(e)===s.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!_(e[u],t[u],n,i))return!1}else{var h,d=m.keys(e);if(u=d.length,m.keys(t).length!==u)return!1;for(;u--;)if(h=d[u],!S(t,h)||!_(e[h],t[h],n,i))return!1}return n.pop(),i.pop(),!0},m.isEqual=function(e,t){return _(e,t)},m.isEmpty=function(e){return null==e||(A(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=h||function(e){return"[object Array]"===c.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return S(e,"callee")});var V=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof V&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return S(e,t);for(var n=t.length,i=0;i<n;i++){var r=t[i];if(null==e||!u.call(e,r))return!1;e=e[r]}return!!n},m.noConflict=function(){return n._=i,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return w(t,e)}:x(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?w(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var i=Array(Math.max(0,e));t=v(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=m.invert(F),U=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};m.escape=U(F),m.unescape=U(j),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var i=t.length;if(!i)return m.isFunction(n)?n.call(e):n;for(var r=0;r<i;r++){var o=null==e?void 0:e[t[r]];void 0===o&&(o=n,r=i),e=m.isFunction(o)?o.call(e):o}return e};var X=0;m.uniqueId=function(e){var t=++X+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=function(e){return"\\"+W[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var i=RegExp([(t.escape||/(.)^/).source,(t.interpolate||/(.)^/).source,(t.evaluate||/(.)^/).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(/\\|'|\r|\n|\u2028|\u2029/g,q),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,m)},l=t.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},m.chain=function(e){var t=m(e);return t._chain=!0,t};var K=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),K(this,n.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],K(this,n)}}),m.each(["concat","join","slice"],function(e){var t=r[e];m.prototype[e]=function(){return K(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)}}()});Ye._;class Qe{constructor(e){this.app=e,this.assets=e.assets,this.raycaster=this.app.raycaster,this.scene,this.camera,this.targetContainer,this.clickPos,this.interactive=!1,this.mouseMoveHandler=this.onMouseMove.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.mouseUpHandler=this.onMouseUp.bind(this),this.wheelEventHandler=Ye.debounce(this.onMouseWheel.bind(this),100,!0),this.sceneChangeHandler=this.onSceneChange.bind(this),this.onPictureTransitionStartHandler=this.onPictureTransitionStart.bind(this),this.onPictureTransitionEndHandler=this.onPictureTransitionEnd.bind(this),this.onScrollBarSyncHandler=this.onScrollBarSync.bind(this),this.onClosePictureHandler=this.onClosePicture.bind(this),this.init()}onSceneChange(e){e.in==this?(this.app.addPass(this),this.targetContainer.startIntro?this.registEvent():setTimeout(()=>{this.startIntro()},0)):e.out==this&&(this.clearEvent(),this.app.removePass(this))}initEventListener(){_.pictureTransitionStarted.add(this.onPictureTransitionStartHandler),_.pictureTransitionEnded.add(this.onPictureTransitionEndHandler),_.scrollBarChange.add(this.onScrollBarSyncHandler),_.contentClosed.add(this.onClosePictureHandler),_.sceneChanged.add(this.sceneChangeHandler),_.menuChanged.add(e=>{let n=this.targetContainer.children[e];let i=n.itemPositions[0];t.to(this.targetContainer.position,{x:-i.x});this.dispatchListScrollEvent(i.x/this.targetContainer.listWidth)})}initTitleMesh(){let t=this.assets.get("title"),n=new e.PlaneGeometry(32,32),i=new e.MeshBasicMaterial({map:t,side:e.FrontSide,transparent:!0});this.titleMesh=new e.Mesh(n,i),this.scene.add(this.titleMesh)}clearTitleMesh(){this.scene.remove(this.titleMesh),this.titleMesh.geometry.dispose(),this.titleMesh.material.dispose(),this.titleMesh=null}startIntro(){this.targetContainer.startIntro=!0;let e=this.targetContainer.children[0],n=this.getViewPortSize();this.initTitleMesh();let i=t.timeline({defaults:{ease:"power2.out",duration:.8},onComplete:()=>{this.registEvent();_.introEnded.dispatch()}});i.to(this.camera.position,{z:`-=${.91*n.height}`,ease:"elastic.out(1.2, 1)",duration:.96}),i.from(this.titleMesh.scale,{x:.001,y:.001,ease:"elastic.out(1.2, 1)"}),i.to(this.titleMesh.material,{opacity:0,onComplete:()=>{this.clearTitleMesh()}}),i.to(this.camera.position,{z:300,ease:"power1.in",duration:.8},"<"),i.add(e.getLabelTransition(),"<"),i.add(e.getLineTransition(),"<+.5");let r=e.getItemTransition(),o=r.totalDuration();i.to(this.camera.position,{x:e.listWidth,duration:o,onStart:()=>{i.timeScale(1.2)},onComplate:()=>{i.timeScale(1)}},"<+.5"),i.add(r,"<"),e=this.targetContainer.children[1],i.add(e.getShowTransition(),">-.5"),i.to(this.camera.position,{x:0,z:200},"<+1")}init(){this.initThree(),this.initComposer(),this.initEventListener()}setDataProvider(e){let t=this.getViewPortSize(),n=t.width*this.targetContainer.imageScaleRate,i=t.height*this.targetContainer.imageScaleRate,r=this.assets.get("fontTexture"),o=this.assets.get("font");for(let t=0;t<e.length;t++){let s=e[t];s.font=o,s.fontTexture=r;let a=s.items,l=a.length;for(let e=0;e<l;e++){let t=a[e],s=this.assets.get(z(t.thumb));t.w=n,t.h=i,t.fontTexture=r,t.font=o,t.uniforms=this.getImageUniforms({w:t.w,h:t.h,texture:s}),t.fs=de,t.vs=fe}}this.targetContainer.setDataProvider(e)}onScrollBarSync(e){this.targetContainer.position.x=-e*this.targetContainer.listWidth,this.targetContainer.checkGroupItemDisplay(this.targetContainer.position.x)}registEvent(){_.mouseMove.add(this.mouseMoveHandler),_.mouseDown.add(this.mouseDownHandler),_.mouseUp.add(this.mouseUpHandler),this.assets.mobile()||this.app.ele.addEventListener("wheel",this.wheelEventHandler,!1)}clearEvent(){document.body.style.cursor="",_.mouseMove.remove(this.mouseMoveHandler),_.mouseDown.remove(this.mouseDownHandler),_.mouseUp.remove(this.mouseUpHandler),this.assets.mobile()||this.app.ele.removeEventListener("wheel",this.wheelEventHandler,!1)}onPictureTransitionStart(e){this.clearEvent(),this.targetContainer.hoverItem=e}onPictureTransitionEnd(e){e.focus||(this.registEvent(),this.targetContainer.updateHoverStateWithIntersectionList([]))}onClosePicture(){this.targetContainer.toggleTargetTransition(this.targetContainer.hoverItem)}onMouseWheel(e){if(!this.targetContainer.hasFocusItem){let t=e.wheelDelta||e.detail,n=this.getViewPortSize().width/2;n<=Je&&(n=this.getViewPortSize().width);let i=.16*n;t>0?this.targetContainer.startThrowTransition(i):this.targetContainer.startThrowTransition(-i)}}initComposer(){this.renderPass=new ee(this.scene,this.camera),this.effectPass=new se(this.camera,this.app.cursorEffect)}initThree(){this.targetContainer=new et,this.scene=new e.Scene,this.scene.add(this.targetContainer),this.camera=new e.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,0,200)}getImageUniforms(t){return{uPlaneSize:{type:"v2",value:new e.Vector2(t.w,t.h)},uImageSize:{type:"v2",value:new e.Vector2(t.texture.image.width,t.texture.image.height)},uImage:{type:"t",value:t.texture},uMouse:{type:"v2",value:new e.Vector2},uZoomDelta:{type:"f",value:.14},uZoom:{type:"f",value:0},uExpand:{type:"f",value:0}}}getGroupItemVO(e){let t,n,i=[],r=e.textures,o=e.w,s=e.h,a=e.fontTexture,l=e.font,c=r.length;for(n=0;n<c;n++){let e=this.getImageUniforms({w:o,h:s,texture:r[n]});t={w:o,h:s,text:"image_"+n,fontTexture:a,font:l,uniforms:e,fs:de,vs:fe,type:2!=n?"dom":"component"},i.push(t)}return i}dispatchListScrollEvent(e){_.listScrollChange.dispatch(Math.abs(e))}syncContainerWithDragging(e){let t=this.getViewPortSize(),n=R(e,this.clickPos).dx*t.width;this.targetContainer.position.x=this.targetContainer.origin.x+n,this.targetContainer.checkGroupItemDisplay(this.targetContainer.position.x),this.dispatchListScrollEvent(this.targetContainer.position.x/this.targetContainer.listWidth)}onMouseUp(e){if(null!=this.clickPos){if(alert("diff"+Math.abs(this.clickPos.x-e.uv.x)),t.to(this.camera.position,{z:200,duration:.3,overwrite:!0,ease:"none"}),0==Math.abs(this.clickPos.x-e.uv.x)){let t=this.getRaycasterIntersectionList(e.originalEvent);if(t.length>0){let e=t[0];e.object.parent.name.indexOf(Ze)>-1&&this.targetContainer.toggleTargetTransition(e.object.parent)}}else{if(this.targetContainer.hasFocusItem)return;let t=R(e.uv,e.prevTargetUv);this.targetContainer.startThrowTransition(t.dx*this.getViewPortSize().width)}this.clickPos=null}}onMouseDown(e){this.clickPos={x:e.uv.x,y:e.uv.y},this.targetContainer.origin=this.targetContainer.position.clone(),t.to(this.camera.position,{z:190,duration:.3,overwrite:!0,ease:"none"}),this.targetContainer.stopThrowTransition()}onMouseMove(e){if(!this.targetContainer.hasFocusItem&&(null!=this.clickPos&&this.syncContainerWithDragging(e.uv),!this.assets.mobile())){let t=this.getRaycasterIntersectionList(e.originalEvent);this.targetContainer.updateHoverStateWithIntersectionList(t)}}getRaycasterIntersectionList(e){return this.raycaster.setFromCamera({x:e.clientX/window.innerWidth*2-1,y:-e.clientY/window.innerHeight*2+1},this.camera),this.raycaster.intersectObjects(this.targetContainer.children,!0)}render(){this.targetContainer.render()}getViewPortSize(){let e=this.camera.fov*Math.PI/180,t=Math.abs(this.camera.position.z*Math.tan(e/2)*2);return{width:t*this.camera.aspect,height:t}}resize(){let e=O(),t=e.w,n=e.h;this.camera.aspect=t/n,this.camera.updateProjectionMatrix();let i=this.getViewPortSize(),r=this.targetContainer.getMinDist(this.targetContainer.position.x);if(this.targetContainer.position.x=0,this.targetContainer.updateMatrixWorld(),this.targetContainer.resizeListItem(i),this.targetContainer.position.x=-this.targetContainer.gridPositions[r.idx].x,null!=this.targetContainer.hoverItem&&this.targetContainer.hoverItem.focus){let e=this.targetContainer.hoverItem.parent.getWorldPosition();e=this.targetContainer.worldToLocal(e);let t=this.targetContainer.position.x+e.x;this.targetContainer.hoverItem.position.x=-t}}}const Ze="photoItem_",Je=100,$e=e=>{let t=.5*e;t<=Je&&(t=e);return t};class et extends e.Object3D{constructor(){super(),this.hoverItem=null,this.activeItem=null,this.startIntro=!1,this.vx=0,this.tx=0,this.imageScaleRate=.36,this.origin=this.position.clone(),this.expandGeo,this.normalGeo,this.gridPositions=[],this.gridColors=[],this.pictures=[],this.viewportInfo={w:0,h:0,pw:0,ph:0},this.colorIndex=0}set vx(e){this.userData.vx=e}get vx(){return this.userData.vx}set tx(e){this.userData.tx=e}get tx(){return this.userData.tx}get origin(){return this.userData.startPosition}set origin(e){this.userData.startPosition=e}set space(e){this.userData.space=e}get space(){return this.userData.space}set hasFocusItem(e){this.userData.hasFocusItem=e}get hasFocusItem(){return this.userData.hasFocusItem}set imageScaleRate(e){this.userData.scaleRatio=e}get imageScaleRate(){return this.userData.scaleRatio}set listWidth(e){this.userData.listWidth=e}get listWidth(){return this.userData.listWidth||0}get pictureList(){return this.pictures.length>0?this.pictures:(this.children.forEach(e=>{this.pictures.concat(e.container.children)}),this.pictures)}getMinDist(e){let t={x:-1,idx:-1},n=500;return this.gridPositions.forEach((i,r)=>{let o=Math.abs(i.x-Math.abs(e));o<n&&(n=o,t={x:i.x,idx:r})}),t}updateItemFocusColor(){let e=this.getMinDist(this.position.x);if(e.idx!=this.colorIndex){this.colorIndex=e.idx;let t=this.gridColors[this.colorIndex];this.gridColors.forEach(e=>{e.item&&(e.item==t.item?e.item.active=!0:e.item.active=!1)}),_.updateBgColor.dispatch(t.color)}}setDataProvider(e){let t,n;for(let i=0;i<e.length;i++)n=e[i],(t=new tt).setData(n),t.name="groupItem_"+i,this.gridColors=this.gridColors.concat(t.getItemColors()),this.add(t);this.sort()}sort(){this.gridPositions=[];let e,t=this.children.length,n=0,i=$e(this.viewportInfo.pw);for(let r=0;r<t;r++){let t=(e=this.children[r]).listWidth+i;e.position.x=n,e.updateMatrixWorld(),this.gridPositions=this.gridPositions.concat(e.getItemPositions()),n+=t}this.listWidth=n-i}resizeListItem(t){let n=t.width,i=t.height,r=n*this.imageScaleRate,o=i*this.imageScaleRate;n/i<=1&&(r=o),this.viewportInfo={w:r,h:o,pw:n,ph:i},this.normalGeo&&(this.normalGeo.dispose(),this.expandGeo.dispose()),this.normalGeo=new e.PlaneGeometry(r,o,3,3),this.expandGeo=new e.PlaneGeometry(n,i,3,3),this.children.forEach(e=>{e.resize({pw:n,ph:i,nw:r,nh:o,normalGeo:this.normalGeo,focusGeo:this.expandGeo})}),this.sort()}updateItemHoverState(){let e=this.children.length;for(let t=0;t<e;t++)this.children[t].updateItemHoverState(this.hoverItem)}updateHoverStateWithIntersectionList(e){if(e.length>0){let n=e[0];if("image"==n.object.name){this.hoverItem=n.object.parent;let e=n.object.material.uniforms.uMouse.value;t.to(e,{x:n.uv.x,y:n.uv.y,duration:.1}),document.body.style.cursor="pointer"}}else this.hoverItem=null,document.body.style.cursor=""}toggleTargetTransition(n){let i=n.parent.getWorldPosition(new e.Vector3),r=this.worldToLocal(i),o=this.position.x+r.x,s=this.expandGeo,a={x:-o,y:0,w:s.parameters.width,h:s.parameters.height,opacity:1},l=n.image,c=n.label,u=l.material.uniforms.uPlaneSize.value,h=!1;n.focus?(s=this.normalGeo,a.x=n.origin.x,a.y=n.origin.y,a.z=1):(h=!0,n.origin=n.position.clone(),a.y=0,a.z=1.2,a.opacity=0),a.w=s.parameters.width,a.h=s.parameters.height;let d=u.x,f=u.y,p=a.w-d,m=a.h-f,g=t.timeline({defaults:{duration:.5,ease:"back.out"},onStart:()=>{_.pictureTransitionStarted.dispatch(n)},onUpdate:()=>{l.material.uniforms.uPlaneSize.value.set(d+p*g.totalProgress(),f+m*g.totalProgress());let e=h?.88*g.totalProgress():1-g.totalProgress();l.material.uniforms.uExpand.value=e;l.geometry.verticesNeedUpdate=!0},onComplete:()=>{l.geometry.computeBoundingBox();l.geometry.computeBoundingSphere();n.focus=h;this.hasFocusItem=h;_.pictureTransitionEnded.dispatch(n)}});g.to(c.material.uniforms.opacity,{duration:.5,value:a.opacity}),s.vertices.forEach((e,t)=>{let n=Math.round(t/4);let i=.05*n;let r=g.totalDuration()+(i-.9*i);g.to(l.geometry.vertices[t],{x:e.x,y:e.y,delay:i},`-=${r}`)}),g.to(n.position,{x:a.x,y:a.y,z:a.z,ease:"power2.out"},`-=${g.totalDuration()}`)}checkGroupItemDisplay(t){this.children.forEach(n=>{let i=Math.abs(this.worldToLocal(n.getWorldPosition(new e.Vector3)).x);let r=Math.abs(Math.abs(t)-i);r<=this.expandGeo.parameters.width/3&&!n.introTransition&&n.getShowTransition()})}startThrowTransition(e,n){this.vx=e;let i=.1*this.viewportInfo.w;t.to(this,{vx:0,duration:.6,onUpdate:()=>{let e=this.position.x;e>0?this.tx=.1*-e:e<-this.listWidth?this.tx=.1*(-this.listWidth-e):Math.abs(this.vx)<=i&&(this.tx=.1*(-this.getMinDist(e).x-e));e+=this.vx+this.tx;this.checkGroupItemDisplay(e);this.position.x=e},onComplete:()=>{let e=this.getMinDist(this.position.x).x;t.to(this.position,{x:-e,duration:.1,ease:"none"});_.listScrollChange.dispatch(e/this.listWidth)},ease:"power2.out"})}stopThrowTransition(){this.vx=0,t.killTweensOf(this)}render(){this.updateItemFocusColor(),this.updateItemHoverState()}destroy(){let e,t=this.children.length;for(let n=0;n<t;n++)(e=this.children[n])instanceof tt&&e.destroy(),this.remove(e);for(let e in this.userData)this.userData[e]=null;this.expandGeo.dispose(),this.normalGeo.dispose(),this.expandGeo=null,this.normalGeo=null,this.userData=null,this.gridPositions=null}}class tt extends e.Object3D{constructor(){super(),this.label,this.line,this.vo,this.imageScaleRate=.36,this.container=new e.Group,this.itemPositions=[],this.listWidth=0,this.introTransition=!1,this.viewportInfo={w:0,h:0,pw:0,ph:0}}get labelInfo(){return this.label.geometry.layout}set ty(e){this.userData.ty=e}get ty(){return this.userData.ty}validateLabelScale(){let e=this.label.scale.x*this.labelInfo.width;this.label.position.x=.5*-e}validateLineScale(){let e=this.line.scale.x*this.listWidth;this.line.position.x=.5*e}setData(e){this.vo=e,this.label=this.createLabel(),this.container=this.createItems(),this.line=this.createLine(),this.add(this.line),this.add(this.container),this.add(this.label),this.sort(),this.label.visible=!1,this.container.visible=!1,this.line.visible=!1}getItemTransition(){let e=t.timeline({defaults:{duration:.8,ease:"power1.out"}});e.set(this.container,{visible:!0});let n;for(let t=0;t<this.container.children.length;t++)n=this.container.children[t],e.from(n.scale,{x:.001,y:.001,delay:.05*t},`<`),e.from(n.position,{z:"+=20",x:"+=60"},`<`);return e}getLabelTransition(){return t.set(this.label,{visible:!0}),this.introTransition=!0,t.from(this.label.scale,{x:1e-4,y:1e-4,ease:"elastic.out(1.2, 1.)",duration:1.6,onUpdate:()=>{this.validateLabelScale()}})}getLineTransition(){return t.set(this.line,{visible:!0}),t.from(this.line.scale,{x:1e-5,duration:2,ease:"strong.out"})}getShowTransition(){let e=t.timeline();return e.add(this.getLabelTransition(),">"),e.add(this.getLineTransition(),">-.5"),e.add(this.getItemTransition(),"<"),e.timeScale(2),e}sort(){let e,t,n=this.container.children.length,i=$e(this.viewportInfo.pw),r=i;for(let o=0;o<n;o++)t=this.container.children[o],e&&(r+=i),t.focus?t.origin.x=r:t.position.x=r,t.position.y=0,e=t;this.listWidth=r}getItemPositions(){let t=[];t.push(this.container.getWorldPosition(new e.Vector3));let n=this.container.children.length;for(let i=0;i<n;i++){let n=this.container.children[i],r=n.getWorldPosition(new e.Vector3);if(n.focus){let t=n.position.x;n.position.x=n.origin.x,n.updateMatrixWorld(),r=n.getWorldPosition(new e.Vector3),n.position.x=t}t.push(r)}return this.itemPositions=t,t}getItemColors(){let e=[];e.push({color:"#000000",item:null});let t=this.container.children.length;for(let n=0;n<t;n++){let t=this.container.children[n];e.push({color:t.vo.color,item:t})}return e}createLabel(){let t=this.vo,n=t.fontTexture,i=qe({font:t.font,text:t.label,align:"center",flipY:n.flipY}),r=new e.RawShaderMaterial(Ke({transparent:!0,side:e.FrontSide,map:n,color:"rgb(255,255,255)",negate:!1})),o=new e.Mesh(i,r);o.rotation.set(Math.PI,0,0),o.scale.set(.6,.6,1);let s=i.layout;return o.position.x=-.6*s.width*.5,o.position.y=-.6*s.height*.5,i.computeBoundingBox(),o.updateMatrixWorld(),o}get lineStartX(){return.6*this.labelInfo.width/2}createLine(){let t=new e.Color(16777215),n=new e.BufferGeometry,i=this.lineStartX;n.setAttribute("position",new e.Float32BufferAttribute([0,0,0,this.listWidth-i,0,0],3)),n.setAttribute("color",new e.Float32BufferAttribute([t.r,t.g,t.b,.8*t.r,.8*t.g,.8*t.b],3));let r=new e.LineBasicMaterial({vertexColors:!0,linewidth:2}),o=new e.Line(n,r);return o.computeLineDistances(),o.position.x=i,o.renderOrder=-1,o}createItems(){let t,n=this.vo.items.length,i=new e.Group;for(let e=0;e<n;e++)(t=new nt).setData(this.vo.items[e]),t.name=Ze+e,t.focus=!1,t.origin=t.position.clone(),i.add(t);return i}updateItemHoverState(e){this.container.children.forEach(t=>{t==e||t.active?t.rollOverEffect():t.rollOutEffect()})}resize(e){console.log("resize"),this.viewportInfo={w:e.nw,h:e.nh,pw:e.pw,ph:e.ph},this.container.children.forEach(t=>{t.resize(e)}),this.sort(),this.line.geometry.attributes.position.array[3]=this.listWidth-this.lineStartX,this.line.geometry.attributes.position.needsUpdate=!0}destroy(){this.container.children.forEach(e=>{e.destroy();this.container.remove(e)});for(let e in this.userData)this.userData[e]=null;this.vo=null,this.label.geometry.dispose(),this.label.material.dispose(),this.label=null,this.line.geometry.dispose(),this.line.material.dispose(),this.line=null}}class nt extends e.Object3D{constructor(){super(),this.label,this.image,this.renderOrder=1,this.position.z=1}get origin(){return this.userData.startPosition}set origin(e){this.userData.startPosition=e}get focus(){return this.userData.focus}set focus(e){this.userData.focus=e}resize(e){let t=e.nw,n=e.nh;this.vo.w=t,this.vo.h=n;let i=e.normalGeo;this.focus&&(t=e.pw,n=e.ph,i=e.focusGeo),this.image&&(this.image.material.uniforms.uPlaneSize.value.set(t,n),i.vertices.forEach((e,t)=>{this.image.geometry.vertices[t].set(e.x,e.y,e.z)}),this.image.geometry.verticesNeedUpdate=!0,this.image.geometry.computeBoundingBox(),this.image.geometry.computeBoundingSphere())}setData(e){this.vo=e,this.label=this.getTextMesh(this.vo),this.label.name="label",this.image=this.getImageMesh(this.vo),this.image.name="image",this.label.position.z-=1,this.add(this.label),this.add(this.image)}getTextMesh(t){let n=t.fontTexture,i=qe({font:t.font,text:t.title,align:"center",flipY:n.flipY}),r=new e.RawShaderMaterial(Ke({transparent:!0,side:e.FrontSide,map:n,color:"rgb(255,255,255)",negate:!1})),o=new e.Mesh(i,r),s=i.layout;return o.position.x=-.14*s.width*.5,o.position.y=.5*-t.h-(s.descender-2),o.rotation.set(Math.PI,0,0),o.scale.set(.14,.14,1),i.computeBoundingBox(),o.updateMatrixWorld(),o}getImageMesh(t){let n=new e.PlaneGeometry(t.w,t.h,3,3),i=new e.ShaderMaterial({uniforms:t.uniforms,fragmentShader:t.fs,vertexShader:t.vs});return new e.Mesh(n,i)}killTween(){t.killTweensOf(this.image.material.uniforms.uZoom),t.killTweensOf(this.label.material.uniforms.color.value)}rollOverEffect(){this.label.material.uniforms.opacity.value<.1&&(this.killTween(),this.image.material.uniforms.uMouse.value.set(.5,.5),t.to(this.image.material.uniforms.uZoom,.5,{value:1,ease:"back.out"}),t.to(this.label.material.uniforms.opacity,.3,{value:1}))}rollOutEffect(){this.label.material.uniforms.opacity.value>.1&&(this.killTween(),this.image.material.uniforms.uMouse.value.set(0,0),t.to(this.image.material.uniforms.uZoom,.5,{value:0,ease:"back.out"}),t.to(this.label.material.uniforms.opacity,.3,{value:0}))}destroy(){this.children.forEach(e=>{e.material.dispose();e.geometry.dispose()});for(let e in this.userData)this.userData[e]=null;this.userData=null,this.label=null,this.image=null}}class it{constructor(e){this.app=e,this.assets=e.assets,this.scene,this.camera,this.screen,this.time=0,this.sceneChangeHandler=this.onSceneChange.bind(this),this.animateHandler=this.animate.bind(this),this.init()}initThree(){this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.set(0,0,50)}initTarget(){let t=new e.PlaneGeometry(1,1),n=new e.ShaderMaterial({uniforms:this.getUniforms(this.images[0],this.images[1]),fragmentShader:"precision highp float;\n#define GLSLIFY 1\nvarying vec2 vUv;uniform vec2 uResolution;uniform vec2 uImageSize;uniform float uScaleX;uniform float uScaleY;uniform float uScaleZ;uniform float uProgress;uniform float uTime;uniform float uRnd1;uniform float uRnd2;uniform float uRnd3;uniform float uRnd4;uniform sampler2D uTexture;uniform sampler2D uTexture2;vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}float quadraticOut(float t){return-t*(t-2.0);}vec2 getRatioUV(vec2 uv,vec2 canvasSize,vec2 textureSize){vec2 ratio=vec2(min((canvasSize.x/canvasSize.y)/(textureSize.x/textureSize.y),1.),min((canvasSize.y/canvasSize.x)/(textureSize.y/textureSize.x),1.));return vec2(uv.x*ratio.x+(1.-ratio.x)*.5,uv.y*ratio.y+(1.-ratio.y)*.5);}void main(){vec2 uv=vUv;uv=getRatioUV(uv,uResolution,uImageSize);vec4 current=texture2D(uTexture,uv);vec4 next=texture2D(uTexture2,uv);float progress=quadraticOut(min(uProgress,1.0));float r_progress=1.-progress;float sum=uRnd1+uRnd2;float sum2=uRnd3+uRnd4;float noise=(snoise(vec3(uv.x*uScaleX,uv.y*uScaleY,uTime+uScaleZ))+1.)*.45;float maskvalue=smoothstep(progress-sum,progress-sum*.5,noise);float maskvalue2=smoothstep(r_progress-sum2,r_progress-sum2*.5,1.-noise);gl_FragColor=current*maskvalue+next*maskvalue2;}",vertexShader:fe,transparent:!0});this.screen=new e.Mesh(t,n),this.scene.add(this.screen),this.resize()}clearTarget(){this.screen.material.dispose(),this.screen.geometry.dispose(),this.scene.remove(this.screen),this.screen=null}initComposer(){this.renderPass=new ee(this.scene,this.camera),this.effectPass=new se(this.camera,this.app.cursorEffect)}initEventListener(){_.sceneChanged.add(this.sceneChangeHandler)}initResource(){}getUniforms(t,n){return{uRnd1:{type:"f",value:.055},uRnd2:{type:"f",value:.05},uRnd3:{type:"f",value:.024},uRnd4:{type:"f",value:.045},uTime:{type:"f",value:0},uScaleX:{type:"f",value:4},uScaleY:{type:"f",value:9},uScaleZ:{type:"f",value:2},uProgress:{type:"f",value:0},uImageSize:{type:"v2",value:new e.Vector2(t.image.width,t.image.height)},uResolution:{type:"v2",value:new e.Vector2},uTexture:{type:"t",value:t},uTexture2:{type:"t",value:n}}}startTransition(){t.delayedCall(3,this.animateHandler)}stopTransition(){t.killTweensOf(this.animateHandler),t.killTweensOf(this.screen.material.uniforms.uProgress)}animate(){t.to(this.screen.material.uniforms.uProgress,{value:1,duration:5,ease:"back.out",onComplete:()=>{this.index++;this.index%=this.images.length;let e=this.index+1;e%=this.images.length;this.screen.material.uniforms.uProgress.value=0;this.screen.material.uniforms.uTexture.value=this.images[this.index];this.screen.material.uniforms.uTexture2.value=this.images[e]}}),t.delayedCall(6,this.animateHandler)}onSceneChange(e){e.in==this?(this.registEvent(),this.app.addPass(this)):e.out==this&&(this.clearEvent(),this.app.removePass(this))}registEvent(){this.index=0,this.time=0,this.initTarget(),this.startTransition()}clearEvent(){this.stopTransition(),this.clearTarget()}setData(e){this.images=[],e.resources.forEach(e=>{this.images.push(this.assets.get(z(e)))})}init(){this.initThree(),this.initResource(),this.initComposer(),this.initEventListener()}render(){this.screen&&(this.screen.material.uniforms.uTime.value=this.time),this.time+=.005}resize(){let e=O(),t=e.w,n=e.h;this.camera.aspect=t/n,this.camera.fov=180/Math.PI*2*Math.atan(1/(2*this.camera.position.z)),this.screen&&(this.screen.material.uniforms.uResolution.value.set(t,n),this.screen.scale.x=this.camera.aspect,this.screen.scale.y=1),this.camera.updateProjectionMatrix()}}class rt{constructor(e){this.app=e,this.assets=e.assets,this.raycaster=this.app.raycaster,this.scene,this.camera,this.screen,this.area,this.time=0,this.isTransition=!1,this.mouseTrailer,this.sceneChangeHandler=this.onSceneChange.bind(this),this.animateHandler=this.animate.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.init()}initThree(){this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.set(0,0,450)}getUniforms(t){return{uRandom:{type:"f",value:120},uRandom2:{type:"f",value:0},uTime:{type:"f",value:0},uDepth:{type:"f",value:0},uProgress:{type:"f",value:0},uSize:{value:0,type:"f"},uImageSize:{type:"v2",value:new e.Vector2(t.image.width,t.image.height)},uResolution:{type:"v2",value:new e.Vector2(window.innerWidth,window.innerHeight)},uTexture:{type:"t",value:t},uTouch:{type:"t",value:this.app.screenTexture.texture}}}createImageMesh(t){let n=document.createElement("canvas"),i=n.getContext("2d"),r=t.image.width,o=t.image.height;n.width=r,n.style.width=r+"px",n.height=o,n.style.width=o+"px",i.scale(1,1),i.drawImage(t.image,0,0,r,o);let s=new e.Texture(n);s.needsUpdate=!0;let a=new e.PlaneGeometry(r,o),l=new e.MeshBasicMaterial({map:s,transparent:!0,side:e.FrontSide});return l.opacity=.2,new e.Mesh(a,l)}createTargetMesh(t){t.minFilter=e.LinearFilter,t.magFilter=e.LinearFilter,t.format=e.RGBAFormat;let n,i=t.image.width,r=t.image.height,o=i*r,s=0,a=document.createElement("canvas"),l=a.getContext("2d");a.width=i,a.height=r,l.scale(1,-1),l.drawImage(t.image,0,0,i,-r);let c=l.getImageData(0,0,i,r);n=Float32Array.from(c.data);for(let e=0;e<o;e++){let t=n[4*e+0];t>30&&s++}let u=new Uint16Array(s),h=new Float32Array(3*s),d=new Float32Array(s);for(let e=0,t=0;e<o;e++)if(!(n[4*e+0]<=30)){let n=3*t;h[n+0]=e%i,h[n+1]=Math.floor(e/i),u[t]=e,d[t]=Math.random()*Math.PI,t++}let f=new e.InstancedBufferGeometry;e.BufferGeometry.prototype.copy.call(f,new e.PlaneBufferGeometry(1,1)),f.setAttribute("offset",new e.InstancedBufferAttribute(h,3)),f.setAttribute("pindex",new e.InstancedBufferAttribute(u,1)),f.setAttribute("angle",new e.InstancedBufferAttribute(d,1));let p=new e.ShaderMaterial({uniforms:this.getUniforms(t),fragmentShader:"precision highp float;\n#define GLSLIFY 1\nvarying vec2 vPUv;varying vec2 vUv;uniform sampler2D uTexture;uniform float uProgress;uniform vec2 uImageSize;uniform vec2 uResolution;vec2 getRatioUV(vec2 uv,vec2 canvasSize,vec2 textureSize){vec2 ratio=vec2(min((canvasSize.x/canvasSize.y)/(textureSize.x/textureSize.y),1.),min((canvasSize.y/canvasSize.x)/(textureSize.y/textureSize.x),1.));return vec2(uv.x*ratio.x+(1.-ratio.x)*.5,uv.y*ratio.y+(1.-ratio.y)*.5);}float grayValue(vec3 color,vec3 tint){return dot(color,tint);}void main(){vec2 uv=vUv;vec2 puv=vPUv;vec4 colA=texture2D(uTexture,puv);vec3 gray=vec3(grayValue(colA.rgb,vec3(0.3,0.59,0.11)));float lower=0.5;float upper=0.01;float radius=0.5;float dist=radius-distance(uv,vec2(.5));float t=smoothstep(lower,upper,dist);gl_FragColor=vec4(colA.rgb,t);}",vertexShader:"precision highp float;\n#define GLSLIFY 1\nattribute float pindex;attribute vec3 offset;attribute float angle;/*attribute vec3 position;attribute vec2 uv;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;*/uniform float uTime;uniform float uRandom;uniform float uRandom2;uniform float uDepth;uniform float uSize;uniform vec2 uImageSize;uniform sampler2D uTexture;uniform sampler2D uTouch;uniform float uProgress;vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec2 mod289(vec2 x){return x-floor(x*(1.0/289.0))*289.0;}vec3 permute(vec3 x){return mod289(((x*34.0)+1.0)*x);}float snoise(vec2 v){const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);vec2 i=floor(v+dot(v,C.yy));vec2 x0=v-i+dot(i,C.xx);vec2 i1;i1=(x0.x>x0.y)? vec2(1.0,0.0): vec2(0.0,1.0);vec4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mod289(i);vec3 p=permute(permute(i.y+vec3(0.0,i1.y,1.0))+i.x+vec3(0.0,i1.x,1.0));vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);m=m*m;m=m*m;vec3 x=2.0*fract(p*C.www)-1.0;vec3 h=abs(x)-0.5;vec3 ox=floor(x+0.5);vec3 a0=x-ox;m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);vec3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.0*dot(m,g);}varying vec2 vPUv;varying vec2 vUv;float random(float n){return fract(sin(n)*43758.5453123);}float grayValue(vec3 color,vec3 tint){return dot(color,tint);}void main(){vUv=uv;vec2 puv=offset.xy/uImageSize;vPUv=puv;vec4 colA=texture2D(uTexture,puv);float gray=grayValue(colA.rgb,vec3(0.3,0.59,0.11));vec3 displaced=offset;displaced.xy+=vec2(random(pindex)-.5,random(offset.y+pindex)-0.5)*(uRandom+uRandom2*uProgress);float rndz=random(pindex)+snoise(vec2(pindex*.1,uTime*.1));displaced.z+=rndz*(random(pindex)*2.0*uDepth);displaced.xy-=uImageSize*0.5;float t=grayValue(texture2D(uTouch,puv).rgb,vec3(0.3,0.59,0.11));t*=3.;float scale_factor=t*20.*rndz;displaced.z+=scale_factor;displaced.x+=cos(angle)*scale_factor;displaced.y+=sin(angle)*scale_factor;float psize=(snoise(vec2(uTime,pindex)*0.5)+2.);psize*=gray;psize*=uSize;vec4 mvPosition=modelViewMatrix*vec4(displaced,1.0);mvPosition.xyz+=position*psize;gl_Position=projectionMatrix*mvPosition;}",depthTest:!1,transparent:!0});return new e.InstancedMesh(f,p,u.length)}initComposer(){this.renderPass=new ee(this.scene,this.camera),this.effectPass=new se(this.camera,this.app.cursorEffect)}initEventListener(){_.sceneChanged.add(this.sceneChangeHandler)}initResource(){this.images=[this.assets.get("glsl_particle"),this.assets.get("glsl_particle1"),this.assets.get("glsl_particle2"),this.assets.get("glsl_particle3"),this.assets.get("glsl_particle4")]}startTransition(){return t.delayedCall(12,this.animateHandler),this.showTarget()}stopTransition(){this.clearTransition(),_.updateBgColor.dispatch(this.appColor)}animate(){this.isTransition=!0,this.clearTransition(),this.hideTarget().then(()=>{this.clearScreen();this.index++;this.index%=this.images.length;this.initTargetByIndex(this.index);this.startTransition().then(()=>{this.isTransition=!1}).catch(e=>{console.log("error",e)})}).catch(e=>{console.log("error",e)})}particleLoop(){if(null!=this.screen){let e=t.timeline({defaults:{duration:1,ease:"none"},repeat:-1});e.set({},{},">+1"),e.set(this.screen.material.uniforms.uRandom2,{value:t.utils.random(10,40)}),e.to(this.screen.material.uniforms.uProgress,{value:t.utils.random(.3,1)}),e.to(this.screen.material.uniforms.uProgress,{value:0,ease:"power1.out"},">-.6")}}showTarget(){return new Promise((e,n)=>{let i=this.screen.material.uniforms;let r=t.timeline({duration:1,onStart:()=>{this.cancelCheck()&&n();_.updateBgColor.dispatch(this.backgroundColors[this.index])},onComplete:()=>{this.cancelCheck()?n():e()}});r.to(i.uRandom,{value:1.2});r.to(i.uSize,{value:1.2},"<");r.to(i.uDepth,{value:8},"<");r.call(()=>{this.particleLoop()},null,">")})}cancelCheck(){return null==this.screen}hideTarget(){return new Promise((e,n)=>{let i=t.timeline({onStart:()=>{this.cancelCheck()&&n()},onComplete:()=>{this.cancelCheck()?n():e()}});let r=this.screen.material.uniforms;i.to(r.uRandom,{value:120});i.to(r.uSize,{value:0},"<");i.to(r.uDepth,{value:0},"<")})}clearScreen(){this.scene.children.forEach(e=>{e.geometry.dispose();e.material.dispose();this.scene.remove(e)}),this.imageView=null,this.screen=null}initTargetByIndex(e){let t=this.images[e];this.screen=this.createTargetMesh(t),this.scene.add(this.screen),this.resize()}clearTransition(){t.killTweensOf(this.animateHandler),t.killTweensOf(this.screen.material.uniforms)}onSceneChange(e){e.in==this?(this.registEvent(),this.app.addPass(this)):e.out==this&&(this.clearEvent(),this.app.removePass(this))}onMouseDown(e){this.isTransition?console.log("전환중!!"):this.animate()}registEvent(){this.index=0,this.isTransition=!0,this.appColor=this.app.backgroundColor,_.mouseUp.add(this.mouseDownHandler),this.initTargetByIndex(this.index),this.startTransition().then(()=>{this.isTransition=!1})}clearEvent(){_.mouseUp.remove(this.mouseDownHandler),this.stopTransition(),this.clearScreen()}setData(e){this.images=[],e.resources.forEach(e=>{this.images.push(this.assets.get(z(e)))}),this.backgroundColors=e.backgroundColors}init(){this.initThree(),this.initComposer(),this.initEventListener()}render(){this.screen&&(this.screen.material.uniforms.uTime.value=this.time),this.time+=.05}resize(){let e=O(),t=e.w,n=e.h;this.camera.aspect=t/n,this.camera.updateProjectionMatrix();let i=this.camera.fov*Math.PI/180,r=Math.abs(this.camera.position.z*Math.tan(i/2)*2);if(this.screen){this.screen.material.uniforms.uResolution.value.set(t,n);let e=r/this.screen.material.uniforms.uImageSize.value.y;this.scene.children.forEach(t=>{t.scale.set(e,e,1)})}}}class ot{constructor(e){this.app=e,this.assets=e.assets,this.scene,this.camera,this.screen,this.tree,this.area,this.time=0,this.sceneChangeHandler=this.onSceneChange.bind(this),this.animateHandler=this.animate.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.init()}initThree(){this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.set(0,0,10)}initComposer(){this.renderPass=new ee(this.scene,this.camera),this.effectPass=new se(this.camera,this.app.cursorEffect)}initEventListener(){_.sceneChanged.add(this.sceneChangeHandler)}startTransition(){}stopTransition(){this.clearTransition()}animate(){}initTarget(){let t=O(),n=t.w/2,i=t.h/2;this.tree=new lt({width:n,heihgt:i});let r=new e.Texture(this.tree.iScreen);r.anisotropy=this.app.renderer.capabilities.getMaxAnisotropy();let o=new e.PlaneGeometry(n,i),s=new e.MeshBasicMaterial({map:r,side:e.FrontSide,depthTest:!1,transparent:!0});r.needsUpdate=!0,this.screen=new e.Mesh(o,s),this.scene.add(this.screen)}clear(){this.scene.children.forEach(e=>{e.geometry.dispose();e.material.dispose();this.scene.remove(e)}),this.screen=null}clearTransition(){t.killTweensOf(this.animateHandler)}onMouseDown(e){this.tree.draw()}onSceneChange(e){e.in==this?(this.registEvent(),this.app.addPass(this)):e.out==this&&(this.clearEvent(),this.app.removePass(this))}registEvent(){this.initTarget(),this.startTransition(),_.mouseDown.add(this.mouseDownHandler)}clearEvent(){_.mouseDown.remove(this.mouseDownHandler),this.stopTransition(),this.tree.destroy(),this.tree=null,this.clear()}setData(e){}init(){this.initThree(),this.initComposer(),this.initEventListener()}render(){this.screen&&(this.screen.material.map.needsUpdate=!0),this.time+=.05}resize(){let t=O(),n=t.w,i=t.h;this.camera.aspect=n/i,this.camera.updateProjectionMatrix();let r=this.camera.fov*Math.PI/180,o=Math.abs(this.camera.position.z*Math.tan(r/2)*2);if(this.screen){let t=n/2,r=i/2;this.tree.resize(t,r),this.screen.geometry.dispose(),this.screen.geometry=new e.PlaneGeometry(t,r);let s=o/r;this.scene.children.forEach(e=>{e.scale.set(s,s,1)})}}}const st="multiply";let at="lighter",lt=function(e){this.initialize(e)};lt.prototype={color:null,animateID:-1,iScreen:null,emitter:null,ctx:null,initialize:function(e){this.iScreen=e.screen||document.createElement("canvas"),this.iScreen.width=e.width||256,this.iScreen.height=e.height||256,this.ctx=this.iScreen.getContext("2d"),this.emitter=new dt,this.render()},append:function(){let e=Math.max(1,this.iScreen.height/50/5),t=e*ct(20,24),n=.4;at==st&&(n*=1.5),this.color="rgba("+parseInt(255*Math.random())+", "+parseInt(255*Math.random())+", "+parseInt(255*Math.random())+", "+n+")";for(var i,r=ct(1,2),o=0;o<r;o++)i=new ht(this.emitter,this.ctx,new ut(this.iScreen.width/2,this.iScreen.height+t/2),new ut(ct(-.2,.2),-e),t,this.color),this.emitter.add(i)},draw:function(){var e=this;at=Math.random()>.4?st:"lighter";var t=1,n=setInterval(function(){t<9?(e.ctx.save(),e.ctx.fillStyle=B(),e.ctx.fillRect(0,0,e.iScreen.width,e.iScreen.height),e.ctx.fill(),e.ctx.restore(),t++):(clearInterval(n),e.emitter.reset(),e.append())},20)},resize:function(e,t){this.iScreen.width=e,this.iScreen.height=t,this.draw()},render:function(){this.emitter.render(),this.animateID=requestAnimationFrame(()=>{this.render()})},destroy:function(){cancelAnimationFrame(this.animateID),this.iScreen=null,this.ctx=null,this.emitter.reset(),this.emitter=null}};let ct=t.utils.random,ut=function(e,t){this.x=e||0,this.y=t||0};ut.prototype={add:function(e){return this.x+=e.x,this.y+=e.y,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},rotate:function(e){var t=this.x,n=this.y;return this.x=Math.cos(e)*t-Math.sin(e)*n,this.y=Math.sin(e)*t+Math.cos(e)*n,this},mult:function(e){return this.x*=e,this.y*=e,this}};let ht=function(e,n,i,r,o,s){this.ctx=n,this.point=i,this.velocity=r,this.radius=o||3,this.color=s||"rgba( 255, 128, 0, 0.7)",this.life=0,this.checkoutTime=50*r.length()+t.utils.random(10,20),this.depth=1,this.emitter=e};ht.prototype={draw:function(){var e=this.ctx,t=this.point,n=this.radius;e.save(),e.globalCompositeOperation=at,e.beginPath(),e.fillStyle=this.color,e.moveTo(t.x,t.y),e.arc(t.x,t.y,n,0,2*Math.PI),e.fill(),e.closePath(),e.restore()},update:function(){let e=ct(-5,5)*this.depth*Math.PI/180;this.point.add(this.velocity),this.life+=this.velocity.length(),this.radius*=.98,this.velocity.rotate(ct(-e,e))},clone:function(){var e=new ht(this.emitter,this.ctx,new ut(this.point.x,this.point.y),new ut(this.velocity.x,this.velocity.y),this.radius,this.color);return e.depth=this.depth+1,e},checkout:function(){if(this.life-this.checkoutTime>0){let n=this.depth,i=n+1;for(var e=1+ct(i,2*i),t=0;t<e;t++)this.emitter.add(this.clone());this.emitter.remove(this)}(this.depth>5||this.radius<.3)&&this.emitter.remove(this)},render:function(){this.draw(),this.update(),this.checkout()}};let dt=function(){this.nodes=[]};dt.prototype={add:function(e){this.nodes.push(e)},remove:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t]==e)return void this.nodes.splice(t,1)},render:function(){if(this.nodes.length>0)for(var e=0;e<this.nodes.length;e++)this.nodes[e].render()},reset:function(){this.nodes=[]}};class ft{constructor(e){this.app=e,this.assets=e.assets,this.scene,this.camera,this.screen,this.time=0,this.sceneChangeHandler=this.onSceneChange.bind(this),this.animateHandler=this.animate.bind(this),this.init()}initThree(){this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.set(0,0,50)}initTarget(){let t=new e.PlaneGeometry(1,1),n=new e.ShaderMaterial({uniforms:this.getUniforms(this.images[0],this.images[1]),fragmentShader:"precision highp float;\n#define GLSLIFY 1\nvarying vec2 vUv;uniform vec2 uImageSize;uniform vec2 uResolution;uniform sampler2D uTexture;uniform sampler2D uTexture2;uniform float uProgress;uniform float uRandom;void main(){float rate=0.5;vec2 ratio=vec2(min((uResolution.x/uResolution.y)/(uImageSize.x/uImageSize.y),1.),min((uResolution.y/uResolution.x)/(uImageSize.y/uImageSize.x),1.));vec2 uv=vec2(vUv.x*ratio.x+(1.-ratio.x)*rate,vUv.y*ratio.y+(1.-ratio.y)*rate);float rProgress=1.-uProgress;vec2 cuv=uv;cuv-=rate;cuv*=rProgress;cuv+=rate;vec2 ruv=uv;ruv-=rate;ruv*=uProgress;ruv+=rate;vec4 current=texture2D(uTexture,cuv);vec4 next=texture2D(uTexture2,ruv);float threshold=.7;float d1=(current.r+current.g+current.b)*threshold;float d2=(next.r+next.g+next.b)*threshold;float ex=rProgress*.1;float nx=uProgress*.1;gl_FragColor=mix(texture2D(uTexture,vec2(uv.x-(nx*d1*uRandom*.3),uv.y+(nx*d1*uRandom*.3))),texture2D(uTexture2,vec2(uv.x+(ex*d2*uRandom*.2),uv.y+(ex*d2*uRandom*.5))),uProgress);}",vertexShader:fe,transparent:!0});this.screen=new e.Mesh(t,n),this.scene.add(this.screen),this.resize()}clearTarget(){this.screen.material.dispose(),this.screen.geometry.dispose(),this.scene.remove(this.screen),this.screen=null}initComposer(){this.renderPass=new ee(this.scene,this.camera),this.effectPass=new se(this.camera,this.app.cursorEffect)}initEventListener(){_.sceneChanged.add(this.sceneChangeHandler)}getUniforms(t,n){return{uRandom:{type:"f",value:.5},uTime:{type:"f",value:0},uProgress:{type:"f",value:0},uImageSize:{type:"v2",value:new e.Vector2(t.image.width,t.image.height)},uResolution:{type:"v2",value:new e.Vector2},uTexture:{type:"t",value:t},uTexture2:{type:"t",value:n}}}startTransition(){t.delayedCall(3,this.animateHandler)}stopTransition(){t.killTweensOf(this.animateHandler),t.killTweensOf(this.screen.material.uniforms.uProgress)}animate(){t.to(this.screen.material.uniforms.uProgress,{value:1,duration:4,ease:"power2.out",onComplete:()=>{this.index++;this.index%=this.images.length;let e=this.index+1;e%=this.images.length;this.screen.material.uniforms.uProgress.value=0;this.screen.material.uniforms.uTexture.value=this.images[this.index];this.screen.material.uniforms.uTexture2.value=this.images[e]}}),t.delayedCall(6,this.animateHandler)}onSceneChange(e){e.in==this?(this.registEvent(),this.app.addPass(this)):e.out==this&&(this.clearEvent(),this.app.removePass(this))}registEvent(){this.index=0,this.time=0,this.initTarget(),this.startTransition()}clearEvent(){this.stopTransition(),this.clearTarget()}setData(e){this.images=[],e.resources.forEach(e=>{this.images.push(this.assets.get(z(e)))})}init(){this.initThree(),this.initComposer(),this.initEventListener()}render(){this.screen}resize(){let e=O(),t=e.w,n=e.h;this.camera.aspect=t/n,this.camera.fov=180/Math.PI*2*Math.atan(1/(2*this.camera.position.z)),this.screen&&(this.screen.material.uniforms.uResolution.value.set(t,n),this.screen.scale.x=this.camera.aspect,this.screen.scale.y=1),this.camera.updateProjectionMatrix()}}var pt=n(function(e){!function(t,n){e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}}("undefined"!=typeof window?window:k,function(e,t){function n(e,t,n){var i,r,o=(n=n||le).createElement("script");if(o.text=e,t)for(i in Se)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function i(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[me.call(e)]||"object":typeof e}function r(e){var t=!!e&&"length"in e&&e.length,n=i(e);return!be(e)&&!xe(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,n){return be(t)?we.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?we.grep(e,function(e){return e===t!==n}):"string"!=typeof t?we.grep(e,function(e){return fe.call(t,e)>-1!==n}):we.filter(t,e,n)}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return we.each(e.match(Ie)||[],function(e,n){t[n]=!0}),t}function c(e){return e}function u(e){throw e}function h(e,t,n,i){var r;try{e&&be(r=e.promise)?r.call(e).done(t).fail(n):e&&be(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function d(){le.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),we.ready()}function f(e,t){return t.toUpperCase()}function p(e){return e.replace(Re,"ms-").replace(Oe,f)}function m(){this.expando=we.expando+m.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Fe.test(e)?JSON.parse(e):e)}function v(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(je,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=g(n)}catch(e){}Ve.set(e,t,n)}else n=void 0;return n}function y(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return we.css(e,t,"")},l=a(),c=n&&n[3]||(we.cssNumber[t]?"":"px"),u=e.nodeType&&(we.cssNumber[t]||"px"!==c&&+l)&&Xe.exec(we.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)we.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,we.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function T(e){var t,n=e.ownerDocument,i=e.nodeName,r=Je[i];return r||(t=n.body.appendChild(n.createElement(i)),r=we.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Je[i]=r,r)}function b(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=ze.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Qe(i)&&(r[o]=T(i))):"none"!==n&&(r[o]="none",ze.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function x(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?we.merge([e],n):n}function S(e,t){for(var n=0,i=e.length;n<i;n++)ze.set(e[n],"globalEval",!t||ze.get(t[n],"globalEval"))}function w(e,t,n,r,o){for(var s,a,l,c,u,h,d=t.createDocumentFragment(),f=[],p=0,m=e.length;p<m;p++)if((s=e[p])||0===s)if("object"===i(s))we.merge(f,s.nodeType?[s]:s);else if(it.test(s)){for(a=a||d.appendChild(t.createElement("div")),l=(et.exec(s)||["",""])[1].toLowerCase(),c=nt[l]||nt._default,a.innerHTML=c[1]+we.htmlPrefilter(s)+c[2],h=c[0];h--;)a=a.lastChild;we.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(s));for(d.textContent="",p=0;s=f[p++];)if(r&&we.inArray(s,r)>-1)o&&o.push(s);else if(u=Ke(s),a=x(d.appendChild(s),"script"),u&&S(a),n)for(h=0;s=a[h++];)tt.test(s.type||"")&&n.push(s);return d}function M(){return!0}function P(){return!1}function A(e,t){return e===C()==("focus"===t)}function C(){try{return le.activeElement}catch(e){}}function E(e,t,n,i,r,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)E(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=P;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return we().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=we.guid++)),e.each(function(){we.event.add(this,t,r,i,n)})}function G(e,t,n){if(!n)return void(void 0===ze.get(e,t)&&we.event.add(e,t,M));ze.set(e,t,!1),we.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=ze.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(we.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=ue.call(arguments),ze.set(this,t,o),i=n(this,t),this[t](),r=ze.get(this,t),o!==r||i?ze.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else o.length&&(ze.set(this,t,{value:we.event.trigger(we.extend(o[0],we.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})}function H(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?we(e).children("tbody")[0]||e:e}function B(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function I(e,t){var n,i,r,o,s,a,l,c;if(1===t.nodeType){if(ze.hasData(e)&&(o=ze.access(e),s=ze.set(t,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)we.event.add(t,r,c[r][n])}Ve.hasData(e)&&(a=Ve.access(e),l=we.extend({},a),Ve.set(t,l))}}function k(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$e.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function L(e,t,i,r){t=he.apply([],t);var o,s,a,l,c,u,h=0,d=e.length,f=d-1,p=t[0],m=be(p);if(m||d>1&&"string"==typeof p&&!Te.checkClone&&lt.test(p))return e.each(function(n){var o=e.eq(n);m&&(t[0]=p.call(this,n,o.html())),L(o,t,i,r)});if(d&&(o=w(t,e[0].ownerDocument,!1,e,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(l=(a=we.map(x(o,"script"),B)).length;h<d;h++)c=o,h!==f&&(c=we.clone(c,!0,!0),l&&we.merge(a,x(c,"script"))),i.call(e[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,we.map(a,D),h=0;h<l;h++)c=a[h],tt.test(c.type||"")&&!ze.access(c,"globalEval")&&we.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?we._evalUrl&&!c.noModule&&we._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):n(c.textContent.replace(ct,""),c,u))}return e}function N(e,t,n){for(var i,r=t?we.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||we.cleanData(x(i)),i.parentNode&&(n&&Ke(i)&&S(x(i,"script")),i.parentNode.removeChild(i));return e}function R(e,t,n){var i,r,o,s,a=e.style;return(n=n||ht(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||Ke(e)||(s=we.style(e,t)),!Te.pixelBoxStyles()&&ut.test(s)&&dt.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if((e=ft[n]+t)in pt)return e}function z(e){var t=we.cssProps[e]||mt[e];return t||(e in pt?e:mt[e]=_(e)||e)}function V(e,t,n){var i=Xe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function F(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=we.css(e,n+We[s],!0,r)),i?("content"===n&&(l-=we.css(e,"padding"+We[s],!0,r)),"margin"!==n&&(l-=we.css(e,"border"+We[s]+"Width",!0,r))):(l+=we.css(e,"padding"+We[s],!0,r),"padding"!==n?l+=we.css(e,"border"+We[s]+"Width",!0,r):a+=we.css(e,"border"+We[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function j(e,t,n){var i=ht(e),r=(!Te.boxSizingReliable()||n)&&"border-box"===we.css(e,"boxSizing",!1,i),o=r,s=R(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(ut.test(s)){if(!n)return s;s="auto"}return(!Te.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===we.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===we.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+F(e,t,n||(r?"border":"content"),o,i,s)+"px"}function U(e,t,n,i,r){return new U.prototype.init(e,t,n,i,r)}function X(){xt&&(!1===le.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(X):e.setTimeout(X,we.fx.interval),we.fx.tick())}function W(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function q(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=We[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function K(e,t,n){for(var i,r=(Z.tweeners[t]||[]).concat(Z.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function Y(e,t,n){var i,r,o,s,a,l,c,u,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&Qe(e),g=ze.get(e,"fxshow");n.queue||(null==(s=we._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,we.queue(e,"fx").length||s.empty.fire()})}));for(i in t)if(r=t[i],St.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||we.style(e,i)}if((l=!we.isEmptyObject(t))||!we.isEmptyObject(f)){h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=ze.get(e,"display")),"none"===(u=we.css(e,"display"))&&(c?u=c:(b([e],!0),c=e.style.display||c,u=we.css(e,"display"),b([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===we.css(e,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in f)l||(g?"hidden"in g&&(m=g.hidden):g=ze.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&b([e],!0),d.done(function(){m||b([e]),ze.remove(e,"fxshow");for(i in f)we.style(e,i,f[i])})),l=K(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}function Q(e,t){var n,i,r,o,s;for(n in e)if(i=p(n),r=t[i],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=we.cssHooks[i])&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function Z(e,t,n){var i,r,o=0,s=Z.prefilters.length,a=we.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=bt||W(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:we.extend({},t),opts:we.extend(!0,{specialEasing:{},easing:we.easing._default},n),originalProperties:t,originalOptions:n,startTime:bt||W(),duration:n.duration,tweens:[],createTween:function(t,n){var i=we.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(Q(u,c.opts.specialEasing);o<s;o++)if(i=Z.prefilters[o].call(c,e,u,c.opts))return be(i.stop)&&(we._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return we.map(u,K,c),be(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),we.fx.timer(we.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function J(e){return(e.match(Ie)||[]).join(" ")}function $(e){return e.getAttribute&&e.getAttribute("class")||""}function ee(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Ie)||[]:[]}function te(e,t,n,r){var o;if(Array.isArray(t))we.each(t,function(t,i){n||It.test(e)?r(e,i):te(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==i(t))r(e,t);else for(o in t)te(e+"["+o+"]",t[o],n,r)}function ne(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Ie)||[];if(be(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function ie(e,t,n,i){function r(a){var l;return o[a]=!0,we.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===zt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function re(e,t){var n,i,r=we.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&we.extend(!0,e,i),e}function oe(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}function se(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var ae=[],le=e.document,ce=Object.getPrototypeOf,ue=ae.slice,he=ae.concat,de=ae.push,fe=ae.indexOf,pe={},me=pe.toString,ge=pe.hasOwnProperty,ve=ge.toString,ye=ve.call(Object),Te={},be=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},xe=function(e){return null!=e&&e===e.window},Se={type:!0,src:!0,nonce:!0,noModule:!0},we=function(e,t){return new we.fn.init(e,t)};we.fn=we.prototype={jquery:"3.4.1",constructor:we,length:0,toArray:function(){return ue.call(this)},get:function(e){return null==e?ue.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=we.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return we.each(this,e)},map:function(e){return this.pushStack(we.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:de,sort:ae.sort,splice:ae.splice},we.extend=we.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||be(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(we.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||we.isPlainObject(n)?n:{},r=!1,s[t]=we.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},we.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==me.call(e))&&(!(t=ce(e))||"function"==typeof(n=ge.call(t,"constructor")&&t.constructor)&&ve.call(n)===ye)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){n(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?we.merge(n,"string"==typeof e?[e]:e):de.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:fe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,o,s=0,a=[];if(r(e))for(i=e.length;s<i;s++)null!=(o=t(e[s],s,n))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,n))&&a.push(o);return he.apply([],a)},guid:1,support:Te}),"function"==typeof Symbol&&(we.fn[Symbol.iterator]=ae[Symbol.iterator]),we.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var Me=function(e){function t(e,t,n,i){var r,o,s,a,l,u,d,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:_)!==B&&H(t),t=t||B,I)){if(11!==p&&(l=ve.exec(e)))if(r=l[1]){if(9===p){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&R(t,s)&&s.id===r)return n.push(s),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(r)),n}if(b.qsa&&!X[e+" "]&&(!k||!k.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(d=e,f=t,1===p&&ce.test(e)){for((a=t.getAttribute("id"))?a=a.replace(xe,Se):t.setAttribute("id",a=O),o=(u=M(e)).length;o--;)u[o]="#"+a+" "+h(u[o]);d=u.join(","),f=ye.test(e)&&c(t.parentNode)||t}try{return Z.apply(n,f.querySelectorAll(d)),n}catch(t){X(e,!0)}finally{a===O&&t.removeAttribute("id")}}}return A(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[O]=!0,e}function r(e){var t=B.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Me(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function h(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=V++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,u,h,d=[z,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(h=t[O]||(t[O]={}),u=h[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===z&&c[1]===a)return d[2]=c[2];if(u[o]=d,d[2]=e(t,n,l))return!0}return!1}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function g(e,t,n,r,o,s){return r&&!r[O]&&(r=g(r)),o&&!o[O]&&(o=g(o,s)),i(function(i,s,a,l){var c,u,h,d=[],f=[],g=s.length,v=i||p(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:m(v,d,e,a,l),T=n?o||(i?e:g||r)?[]:s:y;if(n&&n(y,T,a,l),r)for(c=m(T,f),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(T[f[u]]=!(y[f[u]]=h));if(i){if(o||e){if(o){for(c=[],u=T.length;u--;)(h=T[u])&&c.push(y[u]=h);o(null,T=[],c,l)}for(u=T.length;u--;)(h=T[u])&&(c=o?$(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else T=m(T===s?T.splice(g,T.length):T),o?o(null,s,T,l):Z.apply(s,T)})}function v(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],a=o?1:0,l=d(function(e){return e===t},s,!0),c=d(function(e){return $(t,e)>-1},s,!0),u=[function(e,n,i){var r=!o&&(i||n!==C)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];a<r;a++)if(n=x.relative[e[a].type])u=[d(f(u),n)];else{if((n=x.filter[e[a].type].apply(null,e[a].matches))[O]){for(i=++a;i<r&&!x.relative[e[i].type];i++);return g(a>1&&f(u),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(se,"$1"),n,a<i&&v(e.slice(a,i)),i<r&&v(e=e.slice(i)),i<r&&h(e))}u.push(n)}return f(u)}function y(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,c){var u,h,d,f=0,p="0",g=i&&[],v=[],y=C,T=i||o&&x.find.TAG("*",c),b=z+=null==y?1:Math.random()||.1,S=T.length;for(c&&(C=s===B||s||c);p!==S&&null!=(u=T[p]);p++){if(o&&u){for(h=0,s||u.ownerDocument===B||(H(u),a=!I);d=e[h++];)if(d(u,s||B,a)){l.push(u);break}c&&(z=b)}r&&((u=!d&&u)&&f--,i&&g.push(u))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=Y.call(l));v=m(v)}Z.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(z=b,C=y),g};return r?i(s):s}var T,b,x,S,w,M,P,A,C,E,G,H,B,D,I,k,L,N,R,O="sizzle"+1*new Date,_=e.document,z=0,V=0,F=n(),j=n(),U=n(),X=n(),W=function(e,t){return e===t&&(G=!0),0},q={}.hasOwnProperty,K=[],Y=K.pop,Q=K.push,Z=K.push,J=K.slice,$=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",re=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",oe=new RegExp(te+"+","g"),se=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ae=new RegExp("^"+te+"*,"+te+"*"),le=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp(te+"|>"),ue=new RegExp(re),he=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},fe=/HTML$/i,pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,Te=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Se=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){H()},Me=d(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(K=J.call(_.childNodes),_.childNodes),K[_.childNodes.length].nodeType}catch(e){Z={apply:K.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},w=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!fe.test(t||n&&n.nodeName||"HTML")},H=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:_;return i!==B&&9===i.nodeType&&i.documentElement?(B=i,D=B.documentElement,I=!w(B),_!==B&&(n=B.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(B.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ge.test(B.getElementsByClassName),b.getById=r(function(e){return D.appendChild(e).id=O,!B.getElementsByName||!B.getElementsByName(O).length}),b.getById?(x.filter.ID=function(e){var t=e.replace(Te,be);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(Te,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)},L=[],k=[],(b.qsa=ge.test(B.querySelectorAll))&&(r(function(e){D.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+O+"-]").length||k.push("~="),e.querySelectorAll(":checked").length||k.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||k.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=B.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&k.push(":enabled",":disabled"),D.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(b.matchesSelector=ge.test(N=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(e){b.disconnectedMatch=N.call(e,"*"),N.call(e,"[s!='']:x"),L.push("!=",re)}),k=k.length&&new RegExp(k.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(D.compareDocumentPosition),R=t||ge.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return G=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===B||e.ownerDocument===_&&R(_,e)?-1:t===B||t.ownerDocument===_&&R(_,t)?1:E?$(E,e)-$(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return G=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!r||!o)return e===B?-1:t===B?1:r?-1:o?1:E?$(E,e)-$(E,t):0;if(r===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===_?-1:l[i]===_?1:0},B):B},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==B&&H(e),b.matchesSelector&&I&&!X[n+" "]&&(!L||!L.test(n))&&(!k||!k.test(n)))try{var i=N.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){X(n,!0)}return t(n,B,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==B&&H(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==B&&H(e);var n=x.attrHandle[t.toLowerCase()],i=n&&q.call(x.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:b.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(xe,Se)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(G=!b.detectDuplicates,E=!b.sortStable&&e.slice(0),e.sort(W),G){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return E=null,e},S=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},(x=t.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Te,be),e[3]=(e[3]||e[4]||e[5]||"").replace(Te,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=M(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Te,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(oe," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,f,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,T=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(T=(f=(c=(u=(h=(d=g)[O]||(d[O]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===z&&c[1])&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(T=f=0)||p.pop();)if(1===d.nodeType&&++T&&d===t){u[e]=[z,f,T];break}}else if(y&&(T=f=(c=(u=(h=(d=t)[O]||(d[O]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===z&&c[1]),!1===T)for(;(d=++f&&d&&d[m]||(T=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++T||(y&&((u=(h=d[O]||(d[O]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[z,T]),d!==t)););return(T-=r)===i||T%i==0&&T/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[O]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)e[i=$(e,r[s])]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=P(e.replace(se,"$1"));return r[O]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(Te,be),function(t){return(t.textContent||S(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Te,be).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=x.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[T]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(T);for(T in{submit:!0,reset:!0})x.pseudos[T]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(T);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,M=t.tokenize=function(e,n){var i,r,o,s,a,l,c,u=j[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=x.preFilter;a;){i&&!(r=ae.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=le.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),a=a.slice(i.length));for(s in x.filter)!(r=de[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):j(e,l).slice(0)},P=t.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=M(e)),n=t.length;n--;)(o=v(t[n]))[O]?i.push(o):r.push(o);(o=U(e,y(r,i))).selector=e}return o},A=t.select=function(e,t,n,i){var r,o,s,a,l,u="function"==typeof e&&e,d=!i&&M(e=u.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&I&&x.relative[o[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(Te,be),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=de.needsContext.test(e)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(Te,be),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&h(o)))return Z.apply(n,i),n;break}}return(u||P(e,d))(i,t,!I,n,!t||ye.test(e)&&c(t.parentNode)||t),n},b.sortStable=O.split("").sort(W).join("")===O,b.detectDuplicates=!!G,H(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(B.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);we.find=Me,we.expr=Me.selectors,we.expr[":"]=we.expr.pseudos,we.uniqueSort=we.unique=Me.uniqueSort,we.text=Me.getText,we.isXMLDoc=Me.isXML,we.contains=Me.contains,we.escapeSelector=Me.escape;var Pe=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&we(e).is(n))break;i.push(e)}return i},Ae=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ce=we.expr.match.needsContext,Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;we.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?we.find.matchesSelector(i,e)?[i]:[]:we.find.matches(e,we.grep(t,function(e){return 1===e.nodeType}))},we.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(we(e).filter(function(){for(t=0;t<i;t++)if(we.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)we.find(e,r[t],n);return i>1?we.uniqueSort(n):n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&Ce.test(e)?we(e):e||[],!1).length}});var Ge,He=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(we.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Ge,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:He.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof we?t[0]:t,we.merge(this,we.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:le,!0)),Ee.test(i[1])&&we.isPlainObject(t))for(i in t)be(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=le.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):be(e)?void 0!==n.ready?n.ready(e):e(we):we.makeArray(e,this)}).prototype=we.fn,Ge=we(le);var Be=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};we.fn.extend({has:function(e){var t=we(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(we.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&we(e);if(!Ce.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&we.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?we.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.call(we(e),this[0]):fe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(we.uniqueSort(we.merge(this.get(),we(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),we.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Pe(e,"parentNode")},parentsUntil:function(e,t,n){return Pe(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Pe(e,"nextSibling")},prevAll:function(e){return Pe(e,"previousSibling")},nextUntil:function(e,t,n){return Pe(e,"nextSibling",n)},prevUntil:function(e,t,n){return Pe(e,"previousSibling",n)},siblings:function(e){return Ae((e.parentNode||{}).firstChild,e)},children:function(e){return Ae(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(o(e,"template")&&(e=e.content||e),we.merge([],e.childNodes))}},function(e,t){we.fn[e]=function(n,i){var r=we.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=we.filter(i,r)),this.length>1&&(De[e]||we.uniqueSort(r),Be.test(e)&&r.reverse()),this.pushStack(r)}});var Ie=/[^\x20\t\r\n\f]+/g;we.Callbacks=function(e){e="string"==typeof e?l(e):we.extend({},e);var t,n,r,o,s=[],a=[],c=-1,u=function(){for(o=o||e.once,r=t=!0;a.length;c=-1)for(n=a.shift();++c<s.length;)!1===s[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=s.length,n=!1);e.memory||(n=!1),t=!1,o&&(s=n?[]:"")},h={add:function(){return s&&(n&&!t&&(c=s.length-1,a.push(n)),function t(n){we.each(n,function(n,r){be(r)?e.unique&&h.has(r)||s.push(r):r&&r.length&&"string"!==i(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return we.each(arguments,function(e,t){for(var n;(n=we.inArray(t,s,n))>-1;)s.splice(n,1),n<=c&&c--}),this},has:function(e){return e?we.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=a=[],n||t||(s=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},we.extend({Deferred:function(t){var n=[["notify","progress",we.Callbacks("memory"),we.Callbacks("memory"),2],["resolve","done",we.Callbacks("once memory"),we.Callbacks("once memory"),0,"resolved"],["reject","fail",we.Callbacks("once memory"),we.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return we.Deferred(function(t){we.each(n,function(n,i){var r=be(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&be(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function o(t,n,i,r){return function(){var a=this,l=arguments,h=function(){var e,h;if(!(t<s)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");h=e&&("object"==typeof e||"function"==typeof e)&&e.then,be(h)?r?h.call(e,o(s,n,c,r),o(s,n,u,r)):(s++,h.call(e,o(s,n,c,r),o(s,n,u,r),o(s,n,c,n.notifyWith))):(i!==c&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},d=r?h:function(){try{h()}catch(e){we.Deferred.exceptionHook&&we.Deferred.exceptionHook(e,d.stackTrace),t+1>=s&&(i!==u&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?d():(we.Deferred.getStackHook&&(d.stackTrace=we.Deferred.getStackHook()),e.setTimeout(d))}}var s=0;return we.Deferred(function(e){n[0][3].add(o(0,e,be(r)?r:c,e.notifyWith)),n[1][3].add(o(0,e,be(t)?t:c)),n[2][3].add(o(0,e,be(i)?i:u))}).promise()},promise:function(e){return null!=e?we.extend(e,r):r}},o={};return we.each(n,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add(function(){i=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=ue.call(arguments),o=we.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?ue.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(h(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||be(r[n]&&r[n].then)))return o.then();for(;n--;)h(r[n],s(n),o.reject);return o.promise()}});var ke=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;we.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&ke.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},we.readyException=function(t){e.setTimeout(function(){throw t})};var Le=we.Deferred();we.fn.ready=function(e){return Le.then(e).catch(function(e){we.readyException(e)}),this},we.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--we.readyWait:we.isReady)||(we.isReady=!0,!0!==e&&--we.readyWait>0||Le.resolveWith(le,[we]))}}),we.ready.then=Le.then,"complete"===le.readyState||"loading"!==le.readyState&&!le.documentElement.doScroll?e.setTimeout(we.ready):(le.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var Ne=function(e,t,n,r,o,s,a){var l=0,c=e.length,u=null==n;if("object"===i(n)){o=!0;for(l in n)Ne(e,t,l,n[l],!0,s,a)}else if(void 0!==r&&(o=!0,be(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(we(e),n)})),t))for(;l<c;l++)t(e[l],n,a?r:r.call(e[l],l,t(e[l],n)));return o?e:u?t.call(e):c?t(e[0],n):s},Re=/^-ms-/,Oe=/-([a-z])/g,_e=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},_e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[p(t)]=n;else for(i in t)r[p(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][p(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(p):(t=p(t))in i?[t]:t.match(Ie)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||we.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!we.isEmptyObject(t)}};var ze=new m,Ve=new m,Fe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/[A-Z]/g;we.extend({hasData:function(e){return Ve.hasData(e)||ze.hasData(e)},data:function(e,t,n){return Ve.access(e,t,n)},removeData:function(e,t){Ve.remove(e,t)},_data:function(e,t,n){return ze.access(e,t,n)},_removeData:function(e,t){ze.remove(e,t)}}),we.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Ve.get(o),1===o.nodeType&&!ze.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=p(i.slice(5)),v(o,i,r[i]));ze.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ve.set(this,e)}):Ne(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Ve.get(o,e)))return n;if(void 0!==(n=v(o,e)))return n}else this.each(function(){Ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ve.remove(this,e)})}}),we.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=ze.get(e,t),n&&(!i||Array.isArray(n)?i=ze.access(e,t,we.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=we.queue(e,t),i=n.length,r=n.shift(),o=we._queueHooks(e,t),s=function(){we.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ze.get(e,n)||ze.access(e,n,{empty:we.Callbacks("once memory").add(function(){ze.remove(e,[t+"queue",n])})})}}),we.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?we.queue(this[0],e):void 0===t?this:this.each(function(){var n=we.queue(this,e,t);we._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&we.dequeue(this,e)})},dequeue:function(e){return this.each(function(){we.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=we.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ze.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var Ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xe=new RegExp("^(?:([+-])=|)("+Ue+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],qe=le.documentElement,Ke=function(e){return we.contains(e.ownerDocument,e)},Ye={composed:!0};qe.getRootNode&&(Ke=function(e){return we.contains(e.ownerDocument,e)||e.getRootNode(Ye)===e.ownerDocument});var Qe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Ke(e)&&"none"===we.css(e,"display")},Ze=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r},Je={};we.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Qe(this)?we(this).show():we(this).hide()})}});var $e=/^(?:checkbox|radio)$/i,et=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tt=/^$|^module$|\/(?:java|ecma)script/i,nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};nt.optgroup=nt.option,nt.tbody=nt.tfoot=nt.colgroup=nt.caption=nt.thead,nt.th=nt.td;var it=/<|&#?\w+;/;!function(){var e=le.createDocumentFragment().appendChild(le.createElement("div")),t=le.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),Te.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Te.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var rt=/^key/,ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,st=/^([^.]*)(?:\.(.+)|)/;we.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,f,p,m,g=ze.get(e);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&we.find.matchesSelector(qe,r),n.guid||(n.guid=we.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==we&&we.event.triggered!==t.type?we.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Ie)||[""]).length;c--;)f=m=(a=st.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=we.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=we.event.special[f]||{},u=we.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&we.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),we.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,f,p,m,g=ze.hasData(e)&&ze.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Ie)||[""]).length;c--;)if(a=st.exec(t[c])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(h=we.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||we.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)we.event.remove(e,f+t[c],n,i,!0);we.isEmptyObject(l)&&ze.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=we.event.fix(e),l=new Array(arguments.length),c=(ze.get(this,"events")||{})[a.type]||[],u=we.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=we.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((we.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?we(r,this).index(c)>-1:we.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(we.Event.prototype,e,{enumerable:!0,configurable:!0,get:be(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[we.expando]?e:new we.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return $e.test(t.type)&&t.click&&o(t,"input")&&G(t,"click",M),!1},trigger:function(e){var t=this||e;return $e.test(t.type)&&t.click&&o(t,"input")&&G(t,"click"),!0},_default:function(e){var t=e.target;return $e.test(t.type)&&t.click&&o(t,"input")&&ze.get(t,"click")||o(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},we.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},we.Event=function(e,t){if(!(this instanceof we.Event))return new we.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?M:P,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&we.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[we.expando]=!0},we.Event.prototype={constructor:we.Event,isDefaultPrevented:P,isPropagationStopped:P,isImmediatePropagationStopped:P,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=M,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=M,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=M,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},we.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ot.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},we.event.addProp),we.each({focus:"focusin",blur:"focusout"},function(e,t){we.event.special[e]={setup:function(){return G(this,e,A),!1},trigger:function(){return G(this,e),!0},delegateType:t}}),we.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){we.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||we.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),we.fn.extend({on:function(e,t,n,i){return E(this,e,t,n,i)},one:function(e,t,n,i){return E(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,we(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=P),this.each(function(){we.event.remove(this,e,n,t)})}});var at=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;we.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=Ke(e);if(!(Te.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||we.isXMLDoc(e)))for(s=x(a),i=0,r=(o=x(e)).length;i<r;i++)k(o[i],s[i]);if(t)if(n)for(o=o||x(e),s=s||x(a),i=0,r=o.length;i<r;i++)I(o[i],s[i]);else I(e,a);return(s=x(a,"script")).length>0&&S(s,!l&&x(e,"script")),a},cleanData:function(e){for(var t,n,i,r=we.event.special,o=0;void 0!==(n=e[o]);o++)if(_e(n)){if(t=n[ze.expando]){if(t.events)for(i in t.events)r[i]?we.event.remove(n,i):we.removeEvent(n,i,t.handle);n[ze.expando]=void 0}n[Ve.expando]&&(n[Ve.expando]=void 0)}}}),we.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Ne(this,function(e){return void 0===e?we.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return L(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||H(this,e).appendChild(e)})},prepend:function(){return L(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=H(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(we.cleanData(x(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return we.clone(this,e,t)})},html:function(e){return Ne(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!at.test(e)&&!nt[(et.exec(e)||["",""])[1].toLowerCase()]){e=we.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(we.cleanData(x(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return L(this,arguments,function(t){var n=this.parentNode;we.inArray(this,e)<0&&(we.cleanData(x(this)),n&&n.replaceChild(t,this))},e)}}),we.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){we.fn[e]=function(e){for(var n,i=[],r=we(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),we(r[s])[t](n),de.apply(i,n.get());return this.pushStack(i)}});var ut=new RegExp("^("+Ue+")(?!px)[a-z%]+$","i"),ht=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},dt=new RegExp(We.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",qe.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,a=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),r=36===n(t.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),qe.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,s,a,l=le.createElement("div"),c=le.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",Te.clearCloneStyle="content-box"===c.style.backgroundClip,we.extend(Te,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),o}}))}();var ft=["Webkit","Moz","ms"],pt=le.createElement("div").style,mt={},gt=/^(none|table(?!-c[ea]).+)/,vt=/^--/,yt={position:"absolute",visibility:"hidden",display:"block"},Tt={letterSpacing:"0",fontWeight:"400"};we.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=R(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=p(t),l=vt.test(t),c=e.style;if(l||(t=z(a)),s=we.cssHooks[t]||we.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=Xe.exec(n))&&r[1]&&(n=y(e,t,r),o="number"),null!=n&&n===n&&("number"!==o||l||(n+=r&&r[3]||(we.cssNumber[a]?"":"px")),Te.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=p(t);return vt.test(t)||(t=z(a)),(s=we.cssHooks[t]||we.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=R(e,t,i)),"normal"===r&&t in Tt&&(r=Tt[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),we.each(["height","width"],function(e,t){we.cssHooks[t]={get:function(e,n,i){if(n)return!gt.test(we.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?j(e,t,i):Ze(e,yt,function(){return j(e,t,i)})},set:function(e,n,i){var r,o=ht(e),s=!Te.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===we.css(e,"boxSizing",!1,o),l=i?F(e,t,i,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-F(e,t,"border",!1,o)-.5)),l&&(r=Xe.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=we.css(e,t)),V(e,n,l)}}}),we.cssHooks.marginLeft=O(Te.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),we.each({margin:"",padding:"",border:"Width"},function(e,t){we.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+We[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(we.cssHooks[e+t].set=V)}),we.fn.extend({css:function(e,t){return Ne(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=ht(e),r=t.length;s<r;s++)o[t[s]]=we.css(e,t[s],!1,i);return o}return void 0!==n?we.style(e,t,n):we.css(e,t)},e,t,arguments.length>1)}}),we.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||we.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(we.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=we.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=we.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){we.fx.step[e.prop]?we.fx.step[e.prop](e):1!==e.elem.nodeType||!we.cssHooks[e.prop]&&null==e.elem.style[z(e.prop)]?e.elem[e.prop]=e.now:we.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},we.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},we.fx=U.prototype.init,we.fx.step={};var bt,xt,St=/^(?:toggle|show|hide)$/,wt=/queueHooks$/;we.Animation=we.extend(Z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return y(n.elem,e,Xe.exec(t),n),n}]},tweener:function(e,t){be(e)?(t=e,e=["*"]):e=e.match(Ie);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Z.tweeners[n]=Z.tweeners[n]||[],Z.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?Z.prefilters.unshift(e):Z.prefilters.push(e)}}),we.speed=function(e,t,n){var i=e&&"object"==typeof e?we.extend({},e):{complete:n||!n&&t||be(e)&&e,duration:e,easing:n&&t||t&&!be(t)&&t};return we.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in we.fx.speeds?i.duration=we.fx.speeds[i.duration]:i.duration=we.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){be(i.old)&&i.old.call(this),i.queue&&we.dequeue(this,i.queue)},i},we.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Qe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=we.isEmptyObject(e),o=we.speed(t,n,i),s=function(){var t=Z(this,we.extend({},e),o);(r||ze.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=we.timers,s=ze.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&wt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||we.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ze.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=we.timers,s=i?i.length:0;for(n.finish=!0,we.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),we.each(["toggle","show","hide"],function(e,t){var n=we.fn[t];we.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,i,r)}}),we.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){we.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),we.timers=[],we.fx.tick=function(){var e,t=0,n=we.timers;for(bt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||we.fx.stop(),bt=void 0},we.fx.timer=function(e){we.timers.push(e),we.fx.start()},we.fx.interval=13,we.fx.start=function(){xt||(xt=!0,X())},we.fx.stop=function(){xt=null},we.fx.speeds={slow:600,fast:200,_default:400},we.fn.delay=function(t,n){return t=we.fx?we.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=le.createElement("input"),t=le.createElement("select").appendChild(le.createElement("option"));e.type="checkbox",Te.checkOn=""!==e.value,Te.optSelected=t.selected,(e=le.createElement("input")).value="t",e.type="radio",Te.radioValue="t"===e.value}();var Mt,Pt=we.expr.attrHandle;we.fn.extend({attr:function(e,t){return Ne(this,we.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){we.removeAttr(this,e)})}}),we.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?we.prop(e,t,n):(1===o&&we.isXMLDoc(e)||(r=we.attrHooks[t.toLowerCase()]||(we.expr.match.bool.test(t)?Mt:void 0)),void 0!==n?null===n?void we.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=we.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!Te.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(Ie);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),Mt={set:function(e,t,n){return!1===t?we.removeAttr(e,n):e.setAttribute(n,n),n}},we.each(we.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Pt[t]||we.find.attr;Pt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=Pt[s],Pt[s]=r,r=null!=n(e,t,i)?s:null,Pt[s]=o),r}});var At=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;we.fn.extend({prop:function(e,t){return Ne(this,we.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[we.propFix[e]||e]})}}),we.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&we.isXMLDoc(e)||(t=we.propFix[t]||t,r=we.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=we.find.attr(e,"tabindex");return t?parseInt(t,10):At.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Te.optSelected||(we.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),we.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){we.propFix[this.toLowerCase()]=this}),we.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(be(e))return this.each(function(t){we(this).addClass(e.call(this,t,$(this)))});if((t=ee(e)).length)for(;n=this[l++];)if(r=$(n),i=1===n.nodeType&&" "+J(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=J(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(be(e))return this.each(function(t){we(this).removeClass(e.call(this,t,$(this)))});if(!arguments.length)return this.attr("class","");if((t=ee(e)).length)for(;n=this[l++];)if(r=$(n),i=1===n.nodeType&&" "+J(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=J(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):be(e)?this.each(function(n){we(this).toggleClass(e.call(this,n,$(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=we(this),s=ee(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=$(this))&&ze.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":ze.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+J($(n))+" ").indexOf(t)>-1)return!0;return!1}});we.fn.extend({val:function(e){var t,n,i,r=this[0];if(arguments.length)return i=be(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,we(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=we.map(r,function(e){return null==e?"":e+""})),(t=we.valHooks[this.type]||we.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return(t=we.valHooks[r.type]||we.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}),we.extend({valHooks:{option:{get:function(e){var t=we.find.attr(e,"value");return null!=t?t:J(we.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,a="select-one"===e.type,l=a?null:[],c=a?s+1:r.length;for(i=s<0?c:a?s:0;i<c;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=we(n).val(),a)return t;l.push(t)}return l},set:function(e,t){for(var n,i,r=e.options,o=we.makeArray(t),s=r.length;s--;)((i=r[s]).selected=we.inArray(we.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),we.each(["radio","checkbox"],function(){we.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=we.inArray(we(e).val(),t)>-1}},Te.checkOn||(we.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Te.focusin="onfocusin"in e;var Et=/^(?:focusinfocus|focusoutblur)$/,Gt=function(e){e.stopPropagation()};we.extend(we.event,{trigger:function(t,n,i,r){var o,s,a,l,c,u,h,d,f=[i||le],p=ge.call(t,"type")?t.type:t,m=ge.call(t,"namespace")?t.namespace.split("."):[];if(s=d=a=i=i||le,3!==i.nodeType&&8!==i.nodeType&&!Et.test(p+we.event.triggered)&&(p.indexOf(".")>-1&&(p=(m=p.split(".")).shift(),m.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[we.expando]?t:new we.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:we.makeArray(n,[t]),h=we.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!xe(i)){for(l=h.delegateType||p,Et.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||le)&&f.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=f[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?l:h.bindType||p,(u=(ze.get(s,"events")||{})[t.type]&&ze.get(s,"handle"))&&u.apply(s,n),(u=c&&s[c])&&u.apply&&_e(s)&&(t.result=u.apply(s,n),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),n)||!_e(i)||c&&be(i[p])&&!xe(i)&&((a=i[c])&&(i[c]=null),we.event.triggered=p,t.isPropagationStopped()&&d.addEventListener(p,Gt),i[p](),t.isPropagationStopped()&&d.removeEventListener(p,Gt),we.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=we.extend(new we.Event,n,{type:e,isSimulated:!0});we.event.trigger(i,null,t)}}),we.fn.extend({trigger:function(e,t){return this.each(function(){we.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return we.event.trigger(e,t,n,!0)}}),Te.focusin||we.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){we.event.simulate(t,e.target,we.event.fix(e))};we.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ze.access(i,t);r||i.addEventListener(e,n,!0),ze.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ze.access(i,t)-1;r?ze.access(i,t,r):(i.removeEventListener(e,n,!0),ze.remove(i,t))}}});var Ht=e.location,Bt=Date.now(),Dt=/\?/;we.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||we.error("Invalid XML: "+t),n};var It=/\[\]$/,kt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;we.param=function(e,t){var n,i=[],r=function(e,t){var n=be(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!we.isPlainObject(e))we.each(e,function(){r(this.name,this.value)});else for(n in e)te(n,e[n],t,r);return i.join("&")},we.fn.extend({serialize:function(){return we.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=we.prop(this,"elements");return e?we.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!we(this).is(":disabled")&&Lt.test(this.nodeName)&&!kt.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=we(this).val();return null==n?null:Array.isArray(n)?we.map(n,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}});var Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ot=/^(?:GET|HEAD)$/,_t={},zt={},Vt="*/".concat("*"),Ft=le.createElement("a");Ft.href=Ht.href,we.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ht.href,type:"GET",isLocal:Rt.test(Ht.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":we.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?re(re(e,we.ajaxSettings),t):re(we.ajaxSettings,e)},ajaxPrefilter:ne(_t),ajaxTransport:ne(zt),ajax:function(t,n){function i(t,n,i,a){var c,d,f,b,x,S=n;u||(u=!0,l&&e.clearTimeout(l),r=void 0,s=a||"",w.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(b=oe(p,w,i)),b=se(p,b,w,c),c?(p.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(we.lastModified[o]=x),(x=w.getResponseHeader("etag"))&&(we.etag[o]=x)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=b.state,d=b.data,c=!(f=b.error))):(f=S,!t&&S||(S="error",t<0&&(t=0))),w.status=t,w.statusText=(n||S)+"",c?v.resolveWith(m,[d,S,w]):v.rejectWith(m,[w,S,f]),w.statusCode(T),T=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[w,p,c?d:f]),y.fireWith(m,[w,S]),h&&(g.trigger("ajaxComplete",[w,p]),--we.active||we.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,s,a,l,c,u,h,d,f,p=we.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?we(m):we.event,v=we.Deferred(),y=we.Callbacks("once memory"),T=p.statusCode||{},b={},x={},S="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Nt.exec(s);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)w.always(e[w.status]);else for(t in e)T[t]=[T[t],e[t]];return this},abort:function(e){var t=e||S;return r&&r.abort(t),i(0,t),this}};if(v.promise(w),p.url=((t||p.url||Ht.href)+"").replace(/^\/\//,Ht.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ie)||[""],null==p.crossDomain){c=le.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ft.protocol+"//"+Ft.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=we.param(p.data,p.traditional)),ie(_t,p,n,w),u)return w;(h=we.event&&p.global)&&0==we.active++&&we.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ot.test(p.type),o=p.url.replace(/#.*$/,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(/%20/g,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Dt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(/([?&])_=[^&]*/,"$1"),f=(Dt.test(o)?"&":"?")+"_="+Bt+++f),p.url=o+f),p.ifModified&&(we.lastModified[o]&&w.setRequestHeader("If-Modified-Since",we.lastModified[o]),we.etag[o]&&w.setRequestHeader("If-None-Match",we.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Vt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)w.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,w,p)||u))return w.abort();if(S="abort",y.add(p.complete),w.done(p.success),w.fail(p.error),r=ie(zt,p,n,w)){if(w.readyState=1,h&&g.trigger("ajaxSend",[w,p]),u)return w;p.async&&p.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},p.timeout));try{u=!1,r.send(b,i)}catch(e){if(u)throw e;i(-1,e)}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return we.get(e,t,n,"json")},getScript:function(e,t){return we.get(e,void 0,t,"script")}}),we.each(["get","post"],function(e,t){we[t]=function(e,n,i,r){return be(n)&&(r=r||i,i=n,n=void 0),we.ajax(we.extend({url:e,type:t,dataType:r,data:n,success:i},we.isPlainObject(e)&&e))}}),we._evalUrl=function(e,t){return we.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){we.globalEval(e,t)}})},we.fn.extend({wrapAll:function(e){var t;return this[0]&&(be(e)&&(e=e.call(this[0])),t=we(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return be(e)?this.each(function(t){we(this).wrapInner(e.call(this,t))}):this.each(function(){var t=we(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=be(e);return this.each(function(n){we(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){we(this).replaceWith(this.childNodes)}),this}}),we.expr.pseudos.hidden=function(e){return!we.expr.pseudos.visible(e)},we.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},we.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},Ut=we.ajaxSettings.xhr();Te.cors=!!Ut&&"withCredentials"in Ut,Te.ajax=Ut=!!Ut,we.ajaxTransport(function(t){var n,i;if(Te.cors||Ut&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(jt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),we.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),we.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return we.globalEval(e),e}}}),we.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),we.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(i,r){t=we("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),le.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Xt=[],Wt=/(=)\?(?=&|$)|\?\?/;we.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||we.expando+"_"+Bt++;return this[e]=!0,e}}),we.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=be(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Wt,"$1"+r):!1!==t.jsonp&&(t.url+=(Dt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||we.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){void 0===o?we(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Xt.push(r)),s&&be(o)&&o(s[0]),s=o=void 0}),"script"}),Te.createHTMLDocument=function(){var e=le.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),we.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,r,o;return t||(Te.createHTMLDocument?((i=(t=le.implementation.createHTMLDocument("")).createElement("base")).href=le.location.href,t.head.appendChild(i)):t=le),r=Ee.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=w([e],t,o),o&&o.length&&we(o).remove(),we.merge([],r.childNodes))},we.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=J(e.slice(a)),e=e.slice(0,a)),be(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&we.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?we("<div>").append(we.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},we.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){we.fn[t]=function(e){return this.on(t,e)}}),we.expr.pseudos.animated=function(e){return we.grep(we.timers,function(t){return e===t.elem}).length},we.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=we.css(e,"position"),u=we(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=we.css(e,"top"),l=we.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),be(t)&&(t=t.call(e,n,we.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):u.css(h)}},we.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){we.offset.setOffset(this,e,t)});var t,n,i=this[0];if(i)return i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===we.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===we.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=we(e).offset()).top+=we.css(e,"borderTopWidth",!0),r.left+=we.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-we.css(i,"marginTop",!0),left:t.left-r.left-we.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===we.css(e,"position");)e=e.offsetParent;return e||qe})}}),we.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;we.fn[e]=function(i){return Ne(this,function(e,i,r){var o;if(xe(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),we.each(["top","left"],function(e,t){we.cssHooks[t]=O(Te.pixelPosition,function(e,n){if(n)return n=R(e,t),ut.test(n)?we(e).position()[t]+"px":n})}),we.each({Height:"height",Width:"width"},function(e,t){we.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){we.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Ne(this,function(t,n,r){var o;return xe(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?we.css(t,n,a):we.style(t,n,r,a)},t,s?r:void 0,s)}})}),we.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){we.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),we.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),we.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),we.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),be(e))return i=ue.call(arguments,2),r=function(){return e.apply(t||this,i.concat(ue.call(arguments)))},r.guid=e.guid=e.guid||we.guid++,r},we.holdReady=function(e){e?we.readyWait++:we.ready(!0)},we.isArray=Array.isArray,we.parseJSON=JSON.parse,we.nodeName=o,we.isFunction=be,we.isWindow=xe,we.camelCase=p,we.type=i,we.now=Date.now,we.isNumeric=function(e){var t=we.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var qt=e.jQuery,Kt=e.$;return we.noConflict=function(t){return e.$===we&&(e.$=Kt),t&&e.jQuery===we&&(e.jQuery=qt),we},t||(e.jQuery=e.$=we),we})});n(function(e,t){!function(t){e.exports=function(e){var t=!1,n=!1,i=0,r=2e3,o=0,s=e,a=document,l=window,c=s(l),u=[],h=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,d=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(h)l.cancelAnimationFrame||(d=function(e){});else{var f=0;h=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-f)),r=l.setTimeout(function(){e(n+i)},i);return f=n+i,r},d=function(e){l.clearTimeout(e)}}var p=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=a.currentScript||function(){var e=a.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1,scrollCLass:!1},v=!1,y=function(){if(v)return v;var e=a.createElement("DIV"),t=e.style,n=navigator.userAgent,i=navigator.platform,r={};return r.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,r.isopera="opera"in l,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),r.isie="all"in a&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in t),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in a)||7===a.documentMode),r.isie8=r.isie&&"documentMode"in a&&8===a.documentMode,r.isie9=r.isie&&"performance"in l&&9===a.documentMode,r.isie10=r.isie&&"performance"in l&&10===a.documentMode,r.isie11="msRequestFullscreen"in e&&a.documentMode>=11,r.ismsedge="msCredentials"in l,r.ismozilla="MozAppearance"in t,r.iswebkit=!r.ismsedge&&"WebkitAppearance"in t,r.ischrome=r.iswebkit&&"chrome"in l,r.ischrome38=r.ischrome&&"touchAction"in t,r.ischrome22=!r.ischrome38&&r.ischrome&&r.haspointerlock,r.ischrome26=!r.ischrome38&&r.ischrome&&"transition"in t,r.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,r.hasw3ctouch=(l.PointerEvent||!1)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),r.hasmstouch=!r.hasw3ctouch&&(l.MSPointerEvent||!1),r.ismac=/^mac$/i.test(i),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(i),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in a,r.isios8=r.isios&&"hidden"in a,r.isios10=r.isios&&l.Proxy,r.isandroid=/android/i.test(n),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,r.trstyle="transform",r.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],n=0,i=e.length;n<i;n++)if(void 0!==t[e[n]]){r.trstyle=e[n];break}r.hastransform=!!r.trstyle}(),r.hastransform&&(t[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(t[r.trstyle])),r.transitionstyle="transition",r.prefixstyle="",r.transitionend="transitionend",r.hastransition="transition"in t||function(){r.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],n=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],o=0,s=e.length;o<s;o++)if(e[o]in t){r.transitionstyle=e[o],r.prefixstyle=n[o],r.transitionend=i[o];break}r.ischrome26&&(r.prefixstyle=n[1]),r.hastransition=r.transitionstyle}(),r.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(r.ischrome&&!r.ischrome38||r.isie)&&(e=[]);for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t.cursor=o,t.cursor==o)return o}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==p,e=null,v=r,r},T=function(e,f){function v(){var e=P.doc.css(B.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function T(){var e=P.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}function x(e,t,n){var i=e.css(t),r=parseFloat(i);if(isNaN(r)){var o=3==(r=k[i]||0)?n?P.win.outerHeight()-P.win.innerHeight():P.win.outerWidth()-P.win.innerWidth():1;return P.isie8&&r&&(r+=1),o?r:0}return r}function S(e,t,n,i){P._bind(e,t,function(i){var r={original:i=i||l.event,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX),i.wheelDeltaY&&(r.deltaY=-.025*i.wheelDeltaY),!r.deltaY&&!r.deltaX&&(r.deltaY=-.025*i.wheelDelta)):r.deltaY=i.detail,n.call(e,r)},i)}function w(e,t,n,i){P.scrollrunning||(P.newscrolly=P.getScrollTop(),P.newscrollx=P.getScrollLeft(),z=m());var r=m()-z;if(z=m(),r>350?V=1:V+=(2-V)/10,e=e*V|0,t=t*V|0,e){if(i)if(e<0){if(P.getScrollLeft()>=P.page.maxw)return!0}else if(P.getScrollLeft()<=0)return!0;var o=e>0?1:-1;_!==o&&(P.scrollmom&&P.scrollmom.stop(),P.newscrollx=P.getScrollLeft(),_=o),P.lastdeltax-=e}if(t){if(function(){var e=P.getScrollTop();if(t<0){if(e>=P.page.maxh)return!0}else if(e<=0)return!0}()){if(C.nativeparentscrolling&&n&&!P.ispage&&!P.zoomactive)return!0;var s=P.view.h>>1;P.newscrolly<-s?(P.newscrolly=-s,t=-1):P.newscrolly>P.page.maxh+s?(P.newscrolly=P.page.maxh+s,t=1):t=0}var a=t>0?1:-1;O!==a&&(P.scrollmom&&P.scrollmom.stop(),P.newscrolly=P.getScrollTop(),O=a),P.lastdeltay-=t}(t||e)&&P.synched("relativexy",function(){var e=P.lastdeltay+P.newscrolly;P.lastdeltay=0;var t=P.lastdeltax+P.newscrollx;P.lastdeltax=0,P.rail.drag||P.doScrollPos(t,e)})}function M(e,t,n){var i,r;return!(n||!F)||(0===e.deltaMode?(i=-e.deltaX*(C.mousescrollstep/54)|0,r=-e.deltaY*(C.mousescrollstep/54)|0):1===e.deltaMode&&(i=-e.deltaX*C.mousescrollstep*50/80|0,r=-e.deltaY*C.mousescrollstep*50/80|0),t&&C.oneaxismousemode&&0===i&&r&&(i=r,r=0,n&&(i<0?P.getScrollLeft()>=P.page.maxw:P.getScrollLeft()<=0)&&(r=i,i=0)),P.isrtlmode&&(i=-i),w(i,r,n,!0)?void(n&&(F=!0)):(F=!1,e.stopImmediatePropagation(),e.preventDefault()))}var P=this;this.version="3.7.6",this.name="nicescroll",this.me=f;var A=s("body"),C=this.opt={doc:A,win:!1};if(s.extend(C,g),C.snapbackspeed=80,e)for(var E in C)void 0!==e[E]&&(C[E]=e[E]);if(C.disablemutationobserver&&(p=!1),this.doc=C.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(C.win?C.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==C.win,this.win=C.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=A,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=C.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==C.rtlmode){var G=this.win[0]==l?this.body:this.win,H=G.css("writing-mode")||G.css("-webkit-writing-mode")||G.css("-ms-writing-mode")||G.css("-moz-writing-mode");"horizontal-tb"==H||"lr-tb"==H||""===H?(this.isrtlmode="rtl"==G.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==H||"tb"==H||"tb-rl"==H||"rl-tb"==H,this.isvertical="vertical-rl"==H||"tb"==H||"tb-rl"==H)}else this.isrtlmode=!0===C.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==C.scrollbarid)this.id=C.scrollbarid;else do{this.id="ascrail"+r++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=C.overflowx,this.overflowy=C.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=y();var B=s.extend({},this.detected);this.canhwscroll=B.hastransform&&C.hwacceleration,this.ishwscroll=this.canhwscroll&&P.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(B.iswebkit||B.isie||B.isie11):this.hasreversehr=!(B.iswebkit||B.isie&&!B.isie10&&!B.isie11):this.hasreversehr=!1,this.istouchcapable=!1,B.cantouch||!B.hasw3ctouch&&!B.hasmstouch?!B.cantouch||B.isios||B.isandroid||!B.iswebkit&&!B.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,C.enablemouselockapi||(B.hasmousecapture=!1,B.haspointerlock=!1),this.debounced=function(e,t,n){P&&(P.delaylist[e]||!1||(P.delaylist[e]={h:h(function(){P.delaylist[e].fn.call(P),P.delaylist[e]=!1},n)},t.call(P)),P.delaylist[e].fn=t)},this.synched=function(e,t){P.synclist[e]?P.synclist[e]=t:(P.synclist[e]=t,h(function(){P&&(P.synclist[e]&&P.synclist[e].call(P),P.synclist[e]=null)}))},this.unsynched=function(e){P.synclist[e]&&(P.synclist[e]=!1)},this.css=function(e,t){for(var n in t)P.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])},this.scrollTop=function(e){return void 0===e?P.getScrollTop():P.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?P.getScrollLeft():P.setScrollLeft(e)};var D=function(e,t,n,i,r,o,s){this.st=e,this.ed=t,this.spd=n,this.p1=i||0,this.p2=r||1,this.p3=o||0,this.p4=s||1,this.ts=m(),this.df=t-e};if(D.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var e=(m()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},B.hastranslate3d&&B.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[13]:-t[5];if(P.timerscroll&&P.timerscroll.bz)return P.timerscroll.bz.getNow()}return P.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[12]:-t[4];if(P.timerscroll&&P.timerscroll.bh)return P.timerscroll.bh.getNow()}return P.doc.translate.x},this.notifyScrollEvent=function(e){var t=a.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,l,1),t.niceevent=!0,e.dispatchEvent(t)};var I=this.isrtlmode?1:-1;B.hastranslate3d&&C.enabletranslate3d?(this.setScrollTop=function(e,t){P.doc.translate.y=e,P.doc.translate.ty=-1*e+"px",P.doc.css(B.trstyle,"translate3d("+P.doc.translate.tx+","+P.doc.translate.ty+",0)"),t||P.notifyScrollEvent(P.win[0])},this.setScrollLeft=function(e,t){P.doc.translate.x=e,P.doc.translate.tx=e*I+"px",P.doc.css(B.trstyle,"translate3d("+P.doc.translate.tx+","+P.doc.translate.ty+",0)"),t||P.notifyScrollEvent(P.win[0])}):(this.setScrollTop=function(e,t){P.doc.translate.y=e,P.doc.translate.ty=-1*e+"px",P.doc.css(B.trstyle,"translate("+P.doc.translate.tx+","+P.doc.translate.ty+")"),t||P.notifyScrollEvent(P.win[0])},this.setScrollLeft=function(e,t){P.doc.translate.x=e,P.doc.translate.tx=e*I+"px",P.doc.css(B.trstyle,"translate("+P.doc.translate.tx+","+P.doc.translate.ty+")"),t||P.notifyScrollEvent(P.win[0])})}else this.getScrollTop=function(){return P.docscroll.scrollTop()},this.setScrollTop=function(e){P.docscroll.scrollTop(e)},this.getScrollLeft=function(){return P.hasreversehr?P.detected.ismozilla?P.page.maxw-Math.abs(P.docscroll.scrollLeft()):P.page.maxw-P.docscroll.scrollLeft():P.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(P)return P.hasreversehr&&(e=P.detected.ismozilla?-(P.page.maxw-e):P.page.maxw-e),P.docscroll.scrollLeft(e)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var n=e.target||e.srcElement||e||!1;n&&n.id!=t;)n=n.parentNode||!1;return!1!==n};var k={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(P.isfixed){var e=P.win.offset(),t=P.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var n=P.win.offset();if(!P.viewport)return n;var i=P.viewport.offset();return{top:n.top-i.top,left:n.left-i.left}},this.updateScrollBar=function(e){var t,n;if(P.ishwscroll)P.rail.css({height:P.win.innerHeight()-(C.railpadding.top+C.railpadding.bottom)}),P.railh&&P.railh.css({width:P.win.innerWidth()-(C.railpadding.left+C.railpadding.right)});else{var i=P.getOffset();if(t={top:i.top,left:i.left-(C.railpadding.left+C.railpadding.right)},t.top+=x(P.win,"border-top-width",!0),t.left+=P.rail.align?P.win.outerWidth()-x(P.win,"border-right-width")-P.rail.width:x(P.win,"border-left-width"),(n=C.railoffset)&&(n.top&&(t.top+=n.top),n.left&&(t.left+=n.left)),P.railslocked||P.rail.css({top:t.top,left:t.left,height:(e?e.h:P.win.innerHeight())-(C.railpadding.top+C.railpadding.bottom)}),P.zoom&&P.zoom.css({top:t.top+1,left:1==P.rail.align?t.left-20:t.left+P.rail.width+4}),P.railh&&!P.railslocked){t={top:i.top,left:i.left},(n=C.railhoffset)&&(n.top&&(t.top+=n.top),n.left&&(t.left+=n.left));var r=P.railh.align?t.top+x(P.win,"border-top-width",!0)+P.win.innerHeight()-P.railh.height:t.top+x(P.win,"border-top-width",!0),o=t.left+x(P.win,"border-left-width");P.railh.css({top:r-(C.railpadding.top+C.railpadding.bottom),left:o,width:P.railh.width})}}},this.doRailClick=function(e,t,n){var i,r,o,s;P.railslocked||(P.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+a.documentElement.scrollLeft,e.pageY=e.clientY+a.documentElement.scrollTop),t?(i=n?P.doScrollLeft:P.doScrollTop,o=n?(e.pageX-P.railh.offset().left-P.cursorwidth/2)*P.scrollratio.x:(e.pageY-P.rail.offset().top-P.cursorheight/2)*P.scrollratio.y,P.unsynched("relativexy"),i(0|o)):(i=n?P.doScrollLeftBy:P.doScrollBy,o=n?P.scroll.x:P.scroll.y,s=n?e.pageX-P.railh.offset().left:e.pageY-P.rail.offset().top,r=n?P.view.w:P.view.h,i(o>=s?r:-r)))},P.newscrolly=P.newscrollx=0,P.hasanimationframe="requestAnimationFrame"in l,P.hascancelanimationframe="cancelAnimationFrame"in l,P.hasborderbox=!1,this.init=function(){if(P.saved.css=[],B.isoperamini)return!0;if(B.isandroid&&!("hidden"in a))return!0;C.emulatetouch=C.emulatetouch||C.touchbehavior,P.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var e={"overflow-y":"hidden"};if((B.isie11||B.isie10)&&(e["-ms-overflow-style"]="none"),P.ishwscroll&&(this.doc.css(B.transitionstyle,B.prefixstyle+"transform 0ms ease-out"),B.transitionend&&P.bind(P.doc,B.transitionend,P.onScrollTransitionEnd,!1)),P.zindex="auto",P.ispage||"auto"!=C.zindex?P.zindex=C.zindex:P.zindex=T()||"auto",!P.ispage&&"auto"!=P.zindex&&P.zindex>o&&(o=P.zindex),P.isie&&0===P.zindex&&"auto"==C.zindex&&(P.zindex="auto"),!P.ispage||!B.isieold){var r=P.docscroll;P.ispage&&(r=P.haswrapper?P.win:P.doc),P.css(r,e),P.ispage&&(B.isie11||B.isie)&&P.css(s("html"),e),!B.isios||P.ispage||P.haswrapper||P.css(A,{"-webkit-overflow-scrolling":"touch"});var u=s(a.createElement("div"));u.css({position:"relative",top:0,float:"right",width:C.cursorwidth,height:0,"background-color":C.cursorcolor,border:C.cursorborder,"background-clip":"padding-box","-webkit-border-radius":C.cursorborderradius,"-moz-border-radius":C.cursorborderradius,"border-radius":C.cursorborderradius}),u.addClass("nicescroll-cursors"),P.cursor=u;var h=s(a.createElement("div"));h.attr("id",P.id),h.addClass("nicescroll-rails nicescroll-rails-vr"),C.scrollCLass&&h.addClass(C.scrollCLass);var d,f,m=["left","right","top","bottom"];for(var g in m)f=m[g],(d=C.railpadding[f]||0)&&h.css("padding-"+f,d+"px");h.append(u),h.width=Math.max(parseFloat(C.cursorwidth),u.outerWidth()),h.css({width:h.width+"px",zIndex:P.zindex,background:C.background,cursor:"default"}),h.visibility=!0,h.scrollable=!0,h.align="left"==C.railalign?0:1,P.rail=h,P.rail.drag=!1;var v=!1;!C.boxzoom||P.ispage||B.isieold||(v=a.createElement("div"),P.bind(v,"click",P.doZoom),P.bind(v,"mouseenter",function(){P.zoom.css("opacity",C.cursoropacitymax)}),P.bind(v,"mouseleave",function(){P.zoom.css("opacity",C.cursoropacitymin)}),P.zoom=s(v),P.zoom.css({cursor:"pointer",zIndex:P.zindex,backgroundImage:"url("+C.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),C.dblclickzoom&&P.bind(P.win,"dblclick",P.doZoom),B.cantouch&&C.gesturezoom&&(P.ongesturezoom=function(e){return e.scale>1.5&&P.doZoomIn(e),e.scale<.8&&P.doZoomOut(e),P.cancelEvent(e)},P.bind(P.win,"gestureend",P.ongesturezoom))),P.railh=!1;var y;if(C.horizrailenabled&&(P.css(r,{overflowX:"hidden"}),(u=s(a.createElement("div"))).css({position:"absolute",top:0,height:C.cursorwidth,width:0,backgroundColor:C.cursorcolor,border:C.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":C.cursorborderradius,"-moz-border-radius":C.cursorborderradius,"border-radius":C.cursorborderradius}),B.isieold&&u.css("overflow","hidden"),u.addClass("nicescroll-cursors"),P.cursorh=u,(y=s(a.createElement("div"))).attr("id",P.id+"-hr"),y.addClass("nicescroll-rails nicescroll-rails-hr"),C.scrollCLass&&y.addClass(C.scrollCLass),y.height=Math.max(parseFloat(C.cursorwidth),u.outerHeight()),y.css({height:y.height+"px",zIndex:P.zindex,background:C.background}),y.append(u),y.visibility=!0,y.scrollable=!0,y.align="top"==C.railvalign?0:1,P.railh=y,P.railh.drag=!1),P.ispage)h.css({position:"fixed",top:0,height:"100%"}),h.css(h.align?{right:0}:{left:0}),P.body.append(h),P.railh&&(y.css({position:"fixed",left:0,width:"100%"}),y.css(y.align?{bottom:0}:{top:0}),P.body.append(y));else{if(P.ishwscroll){"static"==P.win.css("position")&&P.css(P.win,{position:"relative"});var x="HTML"==P.win[0].nodeName?P.body:P.win;s(x).scrollTop(0).scrollLeft(0),P.zoom&&(P.zoom.css({position:"absolute",top:1,right:0,"margin-right":h.width+4}),x.append(P.zoom)),h.css({position:"absolute",top:0}),h.css(h.align?{right:0}:{left:0}),x.append(h),y&&(y.css({position:"absolute",left:0,bottom:0}),y.css(y.align?{bottom:0}:{top:0}),x.append(y))}else{P.isfixed="fixed"==P.win.css("position");var S=P.isfixed?"fixed":"absolute";P.isfixed||(P.viewport=P.getViewport(P.win[0])),P.viewport&&(P.body=P.viewport,/fixed|absolute/.test(P.viewport.css("position"))||P.css(P.viewport,{position:"relative"})),h.css({position:S}),P.zoom&&P.zoom.css({position:S}),P.updateScrollBar(),P.body.append(h),P.zoom&&P.body.append(P.zoom),P.railh&&(y.css({position:S}),P.body.append(y))}B.isios&&P.css(P.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),C.disableoutline&&(B.isie&&P.win.attr("hideFocus","true"),B.iswebkit&&P.win.css("outline","none"))}if(!1===C.autohidemode?(P.autohidedom=!1,P.rail.css({opacity:C.cursoropacitymax}),P.railh&&P.railh.css({opacity:C.cursoropacitymax})):!0===C.autohidemode||"leave"===C.autohidemode?(P.autohidedom=s().add(P.rail),B.isie8&&(P.autohidedom=P.autohidedom.add(P.cursor)),P.railh&&(P.autohidedom=P.autohidedom.add(P.railh)),P.railh&&B.isie8&&(P.autohidedom=P.autohidedom.add(P.cursorh))):"scroll"==C.autohidemode?(P.autohidedom=s().add(P.rail),P.railh&&(P.autohidedom=P.autohidedom.add(P.railh))):"cursor"==C.autohidemode?(P.autohidedom=s().add(P.cursor),P.railh&&(P.autohidedom=P.autohidedom.add(P.cursorh))):"hidden"==C.autohidemode&&(P.autohidedom=!1,P.hide(),P.railslocked=!1),B.cantouch||P.istouchcapable||C.emulatetouch||B.hasmstouch){P.scrollmom=new b(P),P.ontouchstart=function(e){if(P.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(P.hasmoving=!1,P.scrollmom.timer&&(P.triggerScrollEnd(),P.scrollmom.stop()),!P.railslocked){var t=P.getTarget(e);if(t&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return P.stopPropagation(e);var n="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),P.forcescreen){var i=e;(e={original:e.original?e.original:e}).clientX=i.screenX,e.clientY=i.screenY}if(P.rail.drag={x:e.clientX,y:e.clientY,sx:P.scroll.x,sy:P.scroll.y,st:P.getScrollTop(),sl:P.getScrollLeft(),pt:2,dl:!1,tg:t},P.ispage||!C.directionlockdeadzone)P.rail.drag.dl="f";else{var r={w:c.width(),h:c.height()},o=P.getContentSize(),a=o.h-r.h,l=o.w-r.w;P.rail.scrollable&&!P.railh.scrollable?P.rail.drag.ck=a>0&&"v":!P.rail.scrollable&&P.railh.scrollable?P.rail.drag.ck=l>0&&"h":P.rail.drag.ck=!1}if(C.emulatetouch&&P.isiframe&&B.isie){var u=P.win.position();P.rail.drag.x+=u.left,P.rail.drag.y+=u.top}if(P.hasmoving=!1,P.lastmouseup=!1,P.scrollmom.reset(e.clientX,e.clientY),t&&n){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return B.hasmousecapture&&t.setCapture(),C.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(P.hasmoving)return!1;t._onclick.call(this,e)}),P.cancelEvent(e)):P.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(s(t).attr("type"))&&(P.preventclick={tg:t,click:!1})}}},P.ontouchend=function(e){if(!P.rail.drag)return!0;if(2==P.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;P.rail.drag=!1;var t="mouseup"===e.type;if(P.hasmoving&&(P.scrollmom.doMomentum(),P.lastmouseup=!0,P.hideCursor(),B.hasmousecapture&&a.releaseCapture(),t))return P.cancelEvent(e)}else if(1==P.rail.drag.pt)return P.onmouseup(e)};var w=C.emulatetouch&&P.isiframe&&!B.hasmousecapture,M=.3*C.directionlockdeadzone|0;P.ontouchmove=function(e,t){if(!P.rail.drag)return!0;if(e.targetTouches&&C.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==P.rail.drag.pt){"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY);var n,i;if(i=n=0,w&&!t){var r=P.win.position();i=-r.left,n=-r.top}var o=e.clientY+n,s=o-P.rail.drag.y,l=e.clientX+i,c=l-P.rail.drag.x,u=P.rail.drag.st-s;if(P.ishwscroll&&C.bouncescroll)u<0?u=Math.round(u/2):u>P.page.maxh&&(u=P.page.maxh+Math.round((u-P.page.maxh)/2));else if(u<0?(u=0,o=0):u>P.page.maxh&&(u=P.page.maxh,o=0),0===o&&!P.hasmoving)return P.ispage||(P.rail.drag=!1),!0;var h=P.getScrollLeft();if(P.railh&&P.railh.scrollable&&(h=P.isrtlmode?c-P.rail.drag.sl:P.rail.drag.sl-c,P.ishwscroll&&C.bouncescroll?h<0?h=Math.round(h/2):h>P.page.maxw&&(h=P.page.maxw+Math.round((h-P.page.maxw)/2)):(h<0&&(h=0,l=0),h>P.page.maxw&&(h=P.page.maxw,l=0))),!P.hasmoving){if(P.rail.drag.y===e.clientY&&P.rail.drag.x===e.clientX)return P.cancelEvent(e);var d=Math.abs(s),f=Math.abs(c),p=C.directionlockdeadzone;if(P.rail.drag.ck?"v"==P.rail.drag.ck?f>p&&d<=M?P.rail.drag=!1:d>p&&(P.rail.drag.dl="v"):"h"==P.rail.drag.ck&&(d>p&&f<=M?P.rail.drag=!1:f>p&&(P.rail.drag.dl="h")):d>p&&f>p?P.rail.drag.dl="f":d>p?P.rail.drag.dl=f>M?"f":"v":f>p&&(P.rail.drag.dl=d>M?"f":"h"),!P.rail.drag.dl)return P.cancelEvent(e);P.triggerScrollStart(e.clientX,e.clientY,0,0,0),P.hasmoving=!0}return P.preventclick&&!P.preventclick.click&&(P.preventclick.click=P.preventclick.tg.onclick||!1,P.preventclick.tg.onclick=P.onpreventclick),P.rail.drag.dl&&("v"==P.rail.drag.dl?h=P.rail.drag.sl:"h"==P.rail.drag.dl&&(u=P.rail.drag.st)),P.synched("touchmove",function(){P.rail.drag&&2==P.rail.drag.pt&&(P.prepareTransition&&P.resetTransition(),P.rail.scrollable&&P.setScrollTop(u),P.scrollmom.update(l,o),P.railh&&P.railh.scrollable?(P.setScrollLeft(h),P.showCursor(u,h)):P.showCursor(u),B.isie10&&a.selection.clear())}),P.cancelEvent(e)}return 1==P.rail.drag.pt?P.onmousemove(e):void 0},P.ontouchstartCursor=function(e,t){if(!P.rail.drag||3==P.rail.drag.pt){if(P.locked)return P.cancelEvent(e);P.cancelScroll(),P.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:P.scroll.x,sy:P.scroll.y,pt:3,hr:!!t};var n=P.getTarget(e);return!P.ispage&&B.hasmousecapture&&n.setCapture(),P.isiframe&&!B.hasmousecapture&&(P.saved.csspointerevents=P.doc.css("pointer-events"),P.css(P.doc,{"pointer-events":"none"})),P.cancelEvent(e)}},P.ontouchendCursor=function(e){if(P.rail.drag){if(B.hasmousecapture&&a.releaseCapture(),P.isiframe&&!B.hasmousecapture&&P.doc.css("pointer-events",P.saved.csspointerevents),3!=P.rail.drag.pt)return;return P.rail.drag=!1,P.cancelEvent(e)}},P.ontouchmoveCursor=function(e){if(P.rail.drag){if(3!=P.rail.drag.pt)return;if(P.cursorfreezed=!0,P.rail.drag.hr){P.scroll.x=P.rail.drag.sx+(e.touches[0].clientX-P.rail.drag.x),P.scroll.x<0&&(P.scroll.x=0);var t=P.scrollvaluemaxw;P.scroll.x>t&&(P.scroll.x=t)}else{P.scroll.y=P.rail.drag.sy+(e.touches[0].clientY-P.rail.drag.y),P.scroll.y<0&&(P.scroll.y=0);var n=P.scrollvaluemax;P.scroll.y>n&&(P.scroll.y=n)}return P.synched("touchmove",function(){P.rail.drag&&3==P.rail.drag.pt&&(P.showCursor(),P.rail.drag.hr?P.doScrollLeft(Math.round(P.scroll.x*P.scrollratio.x),C.cursordragspeed):P.doScrollTop(Math.round(P.scroll.y*P.scrollratio.y),C.cursordragspeed))}),P.cancelEvent(e)}}}if(P.onmousedown=function(e,t){if(!P.rail.drag||1==P.rail.drag.pt){if(P.railslocked)return P.cancelEvent(e);P.cancelScroll(),P.rail.drag={x:e.clientX,y:e.clientY,sx:P.scroll.x,sy:P.scroll.y,pt:1,hr:t||!1};var n=P.getTarget(e);return B.hasmousecapture&&n.setCapture(),P.isiframe&&!B.hasmousecapture&&(P.saved.csspointerevents=P.doc.css("pointer-events"),P.css(P.doc,{"pointer-events":"none"})),P.hasmoving=!1,P.cancelEvent(e)}},P.onmouseup=function(e){if(P.rail.drag)return 1!=P.rail.drag.pt||(B.hasmousecapture&&a.releaseCapture(),P.isiframe&&!B.hasmousecapture&&P.doc.css("pointer-events",P.saved.csspointerevents),P.rail.drag=!1,P.cursorfreezed=!1,P.hasmoving&&P.triggerScrollEnd(),P.cancelEvent(e))},P.onmousemove=function(e){if(P.rail.drag){if(1!==P.rail.drag.pt)return;if(B.ischrome&&0===e.which)return P.onmouseup(e);if(P.cursorfreezed=!0,P.hasmoving||P.triggerScrollStart(e.clientX,e.clientY,0,0,0),P.hasmoving=!0,P.rail.drag.hr){P.scroll.x=P.rail.drag.sx+(e.clientX-P.rail.drag.x),P.scroll.x<0&&(P.scroll.x=0);var t=P.scrollvaluemaxw;P.scroll.x>t&&(P.scroll.x=t)}else{P.scroll.y=P.rail.drag.sy+(e.clientY-P.rail.drag.y),P.scroll.y<0&&(P.scroll.y=0);var n=P.scrollvaluemax;P.scroll.y>n&&(P.scroll.y=n)}return P.synched("mousemove",function(){P.cursorfreezed&&(P.showCursor(),P.rail.drag.hr?P.scrollLeft(Math.round(P.scroll.x*P.scrollratio.x)):P.scrollTop(Math.round(P.scroll.y*P.scrollratio.y)))}),P.cancelEvent(e)}P.checkarea=0},B.cantouch||C.emulatetouch)P.onpreventclick=function(e){if(P.preventclick)return P.preventclick.tg.onclick=P.preventclick.click,P.preventclick=!1,P.cancelEvent(e)},P.onclick=!B.isios&&function(e){return!P.lastmouseup||(P.lastmouseup=!1,P.cancelEvent(e))},C.grabcursorenabled&&B.cursorgrabvalue&&(P.css(P.ispage?P.doc:P.win,{cursor:B.cursorgrabvalue}),P.css(P.rail,{cursor:B.cursorgrabvalue}));else{var E=function(e){if(P.selectiondrag){if(e){var t=P.win.outerHeight(),n=e.pageY-P.selectiondrag.top;n>0&&n<t&&(n=0),n>=t&&(n-=t),P.selectiondrag.df=n}if(0!==P.selectiondrag.df){var i=-2*P.selectiondrag.df/6|0;P.doScrollBy(i),P.debounced("doselectionscroll",function(){E()},50)}}};P.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},P.onselectionstart=function(e){P.ispage||(P.selectiondrag=P.win.offset())},P.onselectionend=function(e){P.selectiondrag=!1},P.onselectiondrag=function(e){P.selectiondrag&&P.hasTextSelected()&&P.debounced("selectionscroll",function(){E(e)},250)}}if(B.hasw3ctouch?(P.css(P.ispage?s("html"):P.win,{"touch-action":"none"}),P.css(P.rail,{"touch-action":"none"}),P.css(P.cursor,{"touch-action":"none"}),P.bind(P.win,"pointerdown",P.ontouchstart),P.bind(a,"pointerup",P.ontouchend),P.delegate(a,"pointermove",P.ontouchmove)):B.hasmstouch?(P.css(P.ispage?s("html"):P.win,{"-ms-touch-action":"none"}),P.css(P.rail,{"-ms-touch-action":"none"}),P.css(P.cursor,{"-ms-touch-action":"none"}),P.bind(P.win,"MSPointerDown",P.ontouchstart),P.bind(a,"MSPointerUp",P.ontouchend),P.delegate(a,"MSPointerMove",P.ontouchmove),P.bind(P.cursor,"MSGestureHold",function(e){e.preventDefault()}),P.bind(P.cursor,"contextmenu",function(e){e.preventDefault()})):B.cantouch&&(P.bind(P.win,"touchstart",P.ontouchstart,!1,!0),P.bind(a,"touchend",P.ontouchend,!1,!0),P.bind(a,"touchcancel",P.ontouchend,!1,!0),P.delegate(a,"touchmove",P.ontouchmove,!1,!0)),C.emulatetouch&&(P.bind(P.win,"mousedown",P.ontouchstart,!1,!0),P.bind(a,"mouseup",P.ontouchend,!1,!0),P.bind(a,"mousemove",P.ontouchmove,!1,!0)),(C.cursordragontouch||!B.cantouch&&!C.emulatetouch)&&(P.rail.css({cursor:"default"}),P.railh&&P.railh.css({cursor:"default"}),P.jqbind(P.rail,"mouseenter",function(){if(!P.ispage&&!P.win.is(":visible"))return!1;P.canshowonmouseevent&&P.showCursor(),P.rail.active=!0}),P.jqbind(P.rail,"mouseleave",function(){P.rail.active=!1,P.rail.drag||P.hideCursor()}),C.sensitiverail&&(P.bind(P.rail,"click",function(e){P.doRailClick(e,!1,!1)}),P.bind(P.rail,"dblclick",function(e){P.doRailClick(e,!0,!1)}),P.bind(P.cursor,"click",function(e){P.cancelEvent(e)}),P.bind(P.cursor,"dblclick",function(e){P.cancelEvent(e)})),P.railh&&(P.jqbind(P.railh,"mouseenter",function(){if(!P.ispage&&!P.win.is(":visible"))return!1;P.canshowonmouseevent&&P.showCursor(),P.rail.active=!0}),P.jqbind(P.railh,"mouseleave",function(){P.rail.active=!1,P.rail.drag||P.hideCursor()}),C.sensitiverail&&(P.bind(P.railh,"click",function(e){P.doRailClick(e,!1,!0)}),P.bind(P.railh,"dblclick",function(e){P.doRailClick(e,!0,!0)}),P.bind(P.cursorh,"click",function(e){P.cancelEvent(e)}),P.bind(P.cursorh,"dblclick",function(e){P.cancelEvent(e)})))),C.cursordragontouch&&(this.istouchcapable||B.cantouch)&&(P.bind(P.cursor,"touchstart",P.ontouchstartCursor),P.bind(P.cursor,"touchmove",P.ontouchmoveCursor),P.bind(P.cursor,"touchend",P.ontouchendCursor),P.cursorh&&P.bind(P.cursorh,"touchstart",function(e){P.ontouchstartCursor(e,!0)}),P.cursorh&&P.bind(P.cursorh,"touchmove",P.ontouchmoveCursor),P.cursorh&&P.bind(P.cursorh,"touchend",P.ontouchendCursor)),C.emulatetouch||B.isandroid||B.isios?(P.bind(B.hasmousecapture?P.win:a,"mouseup",P.ontouchend),P.onclick&&P.bind(a,"click",P.onclick),C.cursordragontouch?(P.bind(P.cursor,"mousedown",P.onmousedown),P.bind(P.cursor,"mouseup",P.onmouseup),P.cursorh&&P.bind(P.cursorh,"mousedown",function(e){P.onmousedown(e,!0)}),P.cursorh&&P.bind(P.cursorh,"mouseup",P.onmouseup)):(P.bind(P.rail,"mousedown",function(e){e.preventDefault()}),P.railh&&P.bind(P.railh,"mousedown",function(e){e.preventDefault()}))):(P.bind(B.hasmousecapture?P.win:a,"mouseup",P.onmouseup),P.bind(a,"mousemove",P.onmousemove),P.onclick&&P.bind(a,"click",P.onclick),P.bind(P.cursor,"mousedown",P.onmousedown),P.bind(P.cursor,"mouseup",P.onmouseup),P.railh&&(P.bind(P.cursorh,"mousedown",function(e){P.onmousedown(e,!0)}),P.bind(P.cursorh,"mouseup",P.onmouseup)),!P.ispage&&C.enablescrollonselection&&(P.bind(P.win[0],"mousedown",P.onselectionstart),P.bind(a,"mouseup",P.onselectionend),P.bind(P.cursor,"mouseup",P.onselectionend),P.cursorh&&P.bind(P.cursorh,"mouseup",P.onselectionend),P.bind(a,"mousemove",P.onselectiondrag)),P.zoom&&(P.jqbind(P.zoom,"mouseenter",function(){P.canshowonmouseevent&&P.showCursor(),P.rail.active=!0}),P.jqbind(P.zoom,"mouseleave",function(){P.rail.active=!1,P.rail.drag||P.hideCursor()}))),C.enablemousewheel&&(P.isiframe||P.mousewheel(B.isie&&P.ispage?a:P.win,P.onmousewheel),P.mousewheel(P.rail,P.onmousewheel),P.railh&&P.mousewheel(P.railh,P.onmousewheelhr)),P.ispage||B.cantouch||/HTML|^BODY/.test(P.win[0].nodeName)||(P.win.attr("tabindex")||P.win.attr({tabindex:++i}),P.bind(P.win,"focus",function(e){t=P.getTarget(e).id||P.getTarget(e)||!1,P.hasfocus=!0,P.canshowonmouseevent&&P.noticeCursor()}),P.bind(P.win,"blur",function(e){t=!1,P.hasfocus=!1}),P.bind(P.win,"mouseenter",function(e){n=P.getTarget(e).id||P.getTarget(e)||!1,P.hasmousefocus=!0,P.canshowonmouseevent&&P.noticeCursor()}),P.bind(P.win,"mouseleave",function(e){n=!1,P.hasmousefocus=!1,P.rail.drag||P.hideCursor()})),P.onkeypress=function(e){if(P.railslocked&&0===P.page.maxh)return!0;e=e||l.event;var i=P.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)&&(!(i.getAttribute("type")||i.type||!1)||!/submit|button|cancel/i.tp))return!0;if(s(i).attr("contenteditable"))return!0;if(P.hasfocus||P.hasmousefocus&&!t||P.ispage&&!t&&!n){var r=e.keyCode;if(P.railslocked&&27!=r)return P.cancelEvent(e);var o=e.ctrlKey||!1,a=e.shiftKey||!1,c=!1;switch(r){case 38:case 63233:P.doScrollBy(72),c=!0;break;case 40:case 63235:P.doScrollBy(-72),c=!0;break;case 37:case 63232:P.railh&&(o?P.doScrollLeft(0):P.doScrollLeftBy(72),c=!0);break;case 39:case 63234:P.railh&&(o?P.doScrollLeft(P.page.maxw):P.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:P.doScrollBy(P.view.h),c=!0;break;case 34:case 63277:P.doScrollBy(-P.view.h),c=!0;break;case 36:case 63273:P.railh&&o?P.doScrollPos(0,0):P.doScrollTo(0),c=!0;break;case 35:case 63275:P.railh&&o?P.doScrollPos(P.page.maxw,P.page.maxh):P.doScrollTo(P.page.maxh),c=!0;break;case 32:C.spacebarenabled&&(a?P.doScrollBy(P.view.h):P.doScrollBy(-P.view.h),c=!0);break;case 27:P.zoomactive&&(P.doZoom(),c=!0)}if(c)return P.cancelEvent(e)}},C.enablekeyboard&&P.bind(a,B.isopera&&!B.isopera12?"keypress":"keydown",P.onkeypress),P.bind(a,"keydown",function(e){(e.ctrlKey||!1)&&(P.wheelprevented=!0)}),P.bind(a,"keyup",function(e){e.ctrlKey||!1||(P.wheelprevented=!1)}),P.bind(l,"blur",function(e){P.wheelprevented=!1}),P.bind(l,"resize",P.onscreenresize),P.bind(l,"orientationchange",P.onscreenresize),P.bind(l,"load",P.lazyResize),B.ischrome&&!P.ispage&&!P.haswrapper){var G=P.win.attr("style"),H=parseFloat(P.win.css("width"))+1;P.win.css("width",H),P.synched("chromefix",function(){P.win.attr("style",G)})}if(P.onAttributeChange=function(e){P.lazyResize(P.isieold?250:30)},C.enableobserver&&(P.isie11||!1===p||(P.observerbody=new p(function(e){if(e.forEach(function(e){if("attributes"==e.type)return A.hasClass("modal-open")&&A.hasClass("modal-dialog")&&!s.contains(s(".modal-dialog")[0],P.doc[0])?P.hide():P.show()}),P.me.clientWidth!=P.page.width||P.me.clientHeight!=P.page.height)return P.lazyResize(30)}),P.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!P.ispage&&!P.haswrapper)){var D=P.win[0];!1!==p?(P.observer=new p(function(e){e.forEach(P.onAttributeChange)}),P.observer.observe(D,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),P.observerremover=new p(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(P&&e.removedNodes[t]===D)return P.remove()})}),P.observerremover.observe(D.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(P.bind(D,B.isie&&!B.isie9?"propertychange":"DOMAttrModified",P.onAttributeChange),B.isie9&&D.attachEvent("onpropertychange",P.onAttributeChange),P.bind(D,"DOMNodeRemoved",function(e){e.target===D&&P.remove()}))}!P.ispage&&C.boxzoom&&P.bind(l,"resize",P.resizeZoom),P.istextarea&&(P.bind(P.win,"keydown",P.lazyResize),P.bind(P.win,"mouseup",P.lazyResize)),P.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var I=function(){P.iframexd=!1;var t;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){P.iframexd=!0,t=!1}if(P.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(P.forcescreen=!0,P.isiframe&&(P.iframe={doc:s(t),html:P.doc.contents().find("html")[0],body:P.doc.contents().find("body")[0]},P.getContentSize=function(){return{w:Math.max(P.iframe.html.scrollWidth,P.iframe.body.scrollWidth),h:Math.max(P.iframe.html.scrollHeight,P.iframe.body.scrollHeight)}},P.docscroll=s(P.iframe.body)),!B.isios&&C.iframeautoresize&&!P.isiframe){P.win.scrollTop(0),P.doc.height("");var n=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);P.doc.height(n)}P.lazyResize(30),P.css(s(P.iframe.body),e),B.isios&&P.haswrapper&&P.css(s(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?P.bind(this.contentWindow,"scroll",P.onscroll):P.bind(t,"scroll",P.onscroll),C.enablemousewheel&&P.mousewheel(t,P.onmousewheel),C.enablekeyboard&&P.bind(t,B.isopera?"keypress":"keydown",P.onkeypress),B.cantouch?(P.bind(t,"touchstart",P.ontouchstart),P.bind(t,"touchmove",P.ontouchmove)):C.emulatetouch&&(P.bind(t,"mousedown",P.ontouchstart),P.bind(t,"mousemove",function(e){return P.ontouchmove(e,!0)}),C.grabcursorenabled&&B.cursorgrabvalue&&P.css(s(t.body),{cursor:B.cursorgrabvalue})),P.bind(t,"mouseup",P.ontouchend),P.zoom&&(C.dblclickzoom&&P.bind(t,"dblclick",P.doZoom),P.ongesturezoom&&P.bind(t,"gestureend",P.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){I.call(P.doc[0],!1)},500),P.bind(this.doc,"load",I)}},this.showCursor=function(e,t){if(P.cursortimeout&&(clearTimeout(P.cursortimeout),P.cursortimeout=0),P.rail){if(P.autohidedom&&(P.autohidedom.stop().css({opacity:C.cursoropacitymax}),P.cursoractive=!0),P.rail.drag&&1==P.rail.drag.pt||(void 0!==e&&!1!==e&&(P.scroll.y=e/P.scrollratio.y|0),void 0!==t&&(P.scroll.x=t/P.scrollratio.x|0)),P.cursor.css({height:P.cursorheight,top:P.scroll.y}),P.cursorh){var n=P.hasreversehr?P.scrollvaluemaxw-P.scroll.x:P.scroll.x;P.cursorh.css({width:P.cursorwidth,left:!P.rail.align&&P.rail.visibility?n+P.rail.width:n}),P.cursoractive=!0}P.zoom&&P.zoom.stop().css({opacity:C.cursoropacitymax})}},this.hideCursor=function(e){P.cursortimeout||P.rail&&P.autohidedom&&(P.hasmousefocus&&"leave"===C.autohidemode||(P.cursortimeout=setTimeout(function(){P.rail.active&&P.showonmouseevent||(P.autohidedom.stop().animate({opacity:C.cursoropacitymin}),P.zoom&&P.zoom.stop().animate({opacity:C.cursoropacitymin}),P.cursoractive=!1),P.cursortimeout=0},e||C.hidecursordelay)))},this.noticeCursor=function(e,t,n){P.showCursor(t,n),P.rail.active||P.hideCursor(e)},this.getContentSize=P.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:P.haswrapper?function(){return{w:P.doc[0].offsetWidth,h:P.doc[0].offsetHeight}}:function(){return{w:P.docscroll[0].scrollWidth,h:P.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!P||!P.win)return!1;var n=P.page.maxh,i=P.page.maxw,r=P.view.h,o=P.view.w;if(P.view={w:P.ispage?P.win.width():P.win[0].clientWidth,h:P.ispage?P.win.height():P.win[0].clientHeight},P.page=t||P.getContentSize(),P.page.maxh=Math.max(0,P.page.h-P.view.h),P.page.maxw=Math.max(0,P.page.w-P.view.w),P.page.maxh==n&&P.page.maxw==i&&P.view.w==o&&P.view.h==r){if(P.ispage)return P;var s=P.win.offset();if(P.lastposition){var a=P.lastposition;if(a.top==s.top&&a.left==s.left)return P}P.lastposition=s}return 0===P.page.maxh?(P.hideRail(),P.scrollvaluemax=0,P.scroll.y=0,P.scrollratio.y=0,P.cursorheight=0,P.setScrollTop(0),P.rail&&(P.rail.scrollable=!1)):(P.page.maxh-=C.railpadding.top+C.railpadding.bottom,P.rail.scrollable=!0),0===P.page.maxw?(P.hideRailHr(),P.scrollvaluemaxw=0,P.scroll.x=0,P.scrollratio.x=0,P.cursorwidth=0,P.setScrollLeft(0),P.railh&&(P.railh.scrollable=!1)):(P.page.maxw-=C.railpadding.left+C.railpadding.right,P.railh&&(P.railh.scrollable=C.horizrailenabled)),P.railslocked=P.locked||0===P.page.maxh&&0===P.page.maxw,P.railslocked?(P.ispage||P.updateScrollBar(P.view),!1):(P.hidden||(P.rail.visibility||P.showRail(),P.railh&&!P.railh.visibility&&P.showRailHr()),P.istextarea&&P.win.css("resize")&&"none"!=P.win.css("resize")&&(P.view.h-=20),P.cursorheight=Math.min(P.view.h,Math.round(P.view.h*(P.view.h/P.page.h))),P.cursorheight=C.cursorfixedheight?C.cursorfixedheight:Math.max(C.cursorminheight,P.cursorheight),P.cursorwidth=Math.min(P.view.w,Math.round(P.view.w*(P.view.w/P.page.w))),P.cursorwidth=C.cursorfixedheight?C.cursorfixedheight:Math.max(C.cursorminheight,P.cursorwidth),P.scrollvaluemax=P.view.h-P.cursorheight-(C.railpadding.top+C.railpadding.bottom),P.hasborderbox||(P.scrollvaluemax-=P.cursor[0].offsetHeight-P.cursor[0].clientHeight),P.railh&&(P.railh.width=P.page.maxh>0?P.view.w-P.rail.width:P.view.w,P.scrollvaluemaxw=P.railh.width-P.cursorwidth-(C.railpadding.left+C.railpadding.right)),P.ispage||P.updateScrollBar(P.view),P.scrollratio={x:P.page.maxw/P.scrollvaluemaxw,y:P.page.maxh/P.scrollvaluemax},P.getScrollTop()>P.page.maxh?P.doScrollTop(P.page.maxh):(P.scroll.y=P.getScrollTop()/P.scrollratio.y|0,P.scroll.x=P.getScrollLeft()/P.scrollratio.x|0,P.cursoractive&&P.noticeCursor()),P.scroll.y&&0===P.getScrollTop()&&P.doScrollTo(P.scroll.y*P.scrollratio.y|0),P)},this.resize=P.onResize;var L=0;this.onscreenresize=function(e){clearTimeout(L);var t=!P.ispage&&!P.haswrapper;t&&P.hideRails(),L=setTimeout(function(){P&&(t&&P.showRails(),P.resize()),L=0},120)},this.lazyResize=function(e){return clearTimeout(L),e=isNaN(e)?240:e,L=setTimeout(function(){P&&P.resize(),L=0},e),P},this.jqbind=function(e,t,n){P.events.push({e:e,n:t,f:n,q:!0}),s(e).on(t,n)},this.mousewheel=function(e,t,n){var i="jquery"in e?e[0]:e;if("onwheel"in a.createElement("div"))P._bind(i,"wheel",t,n||!1);else{var r=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";S(i,r,t,n||!1),"DOMMouseScroll"==r&&S(i,"MozMousePixelScroll",t,n||!1)}};var N=!1;if(B.haseventlistener){try{var R=Object.defineProperty({},"passive",{get:function(){N=!0}});l.addEventListener("test",null,R)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,n){this.attachEvent("on"+e,t)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,n){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||l.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||l.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,n,i,r){var o=u[t]||!1;o||(o={a:[],l:[],f:function(e){for(var t=o.l,n=!1,i=t.length-1;i>=0;i--)if(!1===(n=t[i].call(e.target,e)))return!1;return n}},P.bind(e,t,o.f,i,r),u[t]=o),P.ispage?(o.a=[P.id].concat(o.a),o.l=[n].concat(o.l)):(o.a.push(P.id),o.l.push(n))},this.undelegate=function(e,t,n,i,r){var o=u[t]||!1;if(o&&o.l)for(var s=0,a=o.l.length;s<a;s++)o.a[s]===P.id&&(o.a.splice(s),o.l.splice(s),0===o.a.length&&(P._unbind(e,t,o.l.f),u[t]=null))},this.bind=function(e,t,n,i,r){var o="jquery"in e?e[0]:e;P._bind(o,t,n,i||!1,r||!1)},this._bind=function(e,t,n,i,r){P.events.push({e:e,n:t,f:n,b:i,q:!1}),N&&(r||e==window.document||e==window.document.body||e==window)?e.addEventListener(t,n,{passive:!1,capture:i}):e.addEventListener(t,n,i||!1)},this._unbind=function(e,t,n,i){u[t]?P.undelegate(e,t,n,i):e.removeEventListener(t,n,i)},this.unbindAll=function(){for(var e=0;e<P.events.length;e++){var t=P.events[e];t.q?t.e.unbind(t.n,t.f):P._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return P.showRail().showRailHr()},this.showRail=function(){return 0===P.page.maxh||!P.ispage&&"none"==P.win.css("display")||(P.rail.visibility=!0,P.rail.css("display","block")),P},this.showRailHr=function(){return P.railh&&(0===P.page.maxw||!P.ispage&&"none"==P.win.css("display")||(P.railh.visibility=!0,P.railh.css("display","block"))),P},this.hideRails=function(){return P.hideRail().hideRailHr()},this.hideRail=function(){return P.rail.visibility=!1,P.rail.css("display","none"),P},this.hideRailHr=function(){return P.railh&&(P.railh.visibility=!1,P.railh.css("display","none")),P},this.show=function(){return P.hidden=!1,P.railslocked=!1,P.showRails()},this.hide=function(){return P.hidden=!0,P.railslocked=!0,P.hideRails()},this.toggle=function(){return P.hidden?P.show():P.hide()},this.remove=function(){P.stop(),P.cursortimeout&&clearTimeout(P.cursortimeout);for(var e in P.delaylist)P.delaylist[e]&&d(P.delaylist[e].h);P.doZoomOut(),P.unbindAll(),B.isie9&&P.win[0].detachEvent("onpropertychange",P.onAttributeChange),!1!==P.observer&&P.observer.disconnect(),!1!==P.observerremover&&P.observerremover.disconnect(),!1!==P.observerbody&&P.observerbody.disconnect(),P.events=null,P.cursor&&P.cursor.remove(),P.cursorh&&P.cursorh.remove(),P.rail&&P.rail.remove(),P.railh&&P.railh.remove(),P.zoom&&P.zoom.remove();for(var t=0;t<P.saved.css.length;t++){var n=P.saved.css[t];n[0].css(n[1],void 0===n[2]?"":n[2])}P.saved=!1,P.me.data("__nicescroll","");var i=s.nicescroll;i.each(function(e){if(this&&this.id===P.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];--i.length&&delete i[i.length]}});for(var r in P)P[r]=null,delete P[r];P=null},this.scrollstart=function(e){return this.onscrollstart=e,P},this.scrollend=function(e){return this.onscrollend=e,P},this.scrollcancel=function(e){return this.onscrollcancel=e,P},this.zoomin=function(e){return this.onzoomin=e,P},this.zoomout=function(e){return this.onzoomout=e,P},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var n=s(t),i=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(i))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var n=s(t);if(/fixed|absolute/.test(n.css("position")))return n;var i=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight)return n;if(n.getNiceScroll().length>0)return n;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,n,i,r){if(P.onscrollstart){var o={type:"scrollstart",current:{x:e,y:t},request:{x:n,y:i},end:{x:P.newscrollx,y:P.newscrolly},speed:r};P.onscrollstart.call(P,o)}},this.triggerScrollEnd=function(){if(P.onscrollend){var e=P.getScrollLeft(),t=P.getScrollTop(),n={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};P.onscrollend.call(P,n)}};var O=0,_=0,z=0,V=1,F=!1;if(this.onmousewheel=function(e){if(P.wheelprevented||P.locked)return!1;if(P.railslocked)return P.debounced("checkunlock",P.resize,250),!1;if(P.rail.drag)return P.cancelEvent(e);if("auto"===C.oneaxismousemode&&0!==e.deltaX&&(C.oneaxismousemode=!1),C.oneaxismousemode&&0===e.deltaX&&!P.rail.scrollable)return!P.railh||!P.railh.scrollable||P.onmousewheelhr(e);var t=m(),n=!1;if(C.preservenativescrolling&&P.checkarea+600<t&&(P.nativescrollingarea=P.isScrollable(e),n=!0),P.checkarea=t,P.nativescrollingarea)return!0;var i=M(e,!1,n);return i&&(P.checkarea=0),i},this.onmousewheelhr=function(e){if(!P.wheelprevented){if(P.railslocked||!P.railh.scrollable)return!0;if(P.rail.drag)return P.cancelEvent(e);var t=m(),n=!1;return C.preservenativescrolling&&P.checkarea+600<t&&(P.nativescrollingarea=P.isScrollable(e),n=!0),P.checkarea=t,!!P.nativescrollingarea||(P.railslocked?P.cancelEvent(e):M(e,!0,n))}},this.stop=function(){return P.cancelScroll(),P.scrollmon&&P.scrollmon.stop(),P.cursorfreezed=!1,P.scroll.y=Math.round(P.getScrollTop()*(1/P.scrollratio.y)),P.noticeCursor(),P},this.getTransitionSpeed=function(e){return 80+e/72*C.scrollspeed|0},C.smoothscroll)if(P.ishwscroll&&B.hastransition&&C.usetransition&&C.smoothscroll){var j="";this.resetTransition=function(){j="",P.doc.css(B.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var n=t?e:P.getTransitionSpeed(e),i=n+"ms";return j!==i&&(j=i,P.doc.css(B.prefixstyle+"transition-duration",i)),n},this.doScrollLeft=function(e,t){var n=P.scrollrunning?P.newscrolly:P.getScrollTop();P.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=P.scrollrunning?P.newscrollx:P.getScrollLeft();P.doScrollPos(n,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&h(t),P.showCursor(P.getScrollTop(),P.getScrollLeft()),P.notifyScrollEvent(P.win[0])};h(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,n){var i=P.getScrollTop(),r=P.getScrollLeft();if(((P.newscrolly-i)*(t-i)<0||(P.newscrollx-r)*(e-r)<0)&&P.cancelScroll(),C.bouncescroll?(t<0?t=t/2|0:t>P.page.maxh&&(t=P.page.maxh+(t-P.page.maxh)/2|0),e<0?e=e/2|0:e>P.page.maxw&&(e=P.page.maxw+(e-P.page.maxw)/2|0)):(t<0?t=0:t>P.page.maxh&&(t=P.page.maxh),e<0?e=0:e>P.page.maxw&&(e=P.page.maxw)),P.scrollrunning&&e==P.newscrollx&&t==P.newscrolly)return!1;P.newscrolly=t,P.newscrollx=e;var o=P.getScrollTop(),s=P.getScrollLeft(),a={};a.x=e-s,a.y=t-o;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=P.prepareTransition(l);P.scrollrunning||(P.scrollrunning=!0,P.triggerScrollStart(s,o,e,t,c),P.cursorupdate.start()),P.scrollendtrapped=!0,B.transitionend||(P.scrollendtrapped&&clearTimeout(P.scrollendtrapped),P.scrollendtrapped=setTimeout(P.onScrollTransitionEnd,c)),P.setScrollTop(P.newscrolly),P.setScrollLeft(P.newscrollx)},this.cancelScroll=function(){if(!P.scrollendtrapped)return!0;var e=P.getScrollTop(),t=P.getScrollLeft();return P.scrollrunning=!1,B.transitionend||clearTimeout(B.transitionend),P.scrollendtrapped=!1,P.resetTransition(),P.setScrollTop(e),P.railh&&P.setScrollLeft(t),P.timerscroll&&P.timerscroll.tm&&clearInterval(P.timerscroll.tm),P.timerscroll=!1,P.cursorfreezed=!1,P.cursorupdate.stop(),P.showCursor(e,t),P},this.onScrollTransitionEnd=function(){if(P.scrollendtrapped){var e=P.getScrollTop(),t=P.getScrollLeft();if(e<0?e=0:e>P.page.maxh&&(e=P.page.maxh),t<0?t=0:t>P.page.maxw&&(t=P.page.maxw),e!=P.newscrolly||t!=P.newscrollx)return P.doScrollPos(t,e,C.snapbackspeed);P.scrollrunning&&P.triggerScrollEnd(),P.scrollrunning=!1,P.scrollendtrapped=!1,P.resetTransition(),P.timerscroll=!1,P.setScrollTop(e),P.railh&&P.setScrollLeft(t),P.cursorupdate.stop(),P.noticeCursor(!1,e,t),P.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var n=P.scrollrunning?P.newscrolly:P.getScrollTop();P.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=P.scrollrunning?P.newscrollx:P.getScrollLeft();P.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var i=P.getScrollTop(),r=P.getScrollLeft();((P.newscrolly-i)*(t-i)<0||(P.newscrollx-r)*(e-r)<0)&&P.cancelScroll();var o=!1;if(P.bouncescroll&&P.rail.visibility||(t<0?(t=0,o=!0):t>P.page.maxh&&(t=P.page.maxh,o=!0)),P.bouncescroll&&P.railh.visibility||(e<0?(e=0,o=!0):e>P.page.maxw&&(e=P.page.maxw,o=!0)),P.scrollrunning&&P.newscrolly===t&&P.newscrollx===e)return!0;P.newscrolly=t,P.newscrollx=e,P.dst={},P.dst.x=e-r,P.dst.y=t-i,P.dst.px=r,P.dst.py=i;var s=0|Math.sqrt(P.dst.x*P.dst.x+P.dst.y*P.dst.y),a=P.getTransitionSpeed(s);P.bzscroll={};var l=o?1:.58;P.bzscroll.x=new D(r,P.newscrollx,a,0,0,l,1),P.bzscroll.y=new D(i,P.newscrolly,a,0,0,l,1);m();var c=function(){if(P.scrollrunning){var e=P.bzscroll.y.getPos();P.setScrollLeft(P.bzscroll.x.getNow()),P.setScrollTop(P.bzscroll.y.getNow()),e<=1?P.timer=h(c):(P.scrollrunning=!1,P.timer=0,P.triggerScrollEnd())}};P.scrollrunning||(P.triggerScrollStart(r,i,e,t,a),P.scrollrunning=!0,P.timer=h(c))},this.cancelScroll=function(){return P.timer&&d(P.timer),P.timer=0,P.bzscroll=!1,P.scrollrunning=!1,P};else this.doScrollLeft=function(e,t){var n=P.getScrollTop();P.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=P.getScrollLeft();P.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var i=e>P.page.maxw?P.page.maxw:e;i<0&&(i=0);var r=t>P.page.maxh?P.page.maxh:t;r<0&&(r=0),P.synched("scroll",function(){P.setScrollTop(r),P.setScrollLeft(i)})},this.cancelScroll=function(){};this.doScrollBy=function(e,t){w(0,e)},this.doScrollLeftBy=function(e,t){w(e,0)},this.doScrollTo=function(e,t){var n=t?Math.round(e*P.scrollratio.y):e;n<0?n=0:n>P.page.maxh&&(n=P.page.maxh),P.cursorfreezed=!1,P.doScrollTop(e)},this.checkContentSize=function(){var e=P.getContentSize();e.h==P.page.h&&e.w==P.page.w||P.resize(!1,e)},P.onscroll=function(e){P.rail.drag||P.cursorfreezed||P.synched("scroll",function(){P.scroll.y=Math.round(P.getScrollTop()/P.scrollratio.y),P.railh&&(P.scroll.x=Math.round(P.getScrollLeft()/P.scrollratio.x)),P.noticeCursor()})},P.bind(P.docscroll,"scroll",P.onscroll),this.doZoomIn=function(e){if(!P.zoomactive){P.zoomactive=!0,P.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],n=P.win[0].style;for(var i in t){var r=t[i];P.zoomrestore.style[r]=void 0!==n[r]?n[r]:""}P.zoomrestore.style.width=P.win.css("width"),P.zoomrestore.style.height=P.win.css("height"),P.zoomrestore.padding={w:P.win.outerWidth()-P.win.width(),h:P.win.outerHeight()-P.win.height()},B.isios4&&(P.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),P.win.css({position:B.isios4?"absolute":"fixed",top:0,left:0,zIndex:o+100,margin:0});var s=P.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&P.win.css("backgroundColor","#fff"),P.rail.css({zIndex:o+101}),P.zoom.css({zIndex:o+102}),P.zoom.css("backgroundPosition","0 -18px"),P.resizeZoom(),P.onzoomin&&P.onzoomin.call(P),P.cancelEvent(e)}},this.doZoomOut=function(e){if(P.zoomactive)return P.zoomactive=!1,P.win.css("margin",""),P.win.css(P.zoomrestore.style),B.isios4&&c.scrollTop(P.zoomrestore.scrollTop),P.rail.css({"z-index":P.zindex}),P.zoom.css({"z-index":P.zindex}),P.zoomrestore=!1,P.zoom.css("backgroundPosition","0 0"),P.onResize(),P.onzoomout&&P.onzoomout.call(P),P.cancelEvent(e)},this.doZoom=function(e){return P.zoomactive?P.doZoomOut(e):P.doZoomIn(e)},this.resizeZoom=function(){if(P.zoomactive){var e=P.getScrollTop();P.win.css({width:c.width()-P.zoomrestore.padding.w+"px",height:c.height()-P.zoomrestore.padding.h+"px"}),P.onResize(),P.setScrollTop(Math.min(P.page.maxh,e))}},this.init(),s.nicescroll.push(this)},b=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,n){t.stop(),t.steptime=0,t.lasttime=m(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=n,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,n){var i=m();t.steptime=i-t.lasttime,t.lasttime=i;var r=n-t.lasty,o=e-t.lastx,s=t.nc.getScrollTop()+r,a=t.nc.getScrollLeft()+o;t.snapx=a<0||a>t.nc.page.maxw,t.snapy=s<0||s>t.nc.page.maxh,t.speedx=o,t.speedy=r,t.lastx=e,t.lasty=n},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,n){var i=!1;n<0?(n=0,i=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,i=!0),e<0?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i?t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var n=m(),i=e?n+e:t.lasttime,r=t.nc.getScrollLeft(),o=t.nc.getScrollTop(),s=t.nc.page.maxh,a=t.nc.page.maxw;t.speedx=a>0?Math.min(60,t.speedx):0,t.speedy=s>0?Math.min(60,t.speedy):0;var l=i&&n-i<=60;(o<0||o>s||r<0||r>a)&&(l=!1);var c=!(!t.speedy||!l)&&t.speedy,u=!(!t.speedx||!l)&&t.speedx;if(c||u){var h=Math.max(16,t.steptime);if(h>50){var d=h/50;t.speedx*=d,t.speedy*=d,h=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var f=t.lastscrollx,p=t.lastscrolly,g=function(){var e=m()-n>600?.04:.02;t.speedx&&(f=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=f,(f<0||f>a)&&(e=.1)),t.speedy&&(p=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=p,(p<0||p>s)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){if(t.speedx){t.nc.getScrollLeft();t.chkx=f,t.nc.setScrollLeft(f)}if(t.speedy){t.nc.getScrollTop();t.chky=p,t.nc.setScrollTop(p)}t.timer||(t.nc.hideCursor(),t.doSnapy(f,p))}),t.demulxy<1?t.timer=setTimeout(g,h):(t.stop(),t.nc.hideCursor(),t.doSnapy(f,p))};g()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,n){var i=s.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollTop():x.call(e)},set:function(e,t){var n=s.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each(function(){var t=s.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(s(this),e)})};var S=e.fn.scrollLeft;s.cssHooks.pageXOffset={get:function(e,t,n){var i=s.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollLeft():S.call(e)},set:function(e,t){var n=s.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):S.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():S.call(this)}return this.each(function(){var t=s.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):S.call(s(this),e)})};var w=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return s.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var n=0;n<e.length;n++){var i=s.data(e[n],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,n){for(var i=0,r=t.length;i<r;i++)n(e,t[i])}(w.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new w(this):this[e]&&s.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==s.data(e,"__nicescroll")},s.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var n=new w;return this.each(function(){var i=s(this),r=s.extend({},t);if(e){var o=s(e);r.doc=o.length>1?s(e,i):o,r.win=i}!("doc"in r)||"win"in r||(r.win=i);var a=i.data("__nicescroll")||!1;a||(r.doc=r.doc||i,a=new T(r,i),i.data("__nicescroll",a)),n.push(a)}),1===n.length?n[0]:n},l.NiceScroll={getjQuery:function(){return e}},s.nicescroll||(s.nicescroll=new w,s.nicescroll.options=g)}(pt)}()});class mt{constructor(e){this.app=e,this.header=pt("header"),this.ele=pt(".content-area"),this.clickCloseDomContentsHandler=this.onClickCloseDomContentsButton.bind(this),this.clickJSContentsHandler=this.onClickJSContentsButton.bind(this),this.clickCloseJSContentsHandler=this.onClickCloseJSContentsButton.bind(this)}createCloseButton(){let e=pt("<a href='#'>");return e.addClass("btn-close"),e}getCloseButton(){let e=document.querySelector(".btn-close");return e||(e=this.createCloseButton(),gsap.from(e,{alpha:0}),this.header.append(e)),pt(e)}setData(e){let t=pt("<div>");t.addClass("content-frame");let n=e.title,i=e.description,r=e.summary,o=e.relation,s=e.url,a=e.component;if(n&&t.append(this.getTitleElement(n)),i&&t.append(this.getDescriptionElement(i)),r&&t.append(this.getSummaryElement(r)),s&&t.append(this.getLinkElement(s)),a){let e=this.getComponentElement(a);t.append(e)}o&&(o.movie&&(t.append(this.getRelationMovieElement(o)),this.ele.append(t),this.initScroll()),o.images&&(this.getRelationImageElement(o).then(e=>{let n=pt(`<div class="image-box">`);e.forEach(e=>{n.append(e)});t.append(n);this.initScroll()}),this.ele.append(t)))}initScroll(){let e=pt("html").niceScroll({cursorwidth:6,cursorborder:"0",touchbehavior:this.app.assets.mobile()});e.resize(),e.onscrollend=(e=>{let t=e.current.y;this.toggleTopElement(t>=100)}),pt(".btn-top").on("click touchend",()=>{console.log("click");e.doScrollTop(0,100)})}toggleTopElement(e){e?gsap.to(".btn-top",{alpha:1,duration:.5}):gsap.to(".btn-top",{alpha:0,duration:.5})}getLinkElement(e){let t=pt(`<a class="lanucher" target="_blank">`);return t.attr("href",e),t.text("lanuch"),t}getComponentElement(e){let t=pt(`<button class="btn-view">`);return t.data("comp",e),t.text("view"),t}getSpanElementFromInfo(e){let t=pt("<span>");return t.html(e),t}getTitleElement(e){let t=pt("<h3>");return t.addClass("title"),t.text(e),t}getSummaryElement(e){let t=pt("<ul>");t.addClass("summary-box");let n,i,r=`<li>\r\n            <div class="label"></div>\r\n            <div class="description"></div>\r\n        </li>`;if(e.environment){let o=pt(r);n=o.find(".label"),i=o.find(".description"),n.append(this.getSpanElementFromInfo("작업 환경")),i.append(this.getSpanElementFromInfo(e.environment)),t.append(o)}if(e.implements){let o=pt(r);n=o.find(".label"),i=o.find(".description"),n.append(this.getSpanElementFromInfo("구현 내용"));let s;e.implements.forEach(e=>{s=this.getSpanElementFromInfo(e);i.append(s)}),t.append(o)}return t}getDescriptionElement(e){let t=pt("<p>"),n="";return e.forEach((e,t)=>{n+=e;n+="<br/>"}),t.html(n),t}getRelationMovieElement(e){let t=pt(`\r\n            <div class="movie-box">\r\n                <div class="movie-frame">\r\n                    <iframe class="y-player" allowfullscreen="allowfullscreen">\r\n                    </iframe>\r\n                </div>\r\n            </div>\r\n        `),n=t.find(".y-player");return n.attr("src",e.movie.src),n.attr("allow",e.movie.allow),t}getRelationImageElement(e){e.images.length;let t,n=[];return new Promise((i,r)=>{function o(e){let r=e.shift();(t=pt("<img>")).on("load",t=>{n.push(t.currentTarget);0==e.length?i(n):o(e)}),t.attr("src",r)}o(e.images.concat())})}onCompleteRelationImages(e){let t=pt("<div>");e.forEach(e=>{t.append(e)})}appendDomcontentsEvent(){this.getCloseButton().one("mousedown touchstart",this.clickCloseDomContentsHandler),this.ele.find(".btn-view").on("mousedown touchstart",this.clickJSContentsHandler)}appendJSContentsEvent(){this.getCloseButton().off("mousedown touchstart").one("mousedown touchstart",this.clickCloseJSContentsHandler)}clearButtonEvent(){this.getCloseButton().off("mousedown touchstart")}clearCloseButton(){let e=this.getCloseButton();gsap.to(e,{alpha:0,duration:.4,onComplete:()=>{e.remove()}})}clear(){this.ele.empty(),pt("html").getNiceScroll().resize()}onClickCloseDomContentsButton(){_.domContentsOut.dispatch()}onClickCloseJSContentsButton(){_.jsContentsOut.dispatch()}onClickJSContentsButton(e){_.jsContentsIn.dispatch(pt(e.currentTarget).data("comp"))}}let gt=200,vt=20;class yt{constructor(e){this.ele=e||document.querySelector("#visual-container-scrollbar"),this.canvas=document.createElement("canvas");let t=window.devicePixelRatio||1;gt/=t,vt/=t,this.pixiApp=new PIXI.Application({view:this.canvas,width:gt,height:vt,transparent:!0,resolution:t}),this.thumb=new PIXI.Graphics,this.thumb.beginFill(16711680,1),this.thumbWidth=.1*gt;let n=.1*vt;this.thumb.drawRect(0,vt/2,this.thumbWidth,n),this.scrollBar=new PIXI.Graphics,this.scrollBar.beginFill(16777215),this.scrollBar.drawRect(0,vt/2,gt,n),this.viewContainer=new PIXI.Container,this.viewContainer.hitArea=new PIXI.Rectangle(0,0,gt,vt),this.viewContainer.interactive=!0,this.viewContainer.buttonMode=!0,this.viewContainer.addChild(this.scrollBar),this.viewContainer.addChild(this.thumb),this.pixiApp.stage.addChild(this.viewContainer),this.ele.appendChild(this.pixiApp.view),this.mouseUpHandler=this.onMouseUp.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.mouseMoveHandler=this.onMouseMove.bind(this),this.viewContainer.on("pointerdown",this.mouseDownHandler),this.viewContainer.on("pointerup",this.mouseUpHandler),this.viewContainer.on("pointerupoutside",this.mouseUpHandler),this.viewContainer.on("pointermove",this.mouseMoveHandler),this.viewContainer.alpha=0,this.viewContainer.visible=!1,_.listScrollChange.add(e=>{this.syncThumbByListPosition(e)}),this.dragging=!1,this.resize()}resize(){let e=O();this.pixiApp.renderer.resize(gt,vt),this.ele.style.top=`${e.h-30}px`,this.ele.style.left=`${(e.w-this.pixiApp.view.width)/2}px`}hideTransition(){t.to(this.viewContainer,{alpha:0,onComplete:()=>{this.viewContainer.visible=!1}})}showTransition(){t.to(this.viewContainer,{alpha:1,onCompleate:()=>{this.viewContainer.visible=!0}})}syncThumbByListPosition(e){let t=e*(gt-this.thumbWidth);this.thumb.x=t}syncThumb(e){let t=e.data.getLocalPosition(this.viewContainer),n=.5*this.thumbWidth,i=gt-this.thumbWidth,r=Math.max(0,Math.min(1,(t.x-n)/i)),o=r*i;return this.thumb.x=o,r}onMouseMove(e){if(this.dragging){let t=this.syncThumb(e);_.scrollBarChange.dispatch(t)}}onMouseDown(e){this.dragging=!0;let t=this.syncThumb(e);_.scrollBarChange.dispatch(t)}onMouseUp(e){this.dragging=!1}destroy(){this.viewContainer.off("pointerdown",this.mouseDownHandler),this.viewContainer.off("pointerup",this.mouseUpHandler),this.viewContainer.off("pointerupoutside",this.mouseUpHandler),this.viewContainer.off("pointermove",this.mouseMoveHandler),this.pixiApp.destroy(!0,{children:!0})}}const Tt=Math.PI/120;let bt=1,xt=Math.PI;class St{constructor(e){this.app=e,this.assets=e.assets,this.scene,this.camera,this.screen,this.startRotate=!1,this.sceneChangeHandler=this.onSceneChange.bind(this),this.init()}initThree(){this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,0,500)}initTarget(){let t=new e.TorusGeometry(20,6,60,120),n=new e.MeshPhongMaterial({color:15248758,shininess:20,opacity:.96,transparent:!0});this.screen=new e.Mesh(t,n),this.scene.add(this.screen);let i=new e.DirectionalLight(16777215,.1);i.position.set(0,200,0),this.scene.add(i);let r=new e.DirectionalLight(16777215,.2);r.position.set(0,0,300),this.scene.add(r),this.scene.add(new e.AmbientLight(10377240))}initLabel(){let t=this.assets.get("fontTexture"),n=this.assets.get("font"),i=qe({font:n,text:"now loading",align:"center",flipY:t.flipY}),r=new e.RawShaderMaterial(Ke({transparent:!0,side:e.FrontSide,map:t,color:"rgb(255,255,255)",negate:!1})),o=new e.Mesh(i,r);o.rotation.set(Math.PI,0,0),o.scale.set(.2,.2,1);let s=i.layout;o.position.x=-.2*s.width*.5,o.position.y=-(32+.2*s.height),i.computeBoundingBox(),o.updateMatrixWorld(),this.label=o,this.scene.add(this.label)}clearTarget(){this.scene.children.forEach(e=>{e.geometry&&e.geometry.dispose();e.material&&e.material.dispose();this.scene.remove(e)}),this.screen=null}initComposer(){this.renderPass=new ee(this.scene,this.camera),this.effectPass=new se(this.camera,this.app.cursorEffect)}initEventListener(){_.sceneChanged.add(this.sceneChangeHandler)}startTransition(){}stopTransition(){}show(){this.initTarget(),this.initLabel();let e=t.timeline({defaults:{duration:.5},onComplete:()=>{this.startRotate=!0}});e.from(this.screen.scale,{z:.001,x:.001,y:.001,ease:"expo.out",duration:1,delay:1}),e.from(this.label.scale,{y:.001,ease:"expo.out",duration:1,delay:1},"<")}hide(){return this.startRotate=!1,new Promise(e=>{let n=t.timeline({defaults:{duration:.5},onComplete:()=>{e()}});n.to(this.screen.rotation,{x:0});n.to(this.screen.scale,{z:.001,x:.001,y:.001,ease:"expo.out"});n.to(this.label.scale,{y:.001,ease:"expo.out"},"<")})}twist(t,n){const i=new e.Quaternion;for(let r=0;r<t.vertices.length;r++)i.setFromAxisAngle(new e.Vector3(1,0,0),Math.PI/180*(t.vertices[r].x/n)),t.vertices[r].applyQuaternion(i);t.verticesNeedUpdate=!0}onSceneChange(e){e.in==this?(this.show(),this.app.addPass(this)):e.out==this&&(this.clearTarget(),this.app.removePass(this))}init(){this.initThree(),this.initComposer(),this.initEventListener()}render(){this.screen&&this.startRotate&&(this.screen.rotation.x-=Tt*bt,console.log(Math.abs(this.screen.rotation.x/Math.PI),Tt),this.label.material.uniforms.opacity.value>=1?this.label.material.uniforms.opacity.value=0:this.label.material.uniforms.opacity.value+=Tt,(xt-=Tt)<=0&&(xt=Math.PI,bt*=-1),this.twist(this.screen.geometry,(xt>=Math.PI/2?-120:120)*bt))}resize(){}}class wt{constructor(e){this.assets=e,this.ele,this.renderer,this.clock,this.appData,this.screenTexture,this.cursorEffect,this.toggleScene=!1,this.backgroundColor="#000000",this.mouse={x:0,y:0},this.prevMouse={x:0,y:0},this.targetMouse={x:0,y:0},this.prevTargetMouse={x:0,y:0},this._displayTarget=null,this.contentArea=pt(".content-area"),this.header=pt("header"),this.transition=new Mt,this.contentsView=new mt(this),this.navContainerEle,this.animateID,this.navClickHandler=this.onClickNavItem.bind(this),this.animateHandler=this.animate.bind(this),this.mouseMoveHandler=this.onMouseMove.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.mouseUpHandler=this.onMouseUp.bind(this),this.touchStartHandler=this.onTouchStart.bind(this),this.touchEndHandler=this.onTouchEnd.bind(this),this.touchMoveHandler=this.onTouchMove.bind(this),this.pictureTransitionEndHandler=this.onPictureTransitionEnd.bind(this),this.clickCloseDomContentsHandler=this.onClickCloseDomContentsButton.bind(this),this.clickJSContentsHandler=this.onClickJSContentsButton.bind(this),this.clickCloseJSContentsHandler=this.onClickCloseJSContentsButton.bind(this),this.updateBGColorHandler=this.onChangeBGColor.bind(this),this.introEndHandler=this.onIntroEnd.bind(this),this.scroller=new yt,this.classes={DisplacementGLSL:it,ParticleGLSL:rt,RecursiveTreeGLSL:ot,ChannelMixGLSL:ft},this.init()}onChangeBGColor(e){t.to(this,{backgroundColor:e,onUpdate:()=>{this.renderer.setClearColor(this.backgroundColor)}})}createCloseButton(){let e=pt("<a href='#'>");return e.addClass("btn-close"),e}initEventListener(){document.addEventListener("mousemove",this.mouseMoveHandler,!1),document.addEventListener("touchmove",this.touchMoveHandler,!1),this.isMobile()?(this.renderer.domElement.addEventListener("touchstart",this.touchStartHandler,!1),document.addEventListener("touchend",this.touchEndHandler,!1)):(this.renderer.domElement.addEventListener("mousedown",this.mouseDownHandler,!1),document.addEventListener("mouseup",this.mouseUpHandler,!1)),_.pictureTransitionEnded.add(this.pictureTransitionEndHandler),_.jsContentsOut.add(this.clickCloseJSContentsHandler),_.domContentsOut.add(this.clickCloseDomContentsHandler),_.jsContentsIn.add(this.clickJSContentsHandler),_.updateBgColor.add(this.updateBGColorHandler),_.introEnded.add(this.introEndHandler),_.pictureTransitionStarted.add(e=>{e.focus?this.scroller.showTransition():this.scroller.hideTransition()})}registResizeEvent(){pt(window).on("resize",Ye.debounce(()=>{this.resize()},100))}initCursorTexture(){this.screenTexture=new F,this.screenTexture.resize(128,128),this.screenTexture.texture.anisotropy=this.renderer.capabilities.getMaxAnisotropy()}initRenderer(){this.ele=document.getElementById("glsl-viewer"),this.renderer=new e.WebGLRenderer({canvas:this.ele,antialias:!0,transparent:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.backgroundColor),this.clock=new e.Clock,this.raycaster=new e.Raycaster}initComposer(){this.cursorEffect=new ue(this.screenTexture.texture),this.composer=new ce(this.renderer)}initDisplayWithData(e){let t=new Qe(this);t.setDataProvider(e),this.displayTarget=t}initMenu(e){this.navContainerEle=pt(".navigation");let n,i=pt("<ul>");for(let t=0;t<e.length;t++){let r=e[t];(n=pt(`<li><button class="nav-item">${r.label}</button></li>`)).on("click touchend",this.navClickHandler),i.append(n)}this.navContainerEle.append(i),t.from(this.navContainerEle,{alpha:0})}init(){this.initRenderer(),this.initCursorTexture(),this.initComposer(),this.animate(),this.initEventListener(),this.progressView=new St(this),this.displayTarget=this.progressView}start(e){this.appData=e,this.progressView.hide().then(()=>{this.initDisplayWithData(e)})}onIntroEnd(){this.initMenu(this.appData),this.scroller.showTransition(),this.registResizeEvent()}onClickNavItem(e){let t=pt(e.currentTarget).index();_.menuChanged.dispatch(t)}isMobile(){return this.assets.mobile()}onMouseDown(e){this.isMobile()||e.preventDefault(),this.updateMouesPosition(e),_.mouseDown.dispatch({originalEvent:e,uv:this.mouse}),this.prevMouse=e}updateMouesPosition(e){this.mouse.x=e.clientX/pt(this.ele).width(),this.mouse.y=e.clientY/pt(this.ele).height()}mouseMoveCommnd(e){this.updateMouesPosition(e),this.screenTexture.addPoint(this.targetMouse),_.mouseMove.dispatch({originalEvent:e,uv:this.mouse})}onMouseMove(e){this.isMobile()||e.preventDefault(),this.mouseMoveCommnd(e),this.prevMouse=e}onMouseUp(e){this.isMobile()||e.preventDefault(),_.mouseUp.dispatch({originalEvent:e,uv:this.mouse,prevTargetUv:this.prevTargetMouse})}cursorUpdate(){let e=V(this.mouse,this.targetMouse,.99,.35);this.targetMouse.x+=e.x,this.targetMouse.y+=e.y,this.prevTargetMouse={x:this.mouse.x,y:this.mouse.y}}onTouchStart(e){e.preventDefault(),e.touches.length>0&&this.onMouseDown(e.touches[0])}onTouchEnd(e){e.preventDefault(),this.onMouseUp(this.prevMouse)}onTouchMove(e){e.touches.length>0&&this.mouseMoveCommnd(e.touches[0])}onPictureTransitionEnd(e){e.focus&&(this.transition.target=e,this.transition.show(()=>{this.transitionInSwitchContents()},()=>{this.onCompleteTransitionInContents()}))}transitionInSwitchContents(){t.to(this.navContainerEle,{autoAlpha:0});let e=this.transition.target;this.contentsView.setData(e.vo)}transitionOutSwitchContents(){t.to(this.navContainerEle,{autoAlpha:1}),this.removeDomContents()}getCloseButton(){let e=document.querySelector(".btn-close");return e||(e=this.createCloseButton(),t.from(e,{alpha:0}),this.header.append(e)),pt(e)}removeDomContents(){this.contentsView.clear()}onCompleteTransitionInContents(){this.contentsView.appendDomcontentsEvent()}onCompleteTransitionOutContents(){_.contentClosed.dispatch()}onClickCloseDomContentsButton(){this.contentsView.clearCloseButton(),this.transition.hide(()=>{this.transitionOutSwitchContents()},()=>{this.onCompleteTransitionOutContents()})}onClickCloseJSContentsButton(){this.contentsView.clearCloseButton(),this.transition.hide(()=>{this.displayTarget=this.prevDisplay;this.removeDomContents()},()=>{this.onCompleteTransitionOutContents()})}onClickJSContentsButton(e){this.transition.hide(()=>{this.removeDomContents();let t=new this.classes[e.name](this);t.setData(e);this.displayTarget=t},()=>{this.contentsView.appendJSContentsEvent()})}render(){this.cursorUpdate(),this.screenTexture.update(),this.displayTarget&&this.displayTarget.render(),this.composer.render(this.clock.getDelta())}animate(){this.render(),this.animateID=requestAnimationFrame(this.animateHandler)}resize(){let e=window.innerWidth,t=window.innerHeight;this.renderer.setSize(e,t),this.composer.setSize(e,t),this.scroller.resize(),this.displayTarget&&this.displayTarget.resize()}removePass(e){e.renderPass.enabled=!1,e.effectPass.enabled=!1,e.effectPass.renderToScreen=!1,this.composer.removePass(e.renderPass),this.composer.removePass(e.effectPass)}addPass(e){e.renderPass.enabled=!0,e.effectPass.enabled=!0,e.effectPass.renderToScreen=!0,this.composer.addPass(e.renderPass),this.composer.addPass(e.effectPass)}set displayTarget(e){let t=this.displayTarget;this.prevDisplay=t,this._displayTarget=e,_.sceneChanged.dispatch({in:e,out:t}),this.resize()}get displayTarget(){return this._displayTarget}}class Mt{constructor(){this.cover=document.getElementById("transition-cover"),t.set(this.cover,{alpha:0}),this.inTimeline,this.outTimeline,this.target=null}show(e,n){t.killTweensOf(this.cover),this.inTimeline=t.timeline({defaults:{duration:1,ease:"power1.out"},onComplete:()=>{this.cover.classList.remove("active");null!=n&&n.apply(null)}}),this.inTimeline.fromTo(this.cover,{alpha:1},{alpha:0},"+=.2"),this.inTimeline.call(()=>{this.cover.classList.add("active");e.apply()},null,"<-.1")}hide(e,n){t.killTweensOf(this.cover),this.outTimeline=t.timeline({defaults:{duration:.6,ease:"power1.out"},onStart:()=>{this.cover.classList.add("active")},onComplete:()=>{this.cover.classList.remove("active");null!=n&&n.apply(null)}}),this.outTimeline.fromTo(this.cover,{alpha:0},{alpha:1}),this.outTimeline.call(e),this.outTimeline.to(this.cover,{alpha:0,duration:.4,ease:"none"},"<")}}console.warn=function(){};const Pt=new L(window.navigator.userAgent);console.log("md.mobile",Pt.mobile(),Pt.phone());const At={assetList:{},get:e=>At.assetList[e],set:(e,t)=>{At.assetList[e]=t},loadImageTextureAssets:t=>{let n=t instanceof String?[t]:t.concat();let i=n.concat();return new Promise((t,r)=>{n.forEach(n=>{let r=new e.TextureLoader;let o=z(n);r.load(n,e=>{At.set(o,e);i.splice(i.indexOf(n),1);0==i.length&&t()})})})},loadFontAssets:()=>new Promise(t=>{let n=new e.TextureLoader;n.load("./assets/font/MONACO.png",e=>{At.set("fontTexture",e);t()})}),mobile:()=>Pt.mobile()};At.set("font",D);let Ct=[];Ct.push("./assets/images/title.jpg");for(let e=0;e<I.length;e++){let t=I[e],n=t.items;for(let e=0;e<n.length;e++){let t=n[e];if(Ct.push(t.thumb),t.component){let e=t.component.resources;e&&e.length>0&&e.forEach(e=>{Ct.push(e)})}}}let Et;At.loadFontAssets().then(()=>{Et=new wt(At)}),Promise.all([At.loadImageTextureAssets(Ct)]).then(()=>{setTimeout(()=>{Et.start(I.reverse())},5e3)})}(THREE,gsap);
